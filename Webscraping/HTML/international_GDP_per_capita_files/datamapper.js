if(function(t,e){"use strict";function i(t,e,i){var a={};return a[t.key]=e,t.pos&&(a[t.pos]=i),a}function a(t,e){Object.keys(t.tags).forEach(function(i){var a=t.tags[i];L(a)?u(a,function(t){k(t,i,e)}):k(a,i,e)})}function r(t,e,i){var a,r=t._root;for(t._virts=[];r;)a=r.nextSibling,i?e.insertBefore(r,i._root):e.appendChild(r),t._virts.push(r),r=a}function n(t,e,i,a){for(var r,n=t._root,o=0;o<a;o++)r=n.nextSibling,e.insertBefore(n,i._root),n=r}function o(t,e,o){g(t,"each");var s,l=typeof b(t,"no-reorder")!==q||g(t,"no-reorder"),c=S(t),p=X[c]||{tmpl:function(t){if(t.outerHTML)return t.outerHTML;var e=I("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t)},h=$.test(c),u=t.parentNode,m=document.createTextNode(""),f=y(t),v="option"===c.toLowerCase(),x=[],w=[],k="VIRTUAL"==t.tagName;o=it.loopKeys(o),u.insertBefore(m,t),e.one("before-mount",function(){t.parentNode.removeChild(t),u.stub&&(u=e.root)}).on("update",function(){var g=it(o.val,e),b=document.createDocumentFragment();L(g)||(g=(s=g||!1)?Object.keys(g).map(function(t){return i(o,t,g[t])}):[]);for(var y=0,M=g.length;y<M;y++){var S=g[y],C=l&&typeof S==V&&!s,A=w.indexOf(S),E=~A&&C?A:y,z=x[E];S=!s&&o.key?i(o,S,y):S,!C&&!z||C&&!~A||!z?((z=new d(p,{parent:e,isLoop:!0,hasImpl:!!X[c],root:h?u:t.cloneNode(),item:S},t.innerHTML)).mount(),k&&(z._root=z.root.firstChild),y!=x.length&&x[y]?(k?r(z,u,x[y]):u.insertBefore(z.root,x[y].root),w.splice(y,0,S)):k?r(z,b):b.appendChild(z.root),x.splice(y,0,z),E=y):z.update(S,!0),E!==y&&C&&x[y]&&(k?n(z,u,x[y],t.childNodes.length):u.insertBefore(z.root,x[y].root),o.pos&&(z[o.pos]=y),x.splice(y,0,x.splice(E,1)[0]),w.splice(y,0,w.splice(E,1)[0]),!f&&z.tags&&a(z,y)),z._item=S,T(z,"_parent",e)}if(function(t,e){for(var i,a=e.length,r=t.length;a>r;)i=e[--a],e.splice(a,1),i.unmount()}(g,x),u.insertBefore(b,m),v&&tt&&!u.multiple)for(var P=0;P<u.length;P++)if(u[P].__riot1374){u.selectedIndex=P,delete u[P].__riot1374;break}f&&(e.tags[c]=x),w=g.slice()})}function s(t,e,i,a){P(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||b(t,"each")?1:0,i){var r=y(t);r&&!t.isLoop&&i.push(function(t,e,i,a){var r=new d(t,e,i),n=S(e.root),o=M(a);return r.parent=o,r._parent=a,w(r,n,o),o!==a&&w(r,n,a),e.root.innerHTML="",r}(r,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!a||function(t,e,i){var a,r=B(t),n=function(n){A(i,r)||(a=L(n),n?(!a||a&&!A(n,t))&&(a?n.push(t):e[r]=[n,t]):e[r]=t)};r&&(it.hasExpr(r)?e.one("mount",function(){r=B(t),n(e[r])}):n(e[r]))}(t,e,[])}})}function l(t,e,i){function a(t,e,a){it.hasExpr(e)&&i.push(C({dom:t,expr:e},a))}P(t,function(t){var i,r=t.nodeType;if(3==r&&"STYLE"!=t.parentNode.tagName&&a(t,t.nodeValue),1==r)return(i=b(t,"each"))?(o(t,e,i),!1):(u(t.attributes,function(e){var i=e.name,r=i.split("__")[1];if(a(t,e.value,{attr:r||i,bool:r}),r)return g(t,i),!1}),!y(t)&&void 0)})}function d(t,i,a){function r(){var t=w&&y?c:b||c;u(I.attributes,function(e){var i=e.value;p[v(e.name)]=it.hasExpr(i)?it(i,t):i}),u(Object.keys(D),function(e){p[v(e)]=it(D[e],t)})}function n(t){c.update(t,!0)}function o(t){if(u(P,function(e){e[t?"mount":"unmount"]()}),b){var e=t?"on":"off";y?b[e]("unmount",c.unmount):b[e]("update",n)[e]("unmount",c.unmount)}}var d,c=R.observable(this),p=function(t){function e(){}return e.prototype=t,new e}(i.opts)||{},b=i.parent,y=i.isLoop,w=i.hasImpl,k=z(i.item),S=[],P=[],I=i.root,N=I.tagName.toLowerCase(),D={},B=[];t.name&&I._tag&&I._tag.unmount(!0),this.isMounted=!1,I.isLoop=y,I._tag=this,T(this,"_riot_id",++F),C(this,{parent:b,root:I,opts:p},k),T(this,"tags",{}),u(I.attributes,function(t){var e=t.value;it.hasExpr(e)&&(D[t.name]=e)}),d=at(t.tmpl,a),T(this,"update",function(t,e){return t=z(t),c.parent&&y&&u(Object.keys(c.parent),function(t){var e=!Z.test(t)&&A(B,t);(typeof c[t]===U||e)&&(e||B.push(t),c[t]=c.parent[t])}),t&&f(k)&&(function(t){for(var e in k)typeof c[e]!==U&&E(c,e)&&(c[e]=t[e])}(t),k=t),C(c,t),r(),c.trigger("update",t),h(S,c),e&&c.parent?c.parent.one("updated",function(){c.trigger("updated")}):nt(function(){c.trigger("updated")}),this}),T(this,"mixin",function(){return u(arguments,function(t){var e,i,a=[];t=typeof t===q?R.mixin(t):t,e=m(t)?new t:t;do{a=a.concat(Object.getOwnPropertyNames(i||e))}while(i=Object.getPrototypeOf(i||e));u(a,function(t){"init"==t||c[t]||(c[t]=m(e[t])?e[t].bind(c):e[t])}),e.init&&e.init.bind(c)()}),this}),T(this,"mount",function(){r();var e=R.mixin(G);if(e)for(var i in e)e.hasOwnProperty(i)&&c.mixin(e[i]);if(t.fn&&t.fn.call(c,p),l(d,c,S),o(!0),t.attrs&&function(t,e){for(var i,a=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;i=a.exec(t);)e(i[1].toLowerCase(),i[2]||i[3]||i[4])}(t.attrs,function(t,e){x(I,t,e)}),(t.attrs||w)&&l(c.root,c,S),c.parent&&!y||c.update(k),c.trigger("before-mount"),y&&!w)I=d.firstChild;else{for(;d.firstChild;)I.appendChild(d.firstChild);I.stub&&(I=b.root)}T(c,"root",I),y&&s(c.root,c.parent,null,!0),!c.parent||c.parent.isMounted?(c.isMounted=!0,c.trigger("mount")):c.parent.one("mount",function(){O(c.root)||(c.parent.isMounted=c.isMounted=!0,c.trigger("mount"))})}),T(this,"unmount",function(t){var i,a=I,r=a.parentNode,n=W.indexOf(c);if(c.trigger("before-unmount"),~n&&W.splice(n,1),r){if(b)L((i=M(b)).tags[N])?u(i.tags[N],function(t,e){t._riot_id==c._riot_id&&i.tags[N].splice(e,1)}):i.tags[N]=e;else for(;a.firstChild;)a.removeChild(a.firstChild);t?(g(r,_),g(r,j)):r.removeChild(a)}this._virts&&u(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),c.trigger("unmount"),o(),c.off("*"),c.isMounted=!1,delete I._tag}),s(d,this,P)}function c(e,i,a,r){a[e]=function(e){var n=r._parent,o=r._item;if(!o)for(;n&&!o;)o=n._item,n=n._parent;E(e=e||t.event,"currentTarget")&&(e.currentTarget=a),E(e,"target")&&(e.target=e.srcElement),E(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,!0===i.call(r,e)||/radio|check/.test(a.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(o?M(n):r).update()}}function p(t,e,i){t&&(t.insertBefore(i,e),t.removeChild(e))}function h(t,e){u(t,function(t,i){var a=t.dom,r=t.attr,n=it(t.expr,e),o=t.dom.parentNode;if(t.bool?n=!!n:null==n&&(n=""),t.value!==n){if(t.value=n,!r)return n+="",void(o&&("TEXTAREA"===o.tagName?(o.value=n,J||(a.nodeValue=n)):a.nodeValue=n));if("value"===r)return void(a.value=n);if(g(a,r),m(n))c(r,n,a,e);else if("if"==r){var s=t.stub,l=function(){p(a.parentNode,a,s)};n?s&&(p(s.parentNode,s,a),a.inStub=!1,O(a)||P(a,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(s=t.stub=s||document.createTextNode(""),a.parentNode?l():(e.parent||e).one("updated",l),a.inStub=!0)}else"show"===r?a.style.display=n?"":"none":"hide"===r?a.style.display=n?"none":"":t.bool?(a[r]=n,n&&x(a,r,r),tt&&"selected"===r&&"OPTION"===a.tagName&&(a.__riot1374=n)):(0===n||n&&typeof n!==V)&&(function(t,e){return t.slice(0,e.length)===e}(r,Y)&&r!=j&&(r=r.slice(Y.length)),x(a,r,n))}})}function u(t,e){for(var i,a=t?t.length:0,r=0;r<a;r++)null!=(i=t[r])&&!1===e(i,r)&&r--;return t}function m(t){return typeof t===K||!1}function f(t){return t&&typeof t===V}function g(t,e){t.removeAttribute(e)}function v(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function b(t,e){return t.getAttribute(e)}function x(t,e,i){t.setAttribute(e,i)}function y(t){return t.tagName&&X[b(t,_)||b(t,j)||t.tagName.toLowerCase()]}function w(t,e,i){var a=i.tags[e];a?(L(a)||a!==t&&(i.tags[e]=[a]),A(i.tags[e],t)||i.tags[e].push(t)):i.tags[e]=t}function k(t,e,i){var a,r=t.parent;r&&(L(a=r.tags[e])?a.splice(i,0,a.splice(a.indexOf(t),1)[0]):w(t,e,r))}function M(t){for(var e=t;!y(e.root)&&e.parent;)e=e.parent;return e}function T(t,e,i,a){return Object.defineProperty(t,e,C({value:i,enumerable:!1,writable:!1,configurable:!0},a)),t}function S(t){var e=y(t),i=b(t,"name");return i&&!it.hasExpr(i)?i:e?e.name:t.tagName.toLowerCase()}function C(t){for(var e,i=arguments,a=1;a<i.length;++a)if(e=i[a])for(var r in e)E(t,r)&&(t[r]=e[r]);return t}function A(t,e){return~t.indexOf(e)}function L(t){return Array.isArray(t)||t instanceof Array}function E(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===U||i&&i.writable}function z(t){if(!(t instanceof d||t&&typeof t.trigger==K))return t;var e={};for(var i in t)Z.test(i)||(e[i]=t[i]);return e}function P(t,e){if(t){if(!1===e(t))return;for(t=t.firstChild;t;)P(t,e),t=t.nextSibling}}function O(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function I(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function N(t,e){return(e||document).querySelectorAll(t)}function D(t,e){return(e||document).querySelector(t)}function B(t){return b(t,"id")||b(t,"name")}function H(t){var e=t.source,i=t.global?"g":"";t.ignoreCase&&(i+="i"),t.multiline&&(i+="m");for(var a=1;a<arguments.length;a++)e=e.replace("@","\\"+arguments[a]);return new RegExp(e,i)}var R={version:"v2.5.0",settings:{}},F=0,W=[],X={},G="__global_mixin",Y="riot-",j=Y+"tag",_="data-is",q="string",V="object",U="undefined",K="function",$=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Z=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,Q=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],J=0|(t&&t.document||{}).documentMode,tt=t&&!!t.InstallTrigger;R.observable=function(t){function e(t,e){for(var i,a,r=t.split(" "),n=r.length,o=0;o<n;o++)a=(i=r[o]).indexOf("."),i&&e(~a?i.substring(0,a):i,o,~a?i.slice(a+1):null)}t=t||{};var i={},a=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(a,r){return"function"!=typeof r?t:(e(a,function(t,e,a){(i[t]=i[t]||[]).push(r),r.typed=e>0,r.ns=a}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(a,r){return"*"!=a||r?e(a,function(t,e,a){if(r||a)for(var n,o=i[t],s=0;n=o&&o[s];++s)(n==r||a&&n.ns==a)&&o.splice(s--,1);else delete i[t]}):i={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,i){return t.on(e,function a(){t.off(e,a),i.apply(t,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){for(var n,o=arguments.length-1,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+1];return e(r,function(e,r,o){n=a.call(i[e]||[],0);for(var l,d=0;l=n[d];++d)l.busy||(l.busy=1,o&&l.ns!=o||l.apply(t,l.typed?[e].concat(s):s),n[d]!==l&&d--,l.busy=0);i["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(s))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function i(t){return t.split(/[\/?#]/)}function a(t,e){var i=new RegExp("^"+e[M](/\*/g,"([^/?#]+?)")[M](/\.\./,".*")+"$"),a=t.match(i);if(a)return a.slice(1)}function r(t){u=function(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}(c,1),L[w](T,u),L[w](S,u),E[w](I,p),t&&c(!0)}function n(){this.$=[],e.observable(this),D.on("stop",this.s.bind(this)),D.on("emit",this.e.bind(this))}function o(t){return t[M](/^\/|\/$/,"")}function s(t){return"string"==typeof t}function l(t){return(t||P.href)[M](b,"")}function d(t){return"#"==m[0]?(t||P.href||"").split(m)[1]||"":(P?l(t):t||"")[M](m,"")}function c(t){var e=0==R;if(!(A<=R)&&(R++,H.push(function(){var e=d();(t||e!=f)&&(D[C]("emit",e),f=e)}),e)){for(;H.length;)H[0](),H.shift();R=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[k]("download")||!e[k]("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(P.href.match(b)[0])||(e.href==P.href||e.href.split("#")[0]!=P.href.split("#")[0]&&("#"==m||0===l(e.href).indexOf(m))&&h(d(e.href),e.title||E.title))&&t.preventDefault()}}function h(t,e,i){return z?(t=m+o(t),e=e||E.title,i?z.replaceState(null,e,t):z.pushState(null,e,t),E.title=e,B=!1,c(),B):D[C]("emit",d(t))}var u,m,f,g,v,b=/^.+?\/\/+[^\/]+/,x="EventListener",y="remove"+x,w="add"+x,k="hasAttribute",M="replace",T="popstate",S="hashchange",C="trigger",A=3,L=void 0!==t&&t,E="undefined"!=typeof document&&document,z=L&&history,P=L&&(z.location||L.location),O=n.prototype,I=E&&E.ontouchstart?"touchstart":"click",N=!1,D=e.observable(),B=!1,H=[],R=0;O.m=function(t,e,i){!s(t)||e&&!s(e)?e?this.r(t,e):this.r("@",t):h(t,e,i||!1)},O.s=function(){this.off("*"),this.$=[]},O.e=function(t){this.$.concat("@").some(function(e){var i=("@"==e?g:v)(o(t),o(e));if(void 0!==i)return this[C].apply(null,[e].concat(i)),B=!0},this)},O.r=function(t,e){"@"!=t&&(t="/"+o(t),this.$.push(t)),this.on(t,e)};var F=new n,W=F.m.bind(F);W.create=function(){var t=new n,e=t.m.bind(t);return e.stop=t.s.bind(t),e},W.base=function(t){m=t||"#",f=d()},W.exec=function(){c(!0)},W.parser=function(t,e){t||e||(g=i,v=a),t&&(g=t),e&&(v=e)},W.query=function(){var t={};return(P.href||f)[M](/[?&](.+?)=([^&]*)/g,function(e,i,a){t[i]=a}),t},W.stop=function(){N&&(L&&(L[y](T,u),L[y](S,u),E[y](I,p)),D[C]("stop"),N=!1)},W.start=function(t){N||(L&&("complete"==document.readyState?r(t):L[w]("load",function(){setTimeout(function(){r(t)},1)})),N=!0)},W.base(),W.parser(),e.route=W}(R);var et=function(t){function e(t){return t}function i(t,e){return e||(e=f),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function a(t){if(t===h)return u;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")))[4]=i(e[1].length>1?/{[\S\s]*?}/:u[4],e),e[5]=i(t.length>3?/\\({|})/g:u[5],e),e[6]=i(u[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+c,l),e[8]=t,e}function r(t){return t instanceof RegExp?o(t):f[t]}function n(t){(t||(t=h))!==f[8]&&(f=a(t),o=t===h?e:i,f[9]=o(u[9])),m=t}var o,s,l="g",d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,c=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p={"(":RegExp("([()])|"+c,l),"[":RegExp("([[\\]])|"+c,l),"{":RegExp("([{}])|"+c,l)},h="{ }",u=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+c,l),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=void 0,f=[];return r.split=function(t,e,i){function a(t){e||o?d.push(t&&t.replace(i[5],"$1")):d.push(t)}function r(t,e,i){var a,r=p[e];for(r.lastIndex=i,i=1;(a=r.exec(t))&&(!a[1]||(a[1]===e?++i:--i)););return i?t.length:r.lastIndex}i||(i=f);var n,o,s,l,d=[],c=i[6];for(o=s=c.lastIndex=0;n=c.exec(t);){if(l=n.index,o){if(n[2]){c.lastIndex=r(t,n[2],c.lastIndex);continue}if(!n[3])continue}n[1]||(a(t.slice(s,l)),s=c.lastIndex,(c=i[6+(o^=1)]).lastIndex=s)}return t&&s<t.length&&a(t.slice(s)),d},r.hasExpr=function(t){return f[4].test(t)},r.loopKeys=function(t){var e=t.match(f[9]);return e?{key:e[1],pos:e[2],val:f[0]+e[3].trim()+f[1]}:{val:t.trim()}},r.array=function(t){return t?a(t):f},Object.defineProperty(r,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:n,get:function(){return m},enumerable:!0}),s=t,n(e)},get:function(){return s}}),r.settings=void 0!==R&&R.settings||{},r.set=n,r.R_STRINGS=d,r.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,r.S_QBLOCKS=c,r}(),it=function(){function e(t,e){return t?(n[t]||(n[t]=function(t){var e=function(t){var e,i=[],r=et.split(t.replace(d,'"'),1);if(r.length>2||r[0]){var n,o,s=[];for(n=o=0;n<r.length;++n)(e=r[n])&&(e=1&n?a(e,1,i):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[o++]=e);e=o<2?s[0]:"["+s.join(",")+'].join("")'}else e=a(r[1],0,i);return i[0]&&(e=e.replace(c,function(t,e){return i[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}(t))).call(e,i):t}function i(t,i){e.errorHandler&&(t.riotData={tagName:i&&i.root&&i.root.tagName,_riot_id:i&&i._riot_id},e.errorHandler(t))}function a(t,e,i){function a(e,i){var a,r=1,n=p[e];for(n.lastIndex=i.lastIndex;a=n.exec(t);)if(a[0]===e)++r;else if(!--r)break;i.lastIndex=r?t.length:n.lastIndex}if(t=t.replace(l,function(t,e){return t.length>2&&!e?o+(i.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var n,d=[],c=0;t&&(n=t.match(s))&&!n.index;){var h,u,m=/,|([[{(])|$/g;for(t=RegExp.rightContext,h=n[2]?i[n[2]].slice(1,-1).trim().replace(/\s+/g," "):n[1];u=(n=m.exec(t))[1];)a(u,m);u=t.slice(0,n.index),t=RegExp.rightContext,d[c++]=r(u,1,h)}t=c?c>1?"["+d.join(",")+'].join(" ").trim()':d[0]:r(t,e)}return t}function r(t,e,i){var a;return t=t.replace(u,function(t,e,i,r,n){return i&&(r=a?0:r+t.length,"this"!==i&&"global"!==i&&"window"!==i?(t=e+'("'+i+h+i,r&&(a="."===(n=n[r])||"("===n||"["===n)):r&&(a=!m.test(n.slice(r)))),t}),a&&(t="try{return "+t+"}catch(e){E(e,this)}"),i?t=(a?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+i+'":""':e&&(t="function(v){"+(a?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var n={};e.haveRaw=et.hasRaw,e.hasExpr=et.hasExpr,e.loopKeys=et.loopKeys,e.errorHandler=null;var o="⁗",s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l=RegExp(et.S_QBLOCKS,"g"),d=/\u2057/g,c=/\u2057(\d+)~/g,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof t?"global":"window")+").",u=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(t){return t},e.version=et.version="v2.4.0",e}(),at=function(){function t(t,i){var a=t&&t.match(/^\s*<([-\w]+)/),r=a&&a[1].toLowerCase(),n=I("div",function(t){return~Q.indexOf(t)}(r));return t=e(t,i),s.test(r)?n=function(t,e,i){var a="o"===i[0],r=a?"select>":"table>";if(t.innerHTML="<"+r+e.trim()+"</"+r,r=t.firstChild,a)r.selectedIndex=-1;else{var n=o[i];n&&1===r.childElementCount&&(r=D(n,r))}return r}(n,t,r):function(t,e){if(typeof t.innerHTML!=U)t.innerHTML=e;else{var i=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(i.documentElement,!0))}}(n,t),n.stub=!0,n}function e(t,e){if(!i.test(t))return t;var o={};return e=e&&e.replace(r,function(t,e,i){return o[e]=o[e]||i,""}).trim(),t.replace(n,function(t,e,i){return o[e]||i||""}).replace(a,function(t,i){return e||i||""})}var i=/<yield\b/i,a=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,r=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,n=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,o={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=J&&J<10?$:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(),rt=function(e){if(!t)return{add:function(){},inject:function(){}};var i=function(){var t=I("style");x(t,"type","text/css");var e=D("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),a=i.styleSheet,r="";return Object.defineProperty(e,"styleNode",{value:i,writable:!0}),{add:function(t){r+=t},inject:function(){r&&(a?a.cssText+=r:i.innerHTML+=r,r="")}}}(R),nt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var i=0;e=function(t){var e=Date.now(),a=Math.max(16-(e-i),0);setTimeout(function(){t(i=e+a)},a)}}return e}(t||{});R.util={brackets:et,tmpl:it},R.mixin=function(){var t={},e=t[G]={},i=0;return function(a,r,n){if(f(a))R.mixin("__unnamed_"+i++,a,!0);else{var o=n?e:t;if(!r){if(typeof o[a]===U)throw new Error("Unregistered mixin: "+a);return o[a]}m(r)?(C(r.prototype,o[a]||{}),o[a]=r):o[a]=C(o[a]||{},r)}}}(),R.tag=function(t,e,i,a,r){return m(a)&&(r=a,/^[\w\-]+\s?=/.test(i)?(a=i,i=""):a=""),i&&(m(i)?r=i:rt.add(i)),t=t.toLowerCase(),X[t]={name:t,tmpl:e,attrs:a,fn:r},t},R.tag2=function(t,e,i,a,r){return i&&rt.add(i),X[t]={name:t,tmpl:e,attrs:a,fn:r},t},R.mount=function(t,e,i){function a(t){var e="";return u(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+_+'="'+t+'"],['+j+'="'+t+'"]')}),e}function r(){var t=Object.keys(X);return t+a(t)}var n,o,s=[];if(rt.inject(),f(e)&&(i=e,e=0),typeof t===q?("*"===t?t=o=r():t+=a(t.split(/, */)),n=t?N(t):[]):n=t,"*"===e){if(e=o||r(),n.tagName)n=N(e,n);else{var l=[];u(n,function(t){l.push(N(e,t))}),n=l}e=0}return function t(a){if(a.tagName){var r=b(a,_)||b(a,j);e&&r!==e&&(r=e,x(a,_,e),x(a,j,e));var n=function(t,e,i){var a=X[e],r=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",a&&t&&(a=new d(a,{root:t,opts:i},r)),a&&a.mount&&(a.mount(),A(W,a)||W.push(a)),a}(a,r||a.tagName.toLowerCase(),i);n&&s.push(n)}else a.length&&u(a,t)}(n),s},R.update=function(){return u(W,function(t){t.update()})},R.vdom=W,R.Tag=d;var ot=function(t){function e(e){var i=t[e];if(i)return i;throw new Error('Parser "'+e+'" not loaded.')}function i(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t,a,r,n){return r=i({pretty:!0,filename:n,doctype:"html"},r),e(t).render(a,r)}var r={};return r.html={jade:function(t,e,i){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),a("jade",t,e,i)},pug:function(t,e,i){return a("pug",t,e,i)}},r.css={less:function(t,a,r,n){var o;return r=i({sync:!0,syncImport:!0,filename:n},r),e("less").render(a,r,function(t,e){if(t)throw t;o=e.css}),o}},r.js={es6:function(t,a){return a=i({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},a),e("babel").transform(t,a).code},babel:function(t,a,r){return e("babel").transform(t,i({filename:r},a)).code},coffee:function(t,a){return e("CoffeeScript").compile(t,i({bare:!0},a))},livescript:function(t,a){return e("livescript").compile(t,i({bare:!0,header:!1},a))},typescript:function(t,i){return e("typescript")(t,i)},none:function(t){return t}},r.js.javascript=r.js.none,r.js.coffeescript=r.js.coffee,r._req=function(t){var e=t.split(".");if(2!==e.length)throw new Error("Bad format for parsers._req");var i=r[e[0]][e[1]];if(i)return i;throw new Error('Parser "'+t+'" not found.')},r.utils={extend:i},r}(t||global);R.parsers=ot;var st=function(){function t(t){var e,i=y;for(~t.indexOf("\r")&&(t=t.replace(/\r\n?/g,"\n")),i.lastIndex=0;e=i.exec(t);)"<"===e[0][0]&&(t=RegExp.leftContext+RegExp.rightContext,i.lastIndex=e[3]+1);return t}function e(t,e){var i,a,r,n=[];for(x.lastIndex=0,t=t.replace(/\s+/g," ");i=x.exec(t);){var o=i[1].toLowerCase(),s=i[2];s?(s[0]!==N&&(s=N+(s[0]===D?s.slice(1,-1):s)+N),"type"===o&&A.test(s)?a=s:(z.test(s)&&("value"===o?r=1:M.test(o)?o="__"+o:~T.indexOf(o)&&(o="riot-"+o)),n.push(o+"="+s))):n.push(o)}return a&&(r&&(a=N+e._bp[0]+D+a.slice(1,-1)+D+e._bp[1]+N),n.push("type="+a)),n.join(" ")}function i(t,e,i){var a=i._bp;if(t&&a[4].test(t)){for(var r,n=e.expr&&(e.parser||e.type)?o:0,s=et.split(t,0,a),l=1;l<s.length;l+=2)"^"===(r=s[l])[0]?r=r.slice(1):n&&(";"===(r=n(r,e).trim()).slice(-1)&&(r=r.slice(0,-1))),s[l]=O+(i.push(r)-1)+a[1];t=s.join("")}return t}function a(t,e){return e.length&&(t=t.replace(P,function(t,i){return e._bp[0]+e[i].trim().replace(/[\r\n]+/g," ").replace(/"/g,I)})),t}function r(t,r,n){if(t=i(t,r,n).replace(w,function(t,i,a,r){return i=i.toLowerCase(),r=r&&!S.test(i)?"></"+i:"",a&&(i+=" "+e(a,n)),"<"+i+r+">"}),!r.whitespace){var o=[];/<pre[\s>]/.test(t)&&(t=t.replace(C,function(t){return o.push(t),""})),t=t.trim().replace(/\s+/g," "),o.length&&(t=t.replace(/\u0002/g,function(){return o.shift()}))}return r.compact&&(t=t.replace(k,"><$1")),a(t,n).replace(E,"")}function n(t){function e(t,e){var i,a=1;for(e.lastIndex=0;a&&(i=e.exec(t));)"{"===i[0]?++a:"}"===i[0]&&--a;return a?t.length:e.lastIndex}var i,a,r,n,o=[],s=RegExp;for(~t.indexOf("/")&&(t=function(t,e,i){for(e.lastIndex=0;i=e.exec(t);)"/"!==i[0][0]||i[1]||i[2]||(t=s.leftContext+" "+s.rightContext,e.lastIndex=i[3]+1);return t}(t,W));i=t.match(B);)o.push(s.leftContext),r=e(t=s.rightContext,F),n=i[1],n=(a=!/^(?:if|while|for|switch|catch|function)$/.test(n))?i[0].replace(n,"this."+n+" = function"):i[0],o.push(n,t.slice(0,r)),t=t.slice(r),a&&!/^\s*.\s*bind\b/.test(t)&&o.push(".bind(this)");return o.length?o.join("")+t:t}function o(t,e,i,a,r){return/\S/.test(t)?(i||(i=e.type),(e.parser||i&&ot._req("js."+i,!0)||n)(t,a,r).replace(/\r\n?/g,"\n").replace(E,"")):""}function s(t,e,i,a){var r=(a||(a={})).scoped;if(i)if("scoped-css"===i)r=!0;else if("css"!==i){t=ot._req("css."+i,!0)(e,t,a.parserOpts||{},a.url)}if(t=t.replace(et.R_MLCOMMS,"").replace(/\s+/g," ").trim(),r){if(!e)throw new Error("Can not parse scoped CSS without a tagName");t=function(t,e){var i=":scope";return e.replace(X,function(e,a,r){return r?(r=r.replace(/[^,]+/g,function(e){var a=e.trim();return a&&"from"!==a&&"to"!==a&&"%"!==a.slice(-1)?a=a.indexOf(i)<0?t+" "+a+',[riot-tag="'+t+'"] '+a+',[data-is="'+t+'"] '+a:a.replace(i,t)+","+a.replace(i,'[riot-tag="'+t+'"]')+","+a.replace(i,'[data-is="'+t+'"]'):e}),a?a+" "+r:r):e})}(e,t)}return t}function l(t,e){return t?(t=D+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+D,e&&~t.indexOf("\n")?t.replace(/\n/g,"\\n"):t):"''"}function d(t,e,i,a,r,n,o){var s=o.debug?",\n  ":", ",d="});";return r&&"\n"!==r.slice(-1)&&(d="\n"+d),n+"riot.tag2('"+t+D+s+l(e,1)+s+l(i)+s+l(a)+", function(opts) {\n"+r+d}function c(t){if(t){var e=t.match(G);if(e=e&&(e[2]||e[3]))return e.replace("text/","")}return""}function p(t,e){if(t){var i=t.match(RegExp("\\s"+e+Y,"i"));if(i=i&&i[1])return/^['"]/.test(i)?i.slice(1,-1):i}return""}function h(t){var e=function(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}(p(t,"options"));return e?JSON.parse(e):null}function u(t,e,i,a){var r=c(i),n=p(i,"src"),s=g({},e.parserOptions.js);return!n&&o(t,e,r,g(s,h(i)),a)}function m(t,e,i,a,r){var n=g({},e.parserOptions.style),o={parserOpts:g(n,h(i)),scoped:i&&/\sscoped(\s|=|$)/i.test(i),url:a};return s(t,r,c(i)||e.style,o)}function f(n,s,l){var c,p=[];s||(s={}),s.parserOptions=g({template:{},js:{},style:{}},s.parserOptions||{}),c=s.exclude?function(t){return s.exclude.indexOf(t)<0}:function(){return 1},l||(l="");var h=et.array(s.brackets);return s.template&&(n=function(t,e,i,a){return ot._req("html."+i,!0)(t,a,e)}(n,l,s.template,s.parserOptions.template)),n=t(n).replace(_,function(t,n,f,g,v,b){var x="",y="",w="",k="",M=[];if(M._bp=h,f=f.toLowerCase(),g=g&&c("attribs")?a(e(i(g,s,M),M),M):"",(v||(v=b))&&/\S/.test(v))if(b)c("html")&&(w=r(b,s,M));else{var T=function(t){if(/<[-\w]/.test(t))for(var e,i=t.lastIndexOf("<"),a=t.length;~i;){if(e=t.slice(i,a).match(j))return i+=e.index+e[0].length,[t.slice(0,i),t.slice(i)];a=i,i=t.lastIndexOf("<",i-1)}return["",t]}((v=(v=(v=v.replace(RegExp("^"+n,"gm"),"")).replace(V,function(t,e,i){return c("css")&&(y+=(y?" ":"")+m(i,s,e,l,f)),""})).replace(q,function(t,e,i){if(c("js")){var a=u(i,s,e,l);a&&(x+=(x?"\n":"")+a)}return""})).replace(E,""));c("html")&&(w=r(T[0],s,M)),c("js")&&(v=o(T[1],s,null,null,l),k=function(t){for(var e=[],i="";e=L.exec(t);)i+=e[0].trim()+"\n";return i}(x),x=function(t){return t.replace(L,"")}(x),v&&(x+=(x?"\n":"")+v))}return x=/\S/.test(x)?x.replace(/\n{3,}/g,"\n\n"):"",s.entities?(p.push({tagName:f,html:w,css:y,attribs:g,js:x}),""):d(f,w,y,g,x,k,s)}),s.entities?p:n}var g=ot.utils.extend,v=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,b=et.R_STRINGS.source,x=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,y=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+v,"g"),w=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,k=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,M=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$"),T=["style","src","d"],S=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,C=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,A=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,L=/^(?: )*(?:import)(?:(?:.*))*$/gm,E=/[ \t]+$/gm,z=H(/@#\d/,"x01"),P=H(/@#(\d+)/g,"x01"),O="#",I="⁗",N='"',D="'",B=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,F=RegExp("[{}]|"+et.S_QBLOCKS,"g"),W=RegExp(et.R_MLCOMMS.source+"|//[^\r\n]*|"+et.S_QBLOCKS,"g"),X=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+v,"g"),G=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,Y="\\s*=\\s*("+b+"|{[^}]+}|\\S+)",j=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,_=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",b),"gim"),q=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,V=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;return R.util.compiler={compile:f,html:function(e,i,a){return Array.isArray(i)?(a=i,i={}):(a||(a=[]),i||(i={})),a._bp=et.array(i.brackets),r(t(e),i,a)},css:function(t,e,i){return e&&"object"==typeof e?(i=e,e=""):i||(i={}),s(t,i.tagName,e,i)},js:function(t,e,i,a){return"string"==typeof e&&(a=i,i=e,e={}),i&&"object"==typeof i&&(a=i,i=""),a||(a={}),o(t,e||{},i,a.parserOptions,a.url)},version:"v2.5.2"},f}();R.compile=function(){function t(t,e,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status||!a.status&&a.responseText.length)&&e(a.responseText,i,t)},a.open("GET",t,!0),a.send("")}function i(t,e){if(typeof t===q){var i=I("script"),a=document.documentElement;e&&(t+="\n//# sourceURL="+e+".js"),i.text=t,a.appendChild(i),a.removeChild(i)}}var a,r;return function(n,o,s){if(typeof n===q){if(f(o)&&(s=o,o=!1),/^\s*</m.test(n)){var l=st(n,s);return!0!==o&&i(l),m(o)&&o(l,n,s),l}t(n,function(t,e,a){var r=st(t,e,a);i(r,a),o&&o(r,t,e)})}else{if(m(n)?(s=o,o=n):(s=n,o=e),r)return o&&o();a?o&&a.on("ready",o):(a=R.observable(),function(e,n){function o(){a.trigger("ready"),r=!0,e&&e()}function s(t,e,a){i(st(t,e,a),a),--d||o()}var l=N('script[type="riot/tag"]'),d=l.length;if(d)for(var c=0;c<l.length;++c){var p=l[c],h=C({template:b(p,"template")},n),u=b(p,"src");u?t(u,s,h):s(p.innerHTML,h)}else o()}(o,s))}}}();var lt=R.mount;R.mount=function(t,e,i){var a;return R.compile(function(){a=lt(t,e,i)}),a},typeof exports===V?module.exports=R:typeof define===K&&typeof define.amd!==U?define(function(){return R}):t.riot=R}("undefined"!=typeof window?window:void 0),function(){"use strict";function t(t){t.fn.swiper=function(e){var i;return t(this).each(function(){var t=new a(this,e);i||(i=t)}),i}}var e,i,a=function(t,i){function n(t){return Math.floor(t)}function o(){y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext(),y.emit("onAutoplay",y)):y.isEnd?i.autoplayStopOnLast?y.stopAutoplay():(y._slideTo(0),y.emit("onAutoplay",y)):(y._slideNext(),y.emit("onAutoplay",y))},y.params.autoplay)}function s(t,i){var a=e(t.target);if(!a.is(i))if("string"==typeof i)a=a.parents(i);else if(i.nodeType){var r;return a.parents().each(function(t,e){e===i&&(r=i)}),r?i:void 0}if(0!==a.length)return a[0]}function l(t,e){e=e||{};var i=new(window.MutationObserver||window.WebkitMutationObserver)(function(t){t.forEach(function(t){y.onResize(!0),y.emit("onObserverUpdate",y,t)})});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),y.observers.push(i)}function d(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!y.params.allowSwipeToNext&&(y.isHorizontal()&&39===e||!y.isHorizontal()&&40===e))return!1;if(!y.params.allowSwipeToPrev&&(y.isHorizontal()&&37===e||!y.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var i=!1;if(y.container.parents(".swiper-slide").length>0&&0===y.container.parents(".swiper-slide-active").length)return;var a={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,n=window.innerHeight,o=y.container.offset();y.rtl&&(o.left=o.left-y.container[0].scrollLeft);for(var s=[[o.left,o.top],[o.left+y.width,o.top],[o.left,o.top+y.height],[o.left+y.width,o.top+y.height]],l=0;l<s.length;l++){var d=s[l];d[0]>=a.left&&d[0]<=a.left+r&&d[1]>=a.top&&d[1]<=a.top+n&&(i=!0)}if(!i)return}y.isHorizontal()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!y.rtl||37===e&&y.rtl)&&y.slideNext(),(37===e&&!y.rtl||39===e&&y.rtl)&&y.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&y.slideNext(),38===e&&y.slidePrev())}}function c(t){t.originalEvent&&(t=t.originalEvent);var e=y.mousewheel.event,i=0,a=y.rtl?-1:1;if("mousewheel"===e)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;i=t.wheelDeltaX*a}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;i=t.wheelDeltaY}else i=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-t.wheelDeltaX*a:-t.wheelDeltaY;else if("DOMMouseScroll"===e)i=-t.detail;else if("wheel"===e)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;i=-t.deltaX*a}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;i=-t.deltaY}else i=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX*a:-t.deltaY;if(0!==i){if(y.params.mousewheelInvert&&(i=-i),y.params.freeMode){var r=y.getWrapperTranslate()+i*y.params.mousewheelSensitivity,n=y.isBeginning,o=y.isEnd;if(r>=y.minTranslate()&&(r=y.minTranslate()),r<=y.maxTranslate()&&(r=y.maxTranslate()),y.setWrapperTransition(0),y.setWrapperTranslate(r),y.updateProgress(),y.updateActiveIndex(),(!n&&y.isBeginning||!o&&y.isEnd)&&y.updateClasses(),y.params.freeModeSticky?(clearTimeout(y.mousewheel.timeout),y.mousewheel.timeout=setTimeout(function(){y.slideReset()},300)):y.params.lazyLoading&&y.lazy&&y.lazy.load(),0===r||r===y.maxTranslate())return}else{if((new window.Date).getTime()-y.mousewheel.lastScrollTime>60)if(0>i)if(y.isEnd&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slideNext();else if(y.isBeginning&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slidePrev();y.mousewheel.lastScrollTime=(new window.Date).getTime()}return y.params.autoplay&&y.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function p(t,i){t=e(t);var a,r,n,o=y.rtl?-1:1;a=t.attr("data-swiper-parallax")||"0",r=t.attr("data-swiper-parallax-x"),n=t.attr("data-swiper-parallax-y"),r||n?(r=r||"0",n=n||"0"):y.isHorizontal()?(r=a,n="0"):(n=a,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*i*o+"%":r*i*o+"px",n=n.indexOf("%")>=0?parseInt(n,10)*i+"%":n*i+"px",t.transform("translate3d("+r+", "+n+",0px)")}function h(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof a))return new a(t,i);var u={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},m=i&&i.virtualTranslate;i=i||{};var f={};for(var g in i)if("object"!=typeof i[g]||null===i[g]||i[g].nodeType||i[g]===window||i[g]===document||void 0!==r&&i[g]instanceof r||"undefined"!=typeof jQuery&&i[g]instanceof jQuery)f[g]=i[g];else for(var v in f[g]={},i[g])f[g][v]=i[g][v];for(var b in u)if(void 0===i[b])i[b]=u[b];else if("object"==typeof i[b])for(var x in u[b])void 0===i[b][x]&&(i[b][x]=u[b][x]);var y=this;if(y.params=i,y.originalParams=f,y.classNames=[],void 0!==e&&void 0!==r&&(e=r),(void 0!==e||(e=void 0===r?window.Dom7||window.Zepto||window.jQuery:r))&&(y.$=e,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var t,e=!1,i=[];for(t in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(t)&&i.push(t);i.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var a=0;a<i.length;a++)(t=i[a])>=window.innerWidth&&!e&&(e=t);return e||"max"},y.setBreakpoint=function(){var t=y.getActiveBreakpoint();if(t&&y.currentBreakpoint!==t){var e=t in y.params.breakpoints?y.params.breakpoints[t]:y.originalParams,i=y.params.loop&&e.slidesPerView!==y.params.slidesPerView;for(var a in e)y.params[a]=e[a];y.currentBreakpoint=t,i&&y.destroyLoop&&y.reLoop(!0)}},y.params.breakpoints&&y.setBreakpoint(),y.container=e(t),0!==y.container.length)){if(y.container.length>1){var w=[];return y.container.each(function(){w.push(new a(this,i))}),w}y.container[0].swiper=y,y.container.data("swiper",y),y.classNames.push("swiper-container-"+y.params.direction),y.params.freeMode&&y.classNames.push("swiper-container-free-mode"),y.support.flexbox||(y.classNames.push("swiper-container-no-flexbox"),y.params.slidesPerColumn=1),y.params.autoHeight&&y.classNames.push("swiper-container-autoheight"),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(y.params.effect)>=0&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push("swiper-container-3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push("swiper-container-"+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),("fade"===y.params.effect||"flip"===y.params.effect)&&(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,y.params.setWrapperSize=!1,void 0===m&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=e(y.params.pagination),y.params.uniqueNavElements&&"string"==typeof y.params.pagination&&y.paginationContainer.length>1&&1===y.container.find(y.params.pagination).length&&(y.paginationContainer=y.container.find(y.params.pagination)),"bullets"===y.params.paginationType&&y.params.paginationClickable?y.paginationContainer.addClass("swiper-pagination-clickable"):y.params.paginationClickable=!1,y.paginationContainer.addClass("swiper-pagination-"+y.params.paginationType)),(y.params.nextButton||y.params.prevButton)&&(y.params.nextButton&&(y.nextButton=e(y.params.nextButton),y.params.uniqueNavElements&&"string"==typeof y.params.nextButton&&y.nextButton.length>1&&1===y.container.find(y.params.nextButton).length&&(y.nextButton=y.container.find(y.params.nextButton))),y.params.prevButton&&(y.prevButton=e(y.params.prevButton),y.params.uniqueNavElements&&"string"==typeof y.params.prevButton&&y.prevButton.length>1&&1===y.container.find(y.params.prevButton).length&&(y.prevButton=y.container.find(y.params.prevButton)))),y.isHorizontal=function(){return"horizontal"===y.params.direction},y.rtl=y.isHorizontal()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push("swiper-container-rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),y.params.slidesPerColumn>1&&y.classNames.push("swiper-container-multirow"),y.device.android&&y.classNames.push("swiper-container-android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0},y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab"),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(t,e,i,a,r){function n(){r&&r()}var o;t.complete&&a?n():e?((o=new window.Image).onload=n,o.onerror=n,i&&(o.srcset=i),e&&(o.src=e)):n()},y.preloadImages=function(){function t(){void 0!==y&&null!==y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var e=0;e<y.imagesToLoad.length;e++)y.loadImage(y.imagesToLoad[e],y.imagesToLoad[e].currentSrc||y.imagesToLoad[e].getAttribute("src"),y.imagesToLoad[e].srcset||y.imagesToLoad[e].getAttribute("srcset"),!0,t)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return void 0===y.autoplayTimeoutId&&(!!y.params.autoplay&&(!y.autoplaying&&(y.autoplaying=!0,y.emit("onAutoplayStart",y),void o())))},y.stopAutoplay=function(t){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(t){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===t?(y.autoplayPaused=!1,o()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?o():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateAutoHeight=function(){var t=y.slides.eq(y.activeIndex)[0];if(void 0!==t){var e=t.offsetHeight;e&&y.wrapper.css("height",e+"px")}},y.updateContainerSize=function(){var t,e;t=void 0!==y.params.width?y.params.width:y.container[0].clientWidth,e=void 0!==y.params.height?y.params.height:y.container[0].clientHeight,0===t&&y.isHorizontal()||0===e&&!y.isHorizontal()||(t=t-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),e=e-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=t,y.height=e,y.size=y.isHorizontal()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var t,e=y.params.spaceBetween,i=-y.params.slidesOffsetBefore,a=0,r=0;if(void 0!==y.size){var o;"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*y.size),y.virtualSize=-e,y.rtl?y.slides.css({marginLeft:"",marginTop:""}):y.slides.css({marginRight:"",marginBottom:""}),y.params.slidesPerColumn>1&&(o=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(o=Math.max(o,y.params.slidesPerView*y.params.slidesPerColumn)));var s,l,d=y.params.slidesPerColumn,c=o/d,p=c-(y.params.slidesPerColumn*c-y.slides.length);for(t=0;t<y.slides.length;t++){s=0;var h,u,m,f=y.slides.eq(t);if(y.params.slidesPerColumn>1)"column"===y.params.slidesPerColumnFill?(m=t-(u=Math.floor(t/d))*d,(u>p||u===p&&m===d-1)&&++m>=d&&(m=0,u++),h=u+m*o/d,f.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):u=t-(m=Math.floor(t/c))*c,f.css({"margin-top":0!==m&&y.params.spaceBetween&&y.params.spaceBetween+"px"}).attr("data-swiper-column",u).attr("data-swiper-row",m);"none"!==f.css("display")&&("auto"===y.params.slidesPerView?(s=y.isHorizontal()?f.outerWidth(!0):f.outerHeight(!0),y.params.roundLengths&&(s=n(s))):(s=(y.size-(y.params.slidesPerView-1)*e)/y.params.slidesPerView,y.params.roundLengths&&(s=n(s)),y.isHorizontal()?y.slides[t].style.width=s+"px":y.slides[t].style.height=s+"px"),y.slides[t].swiperSlideSize=s,y.slidesSizesGrid.push(s),y.params.centeredSlides?(i=i+s/2+a/2+e,0===t&&(i=i-y.size/2-e),Math.abs(i)<.001&&(i=0),r%y.params.slidesPerGroup==0&&y.snapGrid.push(i),y.slidesGrid.push(i)):(r%y.params.slidesPerGroup==0&&y.snapGrid.push(i),y.slidesGrid.push(i),i=i+s+e),y.virtualSize+=s+e,a=s,r++)}if(y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter,y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),(!y.support.flexbox||y.params.setWrapperSize)&&(y.isHorizontal()?y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}):y.wrapper.css({height:y.virtualSize+y.params.spaceBetween+"px"})),y.params.slidesPerColumn>1&&(y.virtualSize=(s+y.params.spaceBetween)*o,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(l=[],t=0;t<y.snapGrid.length;t++)y.snapGrid[t]<y.virtualSize+y.snapGrid[0]&&l.push(y.snapGrid[t]);y.snapGrid=l}if(!y.params.centeredSlides){for(l=[],t=0;t<y.snapGrid.length;t++)y.snapGrid[t]<=y.virtualSize-y.size&&l.push(y.snapGrid[t]);y.snapGrid=l,Math.floor(y.virtualSize-y.size)-Math.floor(y.snapGrid[y.snapGrid.length-1])>1&&y.snapGrid.push(y.virtualSize-y.size)}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&(y.isHorizontal()?y.rtl?y.slides.css({marginLeft:e+"px"}):y.slides.css({marginRight:e+"px"}):y.slides.css({marginBottom:e+"px"})),y.params.watchSlidesProgress&&y.updateSlidesOffset()}},y.updateSlidesOffset=function(){for(var t=0;t<y.slides.length;t++)y.slides[t].swiperSlideOffset=y.isHorizontal()?y.slides[t].offsetLeft:y.slides[t].offsetTop},y.updateSlidesProgress=function(t){if(void 0===t&&(t=y.translate||0),0!==y.slides.length){void 0===y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var e=-t;y.rtl&&(e=t),y.slides.removeClass(y.params.slideVisibleClass);for(var i=0;i<y.slides.length;i++){var a=y.slides[i],r=(e-a.swiperSlideOffset)/(a.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var n=-(e-a.swiperSlideOffset),o=n+y.slidesSizesGrid[i];(n>=0&&n<y.size||o>0&&o<=y.size||0>=n&&o>=y.size)&&y.slides.eq(i).addClass(y.params.slideVisibleClass)}a.progress=y.rtl?-r:r}}},y.updateProgress=function(t){void 0===t&&(t=y.translate||0);var e=y.maxTranslate()-y.minTranslate(),i=y.isBeginning,a=y.isEnd;0===e?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(t-y.minTranslate())/e,y.isBeginning=y.progress<=0,y.isEnd=y.progress>=1),y.isBeginning&&!i&&y.emit("onReachBeginning",y),y.isEnd&&!a&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(t),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var t,e,i,a=y.rtl?y.translate:-y.translate;for(e=0;e<y.slidesGrid.length;e++)void 0!==y.slidesGrid[e+1]?a>=y.slidesGrid[e]&&a<y.slidesGrid[e+1]-(y.slidesGrid[e+1]-y.slidesGrid[e])/2?t=e:a>=y.slidesGrid[e]&&a<y.slidesGrid[e+1]&&(t=e+1):a>=y.slidesGrid[e]&&(t=e);(0>t||void 0===t)&&(t=0),(i=Math.floor(t/y.params.slidesPerGroup))>=y.snapGrid.length&&(i=y.snapGrid.length-1),t!==y.activeIndex&&(y.snapIndex=i,y.previousIndex=y.activeIndex,y.activeIndex=t,y.updateClasses())},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass);var t=y.slides.eq(y.activeIndex);t.addClass(y.params.slideActiveClass);var i=t.next("."+y.params.slideClass).addClass(y.params.slideNextClass);y.params.loop&&0===i.length&&y.slides.eq(0).addClass(y.params.slideNextClass);var a=t.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass);if(y.params.loop&&0===a.length&&y.slides.eq(-1).addClass(y.params.slidePrevClass),y.paginationContainer&&y.paginationContainer.length>0){var r,n=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length;if(y.params.loop?((r=Math.ceil((y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup))>y.slides.length-1-2*y.loopedSlides&&(r-=y.slides.length-2*y.loopedSlides),r>n-1&&(r-=n),0>r&&"bullets"!==y.params.paginationType&&(r=n+r)):r=void 0!==y.snapIndex?y.snapIndex:y.activeIndex||0,"bullets"===y.params.paginationType&&y.bullets&&y.bullets.length>0&&(y.bullets.removeClass(y.params.bulletActiveClass),y.paginationContainer.length>1?y.bullets.each(function(){e(this).index()===r&&e(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(r).addClass(y.params.bulletActiveClass)),"fraction"===y.params.paginationType&&(y.paginationContainer.find("."+y.params.paginationCurrentClass).text(r+1),y.paginationContainer.find("."+y.params.paginationTotalClass).text(n)),"progress"===y.params.paginationType){var o=(r+1)/n,s=o,l=1;y.isHorizontal()||(l=o,s=1),y.paginationContainer.find("."+y.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+s+") scaleY("+l+")").transition(y.params.speed)}"custom"===y.params.paginationType&&y.params.paginationCustomRender&&(y.paginationContainer.html(y.params.paginationCustomRender(y,r+1,n)),y.emit("onPaginationRendered",y,y.paginationContainer[0]))}y.params.loop||(y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.isBeginning?(y.prevButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.prevButton)):(y.prevButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.prevButton))),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.isEnd?(y.nextButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.nextButton)):(y.nextButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.nextButton))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&y.paginationContainer.length>0){var t="";if("bullets"===y.params.paginationType){for(var e=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,i=0;e>i;i++)t+=y.params.paginationBulletRender?y.params.paginationBulletRender(i,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(t),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}"fraction"===y.params.paginationType&&(t=y.params.paginationFractionRender?y.params.paginationFractionRender(y,y.params.paginationCurrentClass,y.params.paginationTotalClass):'<span class="'+y.params.paginationCurrentClass+'"></span> / <span class="'+y.params.paginationTotalClass+'"></span>',y.paginationContainer.html(t)),"progress"===y.params.paginationType&&(t=y.params.paginationProgressRender?y.params.paginationProgressRender(y,y.params.paginationProgressbarClass):'<span class="'+y.params.paginationProgressbarClass+'"></span>',y.paginationContainer.html(t)),"custom"!==y.params.paginationType&&y.emit("onPaginationRendered",y,y.paginationContainer[0])}},y.update=function(t){function e(){i=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(i),y.updateActiveIndex(),y.updateClasses()}var i;(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),t)?(y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?(e(),y.params.autoHeight&&y.updateAutoHeight()):(("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0))||e()):y.params.autoHeight&&y.updateAutoHeight()},y.onResize=function(t){y.params.breakpoints&&y.setBreakpoint();var e=y.params.allowSwipeToPrev,i=y.params.allowSwipeToNext;y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||t)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0);var a=!1;if(y.params.freeMode){var r=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(r),y.updateActiveIndex(),y.updateClasses(),y.params.autoHeight&&y.updateAutoHeight()}else y.updateClasses(),a=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.lazyLoading&&!a&&y.lazy&&y.lazy.load(),y.params.allowSwipeToPrev=e,y.params.allowSwipeToNext=i};var k=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?k=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(k=["MSPointerDown","MSPointerMove","MSPointerUp"]),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":k[0],move:y.support.touch||!y.params.simulateTouch?"touchmove":k[1],end:y.support.touch||!y.params.simulateTouch?"touchend":k[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(t){var e=t?"off":"on",a=t?"removeEventListener":"addEventListener",r="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],n=y.support.touch?r:document,o=!!y.params.nested;y.browser.ie?(r[a](y.touchEvents.start,y.onTouchStart,!1),n[a](y.touchEvents.move,y.onTouchMove,o),n[a](y.touchEvents.end,y.onTouchEnd,!1)):(y.support.touch&&(r[a](y.touchEvents.start,y.onTouchStart,!1),r[a](y.touchEvents.move,y.onTouchMove,o),r[a](y.touchEvents.end,y.onTouchEnd,!1)),!i.simulateTouch||y.device.ios||y.device.android||(r[a]("mousedown",y.onTouchStart,!1),document[a]("mousemove",y.onTouchMove,o),document[a]("mouseup",y.onTouchEnd,!1))),window[a]("resize",y.onResize),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.nextButton[e]("click",y.onClickNext),y.params.a11y&&y.a11y&&y.nextButton[e]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.prevButton[e]("click",y.onClickPrev),y.params.a11y&&y.a11y&&y.prevButton[e]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(y.paginationContainer[e]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&y.paginationContainer[e]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&r[a]("click",y.preventClicks,!0)},y.attachEvents=function(){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(t){y.allowClick||(y.params.preventClicks&&t.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},y.onClickNext=function(t){t.preventDefault(),(!y.isEnd||y.params.loop)&&y.slideNext()},y.onClickPrev=function(t){t.preventDefault(),(!y.isBeginning||y.params.loop)&&y.slidePrev()},y.onClickIndex=function(t){t.preventDefault();var i=e(this).index()*y.params.slidesPerGroup;y.params.loop&&(i+=y.loopedSlides),y.slideTo(i)},y.updateClickedSlide=function(t){var i=s(t,"."+y.params.slideClass),a=!1;if(i)for(var r=0;r<y.slides.length;r++)y.slides[r]===i&&(a=!0);if(!i||!a)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=i,y.clickedIndex=e(i).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var n,o=y.clickedIndex;if(y.params.loop){if(y.animating)return;n=e(y.clickedSlide).attr("data-swiper-slide-index"),y.params.centeredSlides?o<y.loopedSlides-y.params.slidesPerView/2||o>y.slides.length-y.loopedSlides+y.params.slidesPerView/2?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o):o>y.slides.length-y.params.slidesPerView?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o)}else y.slideTo(o)}};var M,T,S,C,A,L,E,z,P,O,I,N,D="input, select, textarea, button",B=Date.now(),H=[];if(y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},y.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(I="touchstart"===t.type)||!("which"in t)||3!==t.which){if(y.params.noSwiping&&s(t,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||s(t,y.params.swipeHandler)){var i=y.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,a=y.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&i<=y.params.iOSEdgeSwipeThreshold)){if(M=!0,T=!1,S=!0,A=void 0,N=void 0,y.touches.startX=i,y.touches.startY=a,C=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,y.params.threshold>0&&(z=!1),"touchstart"!==t.type){var r=!0;e(t.target).is(D)&&(r=!1),document.activeElement&&e(document.activeElement).is(D)&&document.activeElement.blur(),r&&t.preventDefault()}y.emit("onTouchStart",y,t)}}}},y.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!I||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return y.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(y.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(y.params.onlyExternal)return y.allowClick=!1,void(M&&(y.touches.startX=y.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,y.touches.startY=y.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,C=Date.now()));if(I&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(D))return T=!0,void(y.allowClick=!1);if(S&&y.emit("onTouchMove",y,t),!(t.targetTouches&&t.targetTouches.length>1)){if(y.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,y.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===A){var a=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI;A=y.isHorizontal()?a>y.params.touchAngle:90-a>y.params.touchAngle}if(A&&y.emit("onTouchMoveOpposite",y,t),void 0===N&&y.browser.ieTouch&&(y.touches.currentX!==y.touches.startX||y.touches.currentY!==y.touches.startY)&&(N=!0),M){if(A)return void(M=!1);if(N||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,t),t.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&t.stopPropagation(),T||(i.loop&&y.fixLoop(),E=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),O=!1,y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grabbing",y.container[0].style.cursor="-moz-grabbin",y.container[0].style.cursor="grabbing")),T=!0;var r=y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;r*=y.params.touchRatio,y.rtl&&(r=-r),y.swipeDirection=r>0?"prev":"next",L=r+E;var n=!0;if(r>0&&L>y.minTranslate()?(n=!1,y.params.resistance&&(L=y.minTranslate()-1+Math.pow(-y.minTranslate()+E+r,y.params.resistanceRatio))):0>r&&L<y.maxTranslate()&&(n=!1,y.params.resistance&&(L=y.maxTranslate()+1-Math.pow(y.maxTranslate()-E-r,y.params.resistanceRatio))),n&&(t.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&E>L&&(L=E),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&L>E&&(L=E),y.params.followFinger){if(y.params.threshold>0){if(!(Math.abs(r)>y.params.threshold||z))return void(L=E);if(!z)return z=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,L=E,void(y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}(y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===H.length&&H.push({position:y.touches[y.isHorizontal()?"startX":"startY"],time:C}),H.push({position:y.touches[y.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(L),y.setWrapperTranslate(L)}}}}}},y.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),S&&y.emit("onTouchEnd",y,t),S=!1,M){y.params.grabCursor&&T&&M&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab");var i,a=Date.now(),r=a-C;if(y.allowClick&&(y.updateClickedSlide(t),y.emit("onTap",y,t),300>r&&a-B>300&&(P&&clearTimeout(P),P=setTimeout(function(){y&&(y.params.paginationHide&&y.paginationContainer.length>0&&!e(t.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,t))},300)),300>r&&300>a-B&&(P&&clearTimeout(P),y.emit("onDoubleTap",y,t))),B=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!M||!T||!y.swipeDirection||0===y.touches.diff||L===E)return void(M=T=!1);if(M=T=!1,i=y.params.followFinger?y.rtl?y.translate:-y.translate:-L,y.params.freeMode){if(i<-y.minTranslate())return void y.slideTo(y.activeIndex);if(i>-y.maxTranslate())return void(y.slides.length<y.snapGrid.length?y.slideTo(y.snapGrid.length-1):y.slideTo(y.slides.length-1));if(y.params.freeModeMomentum){if(H.length>1){var n=H.pop(),o=H.pop(),s=n.position-o.position,l=n.time-o.time;y.velocity=s/l,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(l>150||(new window.Date).getTime()-n.time>300)&&(y.velocity=0)}else y.velocity=0;H.length=0;var d=1e3*y.params.freeModeMomentumRatio,c=y.velocity*d,p=y.translate+c;y.rtl&&(p=-p);var h,u=!1,m=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(p<y.maxTranslate())y.params.freeModeMomentumBounce?(p+y.maxTranslate()<-m&&(p=y.maxTranslate()-m),h=y.maxTranslate(),u=!0,O=!0):p=y.maxTranslate();else if(p>y.minTranslate())y.params.freeModeMomentumBounce?(p-y.minTranslate()>m&&(p=y.minTranslate()+m),h=y.minTranslate(),u=!0,O=!0):p=y.minTranslate();else if(y.params.freeModeSticky){var f,g=0;for(g=0;g<y.snapGrid.length;g+=1)if(y.snapGrid[g]>-p){f=g;break}p=Math.abs(y.snapGrid[f]-p)<Math.abs(y.snapGrid[f-1]-p)||"next"===y.swipeDirection?y.snapGrid[f]:y.snapGrid[f-1],y.rtl||(p=-p)}if(0!==y.velocity)d=y.rtl?Math.abs((-p-y.translate)/y.velocity):Math.abs((p-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&u?(y.updateProgress(h),y.setWrapperTransition(d),y.setWrapperTranslate(p),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&O&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(h),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(p),y.setWrapperTransition(d),y.setWrapperTranslate(p),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(p),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||r>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var v,b=0,x=y.slidesSizesGrid[0];for(v=0;v<y.slidesGrid.length;v+=y.params.slidesPerGroup)void 0!==y.slidesGrid[v+y.params.slidesPerGroup]?i>=y.slidesGrid[v]&&i<y.slidesGrid[v+y.params.slidesPerGroup]&&(b=v,x=y.slidesGrid[v+y.params.slidesPerGroup]-y.slidesGrid[v]):i>=y.slidesGrid[v]&&(b=v,x=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var w=(i-y.slidesGrid[b])/x;if(r>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&(w>=y.params.longSwipesRatio?y.slideTo(b+y.params.slidesPerGroup):y.slideTo(b)),"prev"===y.swipeDirection&&(w>1-y.params.longSwipesRatio?y.slideTo(b+y.params.slidesPerGroup):y.slideTo(b))}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(b+y.params.slidesPerGroup),"prev"===y.swipeDirection&&y.slideTo(b)}}},y._slideTo=function(t,e){return y.slideTo(t,e,!0,!0)},y.slideTo=function(t,e,i,a){void 0===i&&(i=!0),void 0===t&&(t=0),0>t&&(t=0),y.snapIndex=Math.floor(t/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var r=-y.snapGrid[y.snapIndex];y.params.autoplay&&y.autoplaying&&(a||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(e):y.stopAutoplay()),y.updateProgress(r);for(var n=0;n<y.slidesGrid.length;n++)-Math.floor(100*r)>=Math.floor(100*y.slidesGrid[n])&&(t=n);return!(!y.params.allowSwipeToNext&&r<y.translate&&r<y.minTranslate())&&(!(!y.params.allowSwipeToPrev&&r>y.translate&&r>y.maxTranslate()&&(y.activeIndex||0)!==t)&&(void 0===e&&(e=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=t,y.rtl&&-r===y.translate||!y.rtl&&r===y.translate?(y.params.autoHeight&&y.updateAutoHeight(),y.updateClasses(),"slide"!==y.params.effect&&y.setWrapperTranslate(r),!1):(y.updateClasses(),y.onTransitionStart(i),0===e?(y.setWrapperTranslate(r),y.setWrapperTransition(0),y.onTransitionEnd(i)):(y.setWrapperTranslate(r),y.setWrapperTransition(e),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(i)}))),!0)))},y.onTransitionStart=function(t){void 0===t&&(t=!0),y.params.autoHeight&&y.updateAutoHeight(),y.lazy&&y.lazy.onTransitionStart(),t&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(t){y.animating=!1,y.setWrapperTransition(0),void 0===t&&(t=!0),y.lazy&&y.lazy.onTransitionEnd(),t&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(t,e,i){return y.params.loop?!y.animating&&(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex+y.params.slidesPerGroup,e,t,i)):y.slideTo(y.activeIndex+y.params.slidesPerGroup,e,t,i)},y._slideNext=function(t){return y.slideNext(!0,t,!0)},y.slidePrev=function(t,e,i){return y.params.loop?!y.animating&&(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex-1,e,t,i)):y.slideTo(y.activeIndex-1,e,t,i)},y._slidePrev=function(t){return y.slidePrev(!0,t,!0)},y.slideReset=function(t,e,i){return y.slideTo(y.activeIndex,e,t)},y.setWrapperTransition=function(t,e){y.wrapper.transition(t),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(t),y.params.parallax&&y.parallax&&y.parallax.setTransition(t),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(t),y.params.control&&y.controller&&y.controller.setTransition(t,e),y.emit("onSetTransition",y,t)},y.setWrapperTranslate=function(t,e,i){var a=0,r=0;y.isHorizontal()?a=y.rtl?-t:t:r=t,y.params.roundLengths&&(a=n(a),r=n(r)),y.params.virtualTranslate||(y.support.transforms3d?y.wrapper.transform("translate3d("+a+"px, "+r+"px, 0px)"):y.wrapper.transform("translate("+a+"px, "+r+"px)")),y.translate=y.isHorizontal()?a:r;var o=y.maxTranslate()-y.minTranslate();(0===o?0:(t-y.minTranslate())/o)!==y.progress&&y.updateProgress(t),e&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,i),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(t,e){var i,a,r,n;return void 0===e&&(e="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(r=window.getComputedStyle(t,null),window.WebKitCSSMatrix?((a=r.transform||r.webkitTransform).split(",").length>6&&(a=a.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),n=new window.WebKitCSSMatrix("none"===a?"":a)):i=(n=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(a=window.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(a=window.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),y.rtl&&a&&(a=-a),a||0)},y.getWrapperTranslate=function(t){return void 0===t&&(t=y.isHorizontal()?"x":"y"),y.getTranslate(y.wrapper[0],t)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var t=y.container.parents(),e=0;e<t.length;e++)l(t[e]);l(y.container[0],{childList:!1}),l(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var t=0;t<y.observers.length;t++)y.observers[t].disconnect();y.observers=[]},y.createLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove();var t=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=t.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>t.length&&(y.loopedSlides=t.length);var i,a=[],r=[];for(t.each(function(i,n){var o=e(this);i<y.loopedSlides&&r.push(n),i<t.length&&i>=t.length-y.loopedSlides&&a.push(n),o.attr("data-swiper-slide-index",i)}),i=0;i<r.length;i++)y.wrapper.append(e(r[i].cloneNode(!0)).addClass(y.params.slideDuplicateClass));for(i=a.length-1;i>=0;i--)y.wrapper.prepend(e(a[i].cloneNode(!0)).addClass(y.params.slideDuplicateClass))},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.reLoop=function(t){var e=y.activeIndex-y.loopedSlides;y.destroyLoop(),y.createLoop(),y.updateSlidesSize(),t&&y.slideTo(e+y.loopedSlides,0,!1)},y.fixLoop=function(){var t;y.activeIndex<y.loopedSlides?(t=y.slides.length-3*y.loopedSlides+y.activeIndex,t+=y.loopedSlides,y.slideTo(t,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(t=-y.slides.length+y.activeIndex+y.loopedSlides,t+=y.loopedSlides,y.slideTo(t,0,!1,!0))},y.appendSlide=function(t){if(y.params.loop&&y.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&y.wrapper.append(t[e]);else y.wrapper.append(t);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(t){y.params.loop&&y.destroyLoop();var e=y.activeIndex+1;if("object"==typeof t&&t.length){for(var i=0;i<t.length;i++)t[i]&&y.wrapper.prepend(t[i]);e=y.activeIndex+t.length}else y.wrapper.prepend(t);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(e,0,!1)},y.removeSlide=function(t){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var e,i=y.activeIndex;if("object"==typeof t&&t.length){for(var a=0;a<t.length;a++)e=t[a],y.slides[e]&&y.slides.eq(e).remove(),i>e&&i--;i=Math.max(i,0)}else e=t,y.slides[e]&&y.slides.eq(e).remove(),i>e&&i--,i=Math.max(i,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(i+y.loopedSlides,0,!1):y.slideTo(i,0,!1)},y.removeAllSlides=function(){for(var t=[],e=0;e<y.slides.length;e++)t.push(e);y.removeSlide(t)},y.effects={fade:{setTranslate:function(){for(var t=0;t<y.slides.length;t++){var e=y.slides.eq(t),i=-e[0].swiperSlideOffset;y.params.virtualTranslate||(i-=y.translate);var a=0;y.isHorizontal()||(a=i,i=0);var r=y.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:r}).transform("translate3d("+i+"px, "+a+"px, 0px)")}},setTransition:function(t){if(y.slides.transition(t),y.params.virtualTranslate&&0!==t){var e=!1;y.slides.transitionEnd(function(){if(!e&&y){e=!0,y.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<t.length;i++)y.wrapper.trigger(t[i])}})}}},flip:{setTranslate:function(){for(var t=0;t<y.slides.length;t++){var i=y.slides.eq(t),a=i[0].progress;y.params.flip.limitRotation&&(a=Math.max(Math.min(i[0].progress,1),-1));var r=-180*a,n=0,o=-i[0].swiperSlideOffset,s=0;if(y.isHorizontal()?y.rtl&&(r=-r):(s=o,o=0,n=-r,r=0),i[0].style.zIndex=-Math.abs(Math.round(a))+y.slides.length,y.params.flip.slideShadows){var l=y.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),d=y.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===l.length&&(l=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),i.append(l)),0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),i.append(d)),l.length&&(l[0].style.opacity=Math.max(-a,0)),d.length&&(d[0].style.opacity=Math.max(a,0))}i.transform("translate3d("+o+"px, "+s+"px, 0px) rotateX("+n+"deg) rotateY("+r+"deg)")}},setTransition:function(t){if(y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),y.params.virtualTranslate&&0!==t){var i=!1;y.slides.eq(y.activeIndex).transitionEnd(function(){if(!i&&y&&e(this).hasClass(y.params.slideActiveClass)){i=!0,y.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<t.length;a++)y.wrapper.trigger(t[a])}})}}},cube:{setTranslate:function(){var t,i=0;y.params.cube.shadow&&(y.isHorizontal()?(0===(t=y.wrapper.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(t)),t.css({height:y.width+"px"})):0===(t=y.container.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),y.container.append(t)));for(var a=0;a<y.slides.length;a++){var r=y.slides.eq(a),n=90*a,o=Math.floor(n/360);y.rtl&&(n=-n,o=Math.floor(-n/360));var s=Math.max(Math.min(r[0].progress,1),-1),l=0,d=0,c=0;a%4==0?(l=4*-o*y.size,c=0):(a-1)%4==0?(l=0,c=4*-o*y.size):(a-2)%4==0?(l=y.size+4*o*y.size,c=y.size):(a-3)%4==0&&(l=-y.size,c=3*y.size+4*y.size*o),y.rtl&&(l=-l),y.isHorizontal()||(d=l,l=0);var p="rotateX("+(y.isHorizontal()?0:-n)+"deg) rotateY("+(y.isHorizontal()?n:0)+"deg) translate3d("+l+"px, "+d+"px, "+c+"px)";if(1>=s&&s>-1&&(i=90*a+90*s,y.rtl&&(i=90*-a-90*s)),r.transform(p),y.params.cube.slideShadows){var h=y.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),u=y.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),r.append(h)),0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),r.append(u)),h.length&&(h[0].style.opacity=Math.max(-s,0)),u.length&&(u[0].style.opacity=Math.max(s,0))}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(y.isHorizontal())t.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var m=Math.abs(i)-90*Math.floor(Math.abs(i)/90),f=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),g=y.params.cube.shadowScale,v=y.params.cube.shadowScale/f,b=y.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(y.height/2+b)+"px, "+-y.height/2/v+"px) rotateX(-90deg)")}var x=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+x+"px) rotateX("+(y.isHorizontal()?0:i)+"deg) rotateY("+(y.isHorizontal()?-i:0)+"deg)")},setTransition:function(t){y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),y.params.cube.shadow&&!y.isHorizontal()&&y.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=y.translate,i=y.isHorizontal()?-t+y.width/2:-t+y.height/2,a=y.isHorizontal()?y.params.coverflow.rotate:-y.params.coverflow.rotate,r=y.params.coverflow.depth,n=0,o=y.slides.length;o>n;n++){var s=y.slides.eq(n),l=y.slidesSizesGrid[n],d=(i-s[0].swiperSlideOffset-l/2)/l*y.params.coverflow.modifier,c=y.isHorizontal()?a*d:0,p=y.isHorizontal()?0:a*d,h=-r*Math.abs(d),u=y.isHorizontal()?0:y.params.coverflow.stretch*d,m=y.isHorizontal()?y.params.coverflow.stretch*d:0;Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(h)<.001&&(h=0),Math.abs(c)<.001&&(c=0),Math.abs(p)<.001&&(p=0);var f="translate3d("+m+"px,"+u+"px,"+h+"px)  rotateX("+p+"deg) rotateY("+c+"deg)";if(s.transform(f),s[0].style.zIndex=1-Math.abs(Math.round(d)),y.params.coverflow.slideShadows){var g=y.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),v=y.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===g.length&&(g=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),s.append(g)),0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),s.append(v)),g.length&&(g[0].style.opacity=d>0?d:0),v.length&&(v[0].style.opacity=-d>0?-d:0)}}y.browser.ie&&(y.wrapper[0].style.perspectiveOrigin=i+"px 50%")},setTransition:function(t){y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,i){if(void 0!==t&&(void 0===i&&(i=!0),0!==y.slides.length)){var a=y.slides.eq(t),r=a.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!a.hasClass("swiper-lazy")||a.hasClass("swiper-lazy-loaded")||a.hasClass("swiper-lazy-loading")||(r=r.add(a[0])),0!==r.length&&r.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var r=t.attr("data-background"),n=t.attr("data-src"),o=t.attr("data-srcset");y.loadImage(t[0],n||r,o,!1,function(){if(r?(t.css("background-image",'url("'+r+'")'),t.removeAttr("data-background")):(o&&(t.attr("srcset",o),t.removeAttr("data-srcset")),n&&(t.attr("src",n),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),a.find(".swiper-lazy-preloader, .preloader").remove(),y.params.loop&&i){var e=a.attr("data-swiper-slide-index");if(a.hasClass(y.params.slideDuplicateClass)){var s=y.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(s.index(),!1)}else{var l=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');y.lazy.loadImageInSlide(l.index(),!1)}}y.emit("onLazyImageReady",y,a[0],t[0])}),y.emit("onLazyImageLoad",y,a[0],t[0])})}},load:function(){var t;if(y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(e(this).index())});else if(y.params.slidesPerView>1)for(t=y.activeIndex;t<y.activeIndex+y.params.slidesPerView;t++)y.slides[t]&&y.lazy.loadImageInSlide(t);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(y.params.slidesPerView>1||y.params.lazyLoadingInPrevNextAmount&&y.params.lazyLoadingInPrevNextAmount>1){var i=y.params.lazyLoadingInPrevNextAmount,a=y.params.slidesPerView,r=Math.min(y.activeIndex+a+Math.max(i,a),y.slides.length),n=Math.max(y.activeIndex-Math.max(a,i),0);for(t=y.activeIndex+y.params.slidesPerView;r>t;t++)y.slides[t]&&y.lazy.loadImageInSlide(t);for(t=n;t<y.activeIndex;t++)y.slides[t]&&y.lazy.loadImageInSlide(t)}else{var o=y.wrapper.children("."+y.params.slideNextClass);o.length>0&&y.lazy.loadImageInSlide(o.index());var s=y.wrapper.children("."+y.params.slidePrevClass);s.length>0&&y.lazy.loadImageInSlide(s.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(t){var e=y.scrollbar,i=(y.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-e.track.offset()[y.isHorizontal()?"left":"top"]-e.dragSize/2,a=-y.minTranslate()*e.moveDivider,r=-y.maxTranslate()*e.moveDivider;a>i?i=a:i>r&&(i=r),i=-i/e.moveDivider,y.updateProgress(i),y.setWrapperTranslate(i,!0)},dragStart:function(t){var e=y.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),y.params.scrollbarHide&&e.track.css("opacity",1),y.wrapper.transition(100),e.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(t){var e=y.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),y.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(t){var e=y.scrollbar;e.isTouched&&(e.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},enableDraggable:function(){var t=y.scrollbar,i=y.support.touch?t.track:document;e(t.track).on(y.touchEvents.start,t.dragStart),e(i).on(y.touchEvents.move,t.dragMove),e(i).on(y.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=y.scrollbar,i=y.support.touch?t.track:document;e(t.track).off(y.touchEvents.start,t.dragStart),e(i).off(y.touchEvents.move,t.dragMove),e(i).off(y.touchEvents.end,t.dragEnd)},set:function(){if(y.params.scrollbar){var t=y.scrollbar;t.track=e(y.params.scrollbar),y.params.uniqueNavElements&&"string"==typeof y.params.scrollbar&&t.track.length>1&&1===y.container.find(y.params.scrollbar).length&&(t.track=y.container.find(y.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=y.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=y.size/y.virtualSize,t.moveDivider=t.divider*(t.trackSize/y.size),t.dragSize=t.trackSize*t.divider,y.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",y.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var t,e=y.scrollbar,i=(y.translate,e.dragSize);t=(e.trackSize-e.dragSize)*y.progress,y.rtl&&y.isHorizontal()?(t=-t)>0?(i=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(i=e.trackSize+t):0>t?(i=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(i=e.trackSize-t),y.isHorizontal()?(y.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=i+"px"):(y.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=i+"px"),y.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){y.params.scrollbar&&y.scrollbar.drag.transition(t)}},y.controller={LinearSpline:function(t,e){var i,a;this.x=t,this.y=e,this.lastIndex=t.length-1,this.x.length,this.interpolate=function(t){return t?(a=r(this.x,t),i=a-1,(t-this.x[i])*(this.y[a]-this.y[i])/(this.x[a]-this.x[i])+this.y[i]):0};var r=function(){var t,e,i;return function(a,r){for(e=-1,t=a.length;t-e>1;)a[i=t+e>>1]<=r?e=i:t=i;return t}}()},getInterpolateFunction:function(t){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,t.slidesGrid):new y.controller.LinearSpline(y.snapGrid,t.snapGrid))},setTranslate:function(t,e){function i(e){t=e.rtl&&"horizontal"===e.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(e),n=-y.controller.spline.interpolate(-t)),n&&"container"!==y.params.controlBy||(r=(e.maxTranslate()-e.minTranslate())/(y.maxTranslate()-y.minTranslate()),n=(t-y.minTranslate())*r+e.minTranslate()),y.params.controlInverse&&(n=e.maxTranslate()-n),e.updateProgress(n),e.setWrapperTranslate(n,!1,y),e.updateActiveIndex()}var r,n,o=y.params.control;if(y.isArray(o))for(var s=0;s<o.length;s++)o[s]!==e&&o[s]instanceof a&&i(o[s]);else o instanceof a&&e!==o&&i(o)},setTransition:function(t,e){function i(e){e.setWrapperTransition(t,y),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){n&&(e.params.loop&&"slide"===y.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var r,n=y.params.control;if(y.isArray(n))for(r=0;r<n.length;r++)n[r]!==e&&n[r]instanceof a&&i(n[r]);else n instanceof a&&e!==n&&i(n)}},y.hashnav={init:function(){if(y.params.hashnav){y.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,i=y.slides.length;i>e;e++){var a=y.slides.eq(e);if(a.attr("data-hash")===t&&!a.hasClass(y.params.slideDuplicateClass)){var r=a.index();y.slideTo(r,0,y.params.runCallbacksOnInit,!0)}}}},setHash:function(){y.hashnav.initialized&&y.params.hashnav&&(document.location.hash=y.slides.eq(y.activeIndex).attr("data-hash")||"")}},y.disableKeyboardControl=function(){y.params.keyboardControl=!1,e(document).off("keydown",d)},y.enableKeyboardControl=function(){y.params.keyboardControl=!0,e(document).on("keydown",d)},y.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},y.params.mousewheelControl){try{new window.WheelEvent("wheel"),y.mousewheel.event="wheel"}catch(t){(window.WheelEvent||y.container[0]&&"wheel"in y.container[0])&&(y.mousewheel.event="wheel")}!y.mousewheel.event&&window.WheelEvent,y.mousewheel.event||void 0===document.onmousewheel||(y.mousewheel.event="mousewheel"),y.mousewheel.event||(y.mousewheel.event="DOMMouseScroll")}for(var R in y.disableMousewheelControl=function(){return!!y.mousewheel.event&&(y.container.off(y.mousewheel.event,c),!0)},y.enableMousewheelControl=function(){return!!y.mousewheel.event&&(y.container.on(y.mousewheel.event,c),!0)},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,y.progress)}),y.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=e(this),a=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(a=0),i.transition(a)})}},y._plugins=[],y.plugins){var F=y.plugins[R](y,y.params[R]);F&&y._plugins.push(F)}return y.callPlugins=function(t){for(var e=0;e<y._plugins.length;e++)t in y._plugins[e]&&y._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(t){var e;if(y.params[t]&&y.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),y.emitterEventListeners[t])for(e=0;e<y.emitterEventListeners[t].length;e++)y.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(t,e){return t=h(t),y.emitterEventListeners[t]||(y.emitterEventListeners[t]=[]),y.emitterEventListeners[t].push(e),y},y.off=function(t,e){var i;if(t=h(t),void 0===e)return y.emitterEventListeners[t]=[],y;if(y.emitterEventListeners[t]&&0!==y.emitterEventListeners[t].length){for(i=0;i<y.emitterEventListeners[t].length;i++)y.emitterEventListeners[t][i]===e&&y.emitterEventListeners[t].splice(i,1);return y}},y.once=function(t,e){t=h(t);var i=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(t,i)};return y.on(t,i),y},y.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(y.params.nextButton)?(y.onClickNext(t),y.isEnd?y.a11y.notify(y.params.lastSlideMessage):y.a11y.notify(y.params.nextSlideMessage)):e(t.target).is(y.params.prevButton)&&(y.onClickPrev(t),y.isBeginning?y.a11y.notify(y.params.firstSlideMessage):y.a11y.notify(y.params.prevSlideMessage)),e(t.target).is("."+y.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=y.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.a11y.makeFocusable(y.nextButton),y.a11y.addRole(y.nextButton,"button"),y.a11y.addLabel(y.nextButton,y.params.nextSlideMessage)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.a11y.makeFocusable(y.prevButton),y.a11y.addRole(y.prevButton,"button"),y.a11y.addLabel(y.prevButton,y.params.prevSlideMessage)),e(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var t=e(this);y.a11y.makeFocusable(t),y.a11y.addRole(t,"button"),y.a11y.addLabel(t,y.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){y.a11y.liveRegion&&y.a11y.liveRegion.length>0&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&e(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&e(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(t,e){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),e&&y.cleanupStyles(),y.disconnectObservers(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.emit("onDestroy"),!1!==t&&(y=null)},y.init(),y}};a.prototype={isSafari:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),r=!i&&t.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:i||r||a,android:e}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i++)if(e[i]in t)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window},plugins:{}};for(var r=function(){var t=function(t){var e=0;for(e=0;e<t.length;e++)this[e]=t[e];return this.length=t.length,this},e=function(e,i){var a=[],r=0;if(e&&!i&&e instanceof t)return e;if(e)if("string"==typeof e){var n,o,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),(o=document.createElement(l)).innerHTML=e,r=0;r<o.childNodes.length;r++)a.push(o.childNodes[r])}else for(n=i||"#"!==e[0]||e.match(/[ .<>:~]/)?(i||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],r=0;r<n.length;r++)n[r]&&a.push(n[r])}else if(e.nodeType||e===window||e===document)a.push(e);else if(e.length>0&&e[0].nodeType)for(r=0;r<e.length;r++)a.push(e[r]);return new t(a)};return t.prototype={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.add(e[i]);return this},removeClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.remove(e[i]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.toggle(e[i]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(t,e);else for(var a in t)this[i][a]=t[a],this[i].setAttribute(a,t[a]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if(void 0!==e){for(var i=0;i<this.length;i++){var a=this[i];a.dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[t]=e}return this}if(this[0]){var r=this[0].getAttribute("data-"+t);return r||(this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0)}},transform:function(t){for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t}return this},on:function(t,i,a,r){function n(t){var r=t.target;if(e(r).is(i))a.call(r,t);else for(var n=e(r).parents(),o=0;o<n.length;o++)e(n[o]).is(i)&&a.call(n[o],t)}var o,s,l=t.split(" ");for(o=0;o<this.length;o++)if("function"==typeof i||!1===i)for("function"==typeof i&&(a=arguments[1],r=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],a,r);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:a,liveListener:n}),this[o].addEventListener(l[s],n,r);return this},off:function(t,e,i,a){for(var r=t.split(" "),n=0;n<r.length;n++)for(var o=0;o<this.length;o++)if("function"==typeof e||!1===e)"function"==typeof e&&(i=arguments[1],a=arguments[2]||!1),this[o].removeEventListener(r[n],i,a);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===i&&this[o].removeEventListener(r[n],this[o].dom7LiveListeners[s].liveListener,a);return this},once:function(t,e,i,a){var r=this;"function"==typeof e&&(e=!1,i=arguments[1],a=arguments[2]),r.on(t,e,function n(o){i(o),r.off(t,e,n,a)},a)},trigger:function(t,e){for(var i=0;i<this.length;i++){var a;try{a=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(i){(a=document.createEvent("Event")).initEvent(t,!0,!0),a.detail=e}this[i].dispatchEvent(a)}return this},transitionEnd:function(t){function e(n){if(n.target===this)for(t.call(this,n),i=0;i<a.length;i++)r.off(a[i],e)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(t)for(i=0;i<a.length;i++)r.on(a[i],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),i=document.body,a=t.clientTop||i.clientTop||0,r=t.clientLeft||i.clientLeft||0,n=window.pageYOffset||t.scrollTop,o=window.pageXOffset||t.scrollLeft;return{top:e.top+n-a,left:e.left+o-r}}return null},css:function(t,e){var i;if(1===arguments.length){if("string"!=typeof t){for(i=0;i<this.length;i++)for(var a in t)this[i].style[a]=t[a];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(i=0;i<this.length;i++)this[i].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},is:function(i){if(!this[0])return!1;var a,r;if("string"==typeof i){var n=this[0];if(n===document)return i===document;if(n===window)return i===window;if(n.matches)return n.matches(i);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(i);if(n.mozMatchesSelector)return n.mozMatchesSelector(i);if(n.msMatchesSelector)return n.msMatchesSelector(i);for(a=e(i),r=0;r<a.length;r++)if(a[r]===this[0])return!0;return!1}if(i===document)return this[0]===document;if(i===window)return this[0]===window;if(i.nodeType||i instanceof t){for(a=i.nodeType?[i]:i,r=0;r<a.length;r++)if(a[r]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}},eq:function(e){if(void 0===e)return this;var i,a=this.length;return e>a-1?new t([]):0>e?new t(0>(i=a+e)?[]:[this[i]]):new t([this[e]])},append:function(e){var i,a;for(i=0;i<this.length;i++)if("string"==typeof e){var r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)this[i].appendChild(r.firstChild)}else if(e instanceof t)for(a=0;a<e.length;a++)this[i].appendChild(e[a]);else this[i].appendChild(e);return this},prepend:function(e){var i,a;for(i=0;i<this.length;i++)if("string"==typeof e){var r=document.createElement("div");for(r.innerHTML=e,a=r.childNodes.length-1;a>=0;a--)this[i].insertBefore(r.childNodes[a],this[i].childNodes[0])}else if(e instanceof t)for(a=0;a<e.length;a++)this[i].insertBefore(e[a],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},insertBefore:function(t){for(var i=e(t),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0]);else if(i.length>1)for(var r=0;r<i.length;r++)i[r].parentNode.insertBefore(this[a].cloneNode(!0),i[r])},insertAfter:function(t){for(var i=e(t),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0].nextSibling);else if(i.length>1)for(var r=0;r<i.length;r++)i[r].parentNode.insertBefore(this[a].cloneNode(!0),i[r].nextSibling)},next:function(i){return new t(this.length>0?i?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var a=[],r=this[0];if(!r)return new t([]);for(;r.nextElementSibling;){var n=r.nextElementSibling;i?e(n).is(i)&&a.push(n):a.push(n),r=n}return new t(a)},prev:function(i){return new t(this.length>0?i?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var a=[],r=this[0];if(!r)return new t([]);for(;r.previousElementSibling;){var n=r.previousElementSibling;i?e(n).is(i)&&a.push(n):a.push(n),r=n}return new t(a)},parent:function(t){for(var i=[],a=0;a<this.length;a++)t?e(this[a].parentNode).is(t)&&i.push(this[a].parentNode):i.push(this[a].parentNode);return e(e.unique(i))},parents:function(t){for(var i=[],a=0;a<this.length;a++)for(var r=this[a].parentNode;r;)t?e(r).is(t)&&i.push(r):i.push(r),r=r.parentNode;return e(e.unique(i))},find:function(e){for(var i=[],a=0;a<this.length;a++)for(var r=this[a].querySelectorAll(e),n=0;n<r.length;n++)i.push(r[n]);return new t(i)},children:function(i){for(var a=[],r=0;r<this.length;r++)for(var n=this[r].childNodes,o=0;o<n.length;o++)i?1===n[o].nodeType&&e(n[o]).is(i)&&a.push(n[o]):1===n[o].nodeType&&a.push(n[o]);return new t(e.unique(a))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,i,a=this;for(t=0;t<arguments.length;t++){var r=e(arguments[t]);for(i=0;i<r.length;i++)a[a.length]=r[i],a.length++}return a}},e.fn=t.prototype,e.unique=function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e},e}(),n=["jQuery","Zepto","Dom7"],o=0;o<n.length;o++)window[n[o]]&&t(window[n[o]]);(i=void 0===r?window.Dom7||window.Zepto||window.jQuery:r)&&("transitionEnd"in i.fn||(i.fn.transitionEnd=function(t){function e(n){if(n.target===this)for(t.call(this,n),i=0;i<a.length;i++)r.off(a[i],e)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(t)for(i=0;i<a.length;i++)r.on(a[i],e);return this}),"transform"in i.fn||(i.fn.transform=function(t){for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t}return this}),"transition"in i.fn||(i.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t}return this})),window.Swiper=a}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:"function"==typeof define&&define.amd?define(function(){return e(t)}):t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,i,a,r,n,o,s,l,d=(e=void 0===t?window:t,i=e.document,a=e.navigator&&e.navigator.userAgent||"",r=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,n=/(edge|msie|trident)/i.test(a)&&!e.opera,o=-1!==a.indexOf("Firefox"),s=-1!==a.indexOf("Chrome"),l=o&&4>parseInt(a.split("Firefox/")[1],10),e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.1.4",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:n,isWebKit:-1!==a.indexOf("AppleWebKit"),isFirefox:o,isChrome:s,isSafari:!s&&-1!==a.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(a),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e=t.charts,i=t.doc,a=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);a.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],a=[],r=this.now,n=e.length;if(1===r)a=this.toD;else if(n===i.length&&1>r)for(;n--;)t=parseFloat(e[n]),a[n]=isNaN(t)?i[n]:r*parseFloat(i[n]-t)+t;else a=i;this.elem.attr("d",a,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,a=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,a&&a.call(t,i,this)},run:function(e,i,r){var n=this,o=n.options,s=function(t){return!s.stopped&&n.step(t)},l=a.requestAnimationFrame||function(t){setTimeout(t,13)},d=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(d)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(d)):(delete o.curAnim[this.prop],o.complete&&0===t.keys(o.curAnim).length&&o.complete.call(this.elem))},step:function(e){var i,a=+new Date,r=this.options,n=this.elem,o=r.complete,s=r.duration,l=r.curAnim;return n.attr&&!n.element?e=!1:e||a>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(i=!1)}),i&&o&&o.call(n),e=!1):(this.pos=r.easing((a-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,a){function r(t){var e,i;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],i=/[a-zA-Z]/.test(t[c+3]),e&&i&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function n(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,m);[].splice.apply(t,[0,0].concat(i)),g&&(i=t.slice(t.length-m),[].splice.apply(t,[t.length,0].concat(i)),c--)}t[0]="M"}function o(t,e){for(var i=(l-t.length)/m;0<i&&i--;)(d=t.slice().splice(t.length/v-m,m*v))[0]=e[l-m-i*m],u&&(d[m-6]=d[m-2],d[m-5]=d[m-1]),[].splice.apply(t,[t.length/v,0].concat(d)),g&&i--}i=i||"";var s,l,d,c,p=e.startX,h=e.endX,u=-1<i.indexOf("C"),m=u?7:3;i=i.split(" "),a=a.slice();var f,g=e.isArea,v=g?2:1;if(u&&(r(i),r(a)),p&&h){for(c=0;c<p.length;c++){if(p[c]===h[0]){s=c;break}if(p[0]===h[h.length-p.length+c]){s=c,f=!0;break}}void 0===s&&(i=[])}return i.length&&t.isNumber(s)&&(l=a.length+s*v*m,f?(n(i,a),o(a,i)):(n(a,i),o(i,a))),[i,a]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,i,a=arguments,r={},n=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(a,r){!t.isObject(a,!0)||t.isClass(a)||t.isDOMElement(a)?e[r]=i[r]:e[r]=n(e[r]||{},a)}),e};for(!0===a[0]&&(r=a[1],a=Array.prototype.slice.call(a,2)),i=a.length,e=0;e<i;e++)r=n(r,a[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,a){var r;return t.isString(i)?t.defined(a)?e.setAttribute(i,a):e&&e.getAttribute&&((r=e.getAttribute(i))||"class"!==i||(r=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,a=i.length;for(t=0;t<a;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,a,r,n,o){e=i.createElement(e);var s=t.css;return a&&t.extend(e,a),o&&s(e,{padding:0,border:"none",margin:0}),r&&s(e,r),n&&n.appendChild(e),e},t.extendClass=function(e,i){var a=function(){};return a.prototype=new e,t.extend(a.prototype,i),a},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var a=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){a.apply(r,arguments.length?arguments:e)},t.unshift(a),t=i.apply(this,t),r.proceed=null,t}},t.formatSingle=function(e,i,a){var r=t.defaultOptions.lang;return/f$/.test(e)?(a=(a=e.match(/\.([0-9])/))?a[1]:-1,null!==i&&(i=t.numberFormat(i,a,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):i=(a||t.time).dateFormat(e,i),i},t.format=function(e,i,a){for(var r,n,o,s,l,d="{",c=!1,p=[];e&&-1!==(d=e.indexOf(d));){if(r=e.slice(0,d),c){for(s=(n=(r=r.split(":")).shift().split(".")).length,l=i,o=0;o<s;o++)l&&(l=l[n[o]]);r.length&&(l=t.formatSingle(r.join(":"),l,a)),p.push(l)}else p.push(r);e=e.slice(d+1),d=(c=!c)?"}":"{"}return p.push(e),p.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,a,r,n){var o,s=e;for(o=e/(a=t.pick(a,1)),i||(i=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===a?i=t.grep(i,function(t){return 0==t%1}):.1>=a&&(i=[1/a]))),r=0;r<i.length&&(s=i[r],!(n&&s*a>=e||!n&&o<=(i[r]+(i[r+1]||i[r]))/2));r++);return t.correctFloat(s*a,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,a,r=t.length;for(a=0;a<r;a++)t[a].safeI=a;for(t.sort(function(t,a){return 0===(i=e(t,a))?t.safeI-a.safeI:i}),a=0;a<r;a++)delete t[a].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,a){t&&t!==i&&t.destroy&&t.destroy(),delete e[a]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,a,r){e=+e||0,i=+i;var n,o,s=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,d=e.toString().split("e");return-1===i?i=Math.min(l,20):t.isNumber(i)?i&&d[1]&&0>d[1]&&(0<=(n=i+ +d[1])?(d[0]=(+d[0]).toExponential(n).split("e")[0],i=n):(d[0]=d[0].split(".")[0]||0,e=20>i?(d[0]*Math.pow(10,d[1])).toFixed(i):0,d[1]=0)):i=2,o=(Math.abs(d[1]?d[0]:e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),n=3<(l=String(t.pInt(o))).length?l.length%3:0,a=t.pick(a,s.decimalPoint),r=t.pick(r,s.thousandsSep),e=(0>e?"-":"")+(n?l.substr(0,n)+r:""),e+=l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(e+=a+o.slice(-i)),d[1]&&0!=+e&&(e+="e"+d[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,r){return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(a.getComputedStyle||t.error(27,!0),(e=a.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(r,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i,a){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,a)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,a=t.length;for(i=0;i<a;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,a){return(t.somePolyfill||Array.prototype.some).call(e,i,a)},t.map=function(t,e){for(var i=[],a=0,r=t.length;a<r;a++)i[a]=e.call(t[a],t[a],a,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,a){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[i,a]:[i])},t.offset=function(t){var e=i.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(a.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(a.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var a=t.timers.length;a--;)t.timers[a].elem!==e||i&&i!==t.timers[a].prop||(t.timers[a].stopped=!0)},t.each=function(e,i,a){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,a)},t.objectEach=function(t,e,i){for(var a in t)t.hasOwnProperty(a)&&e.call(i||t[a],t[a],a,t)},t.addEvent=function(e,i,a,r){var n,o=e.addEventListener||t.addEventListenerPolyfill;return n="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),o&&o.call(e,i,a,!1),n[i]||(n[i]=[]),n[i].push(a),r&&t.isNumber(r.order)&&(a.order=r.order,n[i].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,i,a)}},t.removeEvent=function(e,i,a){function r(i,a){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,i,a,!1)}function n(a){var n,o;e.nodeName&&(i?(n={})[i]=!0:n=a,t.objectEach(n,function(t,e){if(a[e])for(o=a[e].length;o--;)r(e,a[e][o])}))}var o,s;t.each(["protoEvents","hcEvents"],function(l){var d=e[l];d&&(i?(o=d[i]||[],a?(-1<(s=t.inArray(a,o))&&(o.splice(s,1),d[i]=o),r(i,a)):(n(d),d[i]=[])):(n(d),e[l]={}))})},t.fireEvent=function(e,a,r,n){var o,s,l,d,c;r=r||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?((o=i.createEvent("Events")).initEvent(a,!0,!0),t.extend(o,r),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(a,o)):t.each(["protoEvents","hcEvents"],function(i){if(e[i])for(s=e[i][a]||[],l=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:a}),d=0;d<l;d++)(c=s[d])&&!1===c.call(e,r)&&r.preventDefault()}),n&&!r.defaultPrevented&&n.call(e,r)},t.animate=function(e,i,a){var r,n,o,s,l="";t.isObject(a)||(a={duration:(s=arguments)[2],easing:s[3],complete:s[4]}),t.isNumber(a.duration)||(a.duration=400),a.easing="function"==typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=t.merge(i),t.objectEach(i,function(s,d){t.stop(e,d),o=new t.Fx(e,a,d),n=null,"d"===d?(o.paths=o.initPath(e,e.d,i.d),o.toD=i.d,r=0,n=1):e.attr?r=e.attr(d):(r=parseFloat(t.getStyle(e,d))||0,"opacity"!==d&&(l="px")),n||(n=s),n&&n.match&&n.match("px")&&(n=n.replace(/px/g,"")),o.run(r,n,l)})},t.seriesType=function(e,i,a,r,n){var o=t.getOptions(),s=t.seriesTypes;return o.plotOptions[e]=t.merge(o.plotOptions[i],a),s[e]=t.extendClass(s[i]||function(){},r),s[e].prototype.type=e,n&&(s[e].prototype.pointClass=t.extendClass(t.Point,n)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),a.jQuery&&(a.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(d),function(t){var e=t.each,i=t.isNumber,a=t.map,r=t.merge,n=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,r,n,o;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=a(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(n=this.parsers.length;n--&&!r;)(i=(o=this.parsers[n]).regex.exec(e))&&(r=o.parse(i));this.rgba=r||[]},get:function(t){var a,n=this.input,o=this.rgba;return this.stops?((a=r(n)).stops=[].concat(a.stops),e(this.stops,function(e,i){a.stops[i]=[a.stops[i][0],e.get(t)]})):a=o&&i(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":n,a},brighten:function(t){var a,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(a=0;3>a;a++)r[a]+=n(255*t),0>r[a]&&(r[a]=0),255<r[a]&&(r[a]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,a=t.rgba;return a.length&&i&&i.length?e=((t=1!==a[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(a[0]+(i[0]-a[0])*(1-e))+","+Math.round(a[1]+(i[1]-a[1])*(1-e))+","+Math.round(a[2]+(i[2]-a[2])*(1-e))+(t?","+(a[3]+(i[3]-a[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(d),function(t){var e,i,a=t.addEvent,r=t.animate,n=t.attr,o=t.charts,s=t.color,l=t.css,d=t.createElement,c=t.defined,p=t.deg2rad,h=t.destroyObjectProperties,u=t.doc,m=t.each,f=t.extend,g=t.erase,v=t.grep,b=t.hasTouch,x=t.inArray,y=t.isArray,w=t.isFirefox,k=t.isMS,M=t.isObject,T=t.isString,S=t.isWebKit,C=t.merge,A=t.noop,L=t.objectEach,E=t.pick,z=t.pInt,P=t.removeEvent,O=t.stop,I=t.svg,N=t.SVG_NS,D=t.symbolSizes,B=t.win;e=t.SVGElement=function(){return this},f(e.prototype,{opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?d(e):u.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,a){return 0!==(i=t.animObject(E(i,this.renderer.globalAnimation,!0))).duration?(a&&(i.complete=a),r(this,e,i)):(this.attr(e,null,a),i.step&&i.step.call(this)),this},complexColor:function(e,i,a){var r,n,o,s,l,d,p,h,u,f,g,v,b=this.renderer,x=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?n="radialGradient":e.linearGradient&&(n="linearGradient"),n&&(o=e[n],l=b.gradients,p=e.stops,f=a.radialReference,y(o)&&(e[n]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&f&&!c(o.gradientUnits)&&(s=o,o=C(o,b.getRadialAttr(f,s),{gradientUnits:"userSpaceOnUse"})),L(o,function(t,e){"id"!==e&&x.push(e,t)}),L(p,function(t){x.push(t)}),x=x.join(","),l[x]?g=l[x].attr("id"):(o.id=g=t.uniqueKey(),l[x]=d=b.createElement(n).attr(o).add(b.defs),d.radAttr=s,d.stops=[],m(p,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),u=r.get("a")):(h=e[1],u=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":u}).add(d),d.stops.push(e)})),v="url("+b.url+"#"+g+")",a.setAttribute(i,v),a.gradient=x,e.toString=function(){return v})})},applyTextOutline:function(e){var i,a,r,o,s,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),a=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),s=e.length;s--;)"highcharts-text-outline"===(i=e[s]).getAttribute("class")&&g(e,l.removeChild(i));o=l.firstChild,m(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),n(t,{class:"highcharts-text-outline",fill:a,stroke:a,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,o)})}},attr:function(t,e,i,a){var r,n,o,s,l=this.element,d=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?d=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(L(t,function(e,i){o=!1,a||O(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(n||(this.symbolAttr(t),n=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||((s=this[i+"Setter"]||this._defaultSetter).call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,s))},this),this.afterSetters()),i&&i.call(this),d},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var a=this.shadows,r=a.length;r--;)i.call(a[r],"height"===t?Math.max(e-(a[r].cutHeight||0),0):"d"===t?this.d:e,t,a[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==x(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;m("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=E(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,a=this.styles,r={},o=this.element,s="",d=!a,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),a&&L(t,function(t,e){t!==a[e]&&(r[e]=t,d=!0)}),d&&(a&&(t=f(a,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===o.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=z(t.width))),this.styles=t,e&&!I&&this.renderer.forExport&&delete t.width,o.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},L(t,function(t,e){-1===x(e,c)&&(s+=e.replace(/([A-Z])/g,i)+":"+t+";")}),s&&n(o,"style",s)):l(o,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,a=i.element;return b&&"click"===t?(a.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(a,t)},a.onclick=function(t){(-1===B.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(a,t)}):a["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,a=this.scaleY,r=this.inverted,n=this.rotation,o=this.matrix,s=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],c(o)&&t.push("matrix("+o.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):n&&t.push("rotate("+n+" "+E(this.rotationOriginX,s.getAttribute("x"),0)+" "+E(this.rotationOriginY,s.getAttribute("y")||0)+")"),(c(i)||c(a))&&t.push("scale("+E(i,1)+" "+E(a,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var a,r,n,o,s,l,d={};return n=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||T(i))&&(this.alignTo=a=i||"renderer",g(n,this),n.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=E(i,r[a],r),a=t.align,r=t.verticalAlign,n=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),"right"===a?s=1:"center"===a&&(s=2),s&&(n+=(i.width-(t.width||0))/s),d[e?"translateX":"x"]=Math.round(n),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(o+=(i.height-(t.height||0))/l),d[e?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](d),this.placed=!0,this.alignAttr=d,this},getBBox:function(t,e){var i,a,r,n,o,s=this.renderer,l=this.element,d=this.styles,h=this.textStr,u=s.cache,g=s.cacheKeys;if(a=(e=E(e,this.rotation))*p,r=d&&d.fontSize,c(h)&&(-1===(o=h.toString()).indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",e||0,r,this.textWidth,d&&d.textOverflow].join()),o&&!t&&(i=u[o]),!i){if(l.namespaceURI===this.SVG_NS||s.forExport){try{(n=this.fakeTS&&function(t){m(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&n("none"),i=l.getBBox?f({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},n&&n("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(t=i.width,s=i.height,d&&"11px"===d.fontSize&&17===Math.round(s)&&(i.height=s=14),e&&(i.width=Math.abs(s*Math.sin(a))+Math.abs(t*Math.cos(a)),i.height=Math.abs(s*Math.cos(a))+Math.abs(t*Math.sin(a)))),o&&0<i.height){for(;250<g.length;)delete u[g.shift()];u[o]||g.push(o),u[o]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,a=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(a),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,a=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,O(t),r&&a&&(m(a.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),i=r.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(a=0;a<t.stops.length;a++)t.stops[a]=t.stops[a].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&g(t.renderer.alignedObjects,t),L(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var a,r,o,s,l,d,c=[],p=this.element;if(t){if(!this.shadows){for(s=E(t.width,3),l=(t.opacity||.15)/s,d=this.parentInverted?"(-1,-1)":"("+E(t.offsetX,1)+", "+E(t.offsetY,1)+")",a=1;a<=s;a++)r=p.cloneNode(0),o=2*s+1-2*a,n(r,{stroke:t.color||"#000000","stroke-opacity":l*a,"stroke-width":o,transform:"translate"+d,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),i&&(n(r,"height",Math.max(n(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):p.parentNode&&p.parentNode.insertBefore(r,p),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){m(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=E(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=z(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=u.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(u.createTextNode(String(E(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,a,r,n,o=this.renderer,s=this.parentGroup,l=(s||o).element||o.box,d=this.element;o=l===o.box;if(i=this.added,c(t)?(d.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):c(this[e])&&d.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&s&&(s.handleZ=!0),n=(e=l.childNodes).length-1;0<=n&&!a;n--)i=(s=e[n]).getAttribute("data-z-index"),r=!c(i),s!==d&&(0>t&&r&&!o&&!n?(l.insertBefore(d,e[n]),a=!0):(z(i)<=t||r&&(!c(t)||0<=t))&&(l.insertBefore(d,e[n+1]||null),a=!0));a||(l.insertBefore(d,e[o?3:0]||null),a=!0)}return a},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,a){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",a),a.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(a.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},f(i.prototype,{Element:e,SVG_NS:N,init:function(t,e,i,r,o,s){var d,c;d=(r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r))).element,t.appendChild(d),n(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&n(d,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=d,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||S)&&u.getElementsByTagName("base").length?B.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(u.createTextNode("Created with Highcharts 6.1.4")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),w&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=a(B,"resize",e))},getStyle:function(t){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,i,a,r,n,o){var s,l,d,c=this,p=t.rotation,h=a?1:0,m=(i||a).length,f=m,g=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(u.createTextNode(t))},b=function(n,s){if(void 0===g[s=s||n])if(e.getSubStringLength)try{g[s]=r+e.getSubStringLength(0,a?s+1:s)}catch(t){}else v(o(i||a,n)),g[s]=r+c.getSpanWidth(t,e);return g[s]};if(t.rotation=0,l=b(e.textContent.length),d=r+l>n){for(;h<=m;)f=Math.ceil((h+m)/2),a&&(s=o(a,f)),l=b(f,s&&s.length-1),h===m?h=m+1:l>n?m=f-1:h=f;0===m?v(""):i&&m===i.length-1||v(s||o(i||a,f))}return a&&a.splice(0,f),t.actualWidth=l,t.rotation=p,d},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,a,r=t.element,o=this,s=o.forExport,d=E(t.textStr,"").toString(),c=-1!==d.indexOf("<"),p=r.childNodes,h=n(r,"x"),f=t.styles,g=t.textWidth,b=f&&f.lineHeight,y=f&&f.textOutline,w=f&&"ellipsis"===f.textOverflow,k=f&&"nowrap"===f.whiteSpace,M=f&&f.fontSize,T=p.length,S=(f=g&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:M||o.style.fontSize||12,b?z(b):o.fontMetrics(e,t.getAttribute("style")?t:r).h}),C=function(t,e){return L(o.escapes,function(i,a){e&&-1!==x(i,e)||(t=t.toString().replace(new RegExp(i,"g"),a))}),t},A=function(t,e){var i;if(i=t.indexOf("<"),-1!==(i=(t=t.substring(i,t.indexOf(">")-i)).indexOf(e+"="))&&(i=i+e.length+1,'"'===(e=t.charAt(i))||"'"===e))return(t=t.substring(i+1)).substring(0,t.indexOf(e))};if((i=[d,w,k,b,y,M,g].join())!==t.textCache){for(t.textCache=i;T--;)r.removeChild(p[T]);c||y||w||g||-1!==d.indexOf(" ")?(f&&f.appendChild(r),d=c?d.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[d],d=v(d,function(t){return""!==t}),m(d,function(i,d){var c,p=0,f=0;i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=i.split("|||"),m(c,function(i){if(""!==i||1===c.length){var m,v,b={},x=u.createElementNS(o.SVG_NS,"tspan");if((m=A(i,"class"))&&n(x,"class",m),(m=A(i,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),n(x,"style",m)),(v=A(i,"href"))&&!s&&(n(x,"onclick",'location.href="'+v+'"'),n(x,"class","highcharts-anchor"),l(x,{cursor:"pointer"}))," "!==(i=C(i.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(x.appendChild(u.createTextNode(i)),p?b.dx=0:d&&null!==h&&(b.x=h),n(x,b),r.appendChild(x),!p&&a&&(!I&&s&&l(x,{display:"block"}),n(x,"dy",S(x))),g){var y=i.replace(/([^\^])-/g,"$1- ").split(" ");b=!k&&(1<c.length||d||1<y.length);v=0;var T=S(x);if(w)e=o.truncate(t,x,i,void 0,0,Math.max(0,g-parseInt(M||12,10)),function(t,e){return t.substring(0,e)+"…"});else if(b)for(;y.length;)y.length&&!k&&0<v&&(x=u.createElementNS(N,"tspan"),n(x,{dy:T,x:h}),m&&n(x,"style",m),x.appendChild(u.createTextNode(y.join(" ").replace(/- /g,"-"))),r.appendChild(x)),o.truncate(t,x,null,y,0===v?f:0,g,function(t,e){return y.slice(0,e).join(" ").replace(/- /g,"-")}),f=t.actualWidth,v++}p++}}}),a=a||r.childNodes.length}),w&&e&&t.attr("title",C(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(r),y&&t.applyTextOutline&&t.applyTextOutline(y)):r.appendChild(u.createTextNode(C(d)))}},getContrast:function(t){return(t=s(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,r,n,o,s,l,d){var c,p,h,u,m=this.label(t,e,i,d,null,null,null,null,"button"),g=0;return m.attr(C({padding:8,r:2},n)),n=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},n),c=n.style,delete n.style,o=C(n,{fill:"#e6e6e6"},o),p=o.style,delete o.style,s=C(n,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),h=s.style,delete s.style,l=C(n,{style:{color:"#cccccc"}},l),u=l.style,delete l.style,a(m.element,k?"mouseover":"mouseenter",function(){3!==g&&m.setState(1)}),a(m.element,k?"mouseout":"mouseleave",function(){3!==g&&m.setState(g)}),m.setState=function(t){1!==t&&(m.state=g=t),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),m.attr([n,o,s,l][t||0]).css([c,p,h,u][t||0])},m.attr(n).css(f({cursor:"default"},c)),m.on("click",function(t){3!==g&&r.call(m,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return y(t)?e.d=t:M(t)&&f(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=M(t)?t:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,a,r,n){return M(t)?(e=(a=t).y,i=a.r,t=a.x):a={innerR:a,start:r,end:n},(t=this.symbol("arc",t,e,i,i,a)).r=i,t},rect:function(t,e,i,a,r,o){r=M(t)?t.r:r;var s=this.createElement("rect");return t=M(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(a,0)},void 0!==o&&(t.strokeWidth=o,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,i){n(i,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,i){var a=this.alignedObjects,r=a.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(i,!0)?void 0:0});r--;)a[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,r,n,o){var s,l={preserveAspectRatio:"none"},d=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},c=function(e){d(s.element,t),o.call(s,e)};return 1<arguments.length&&f(l,{x:e,y:i,width:r,height:n}),s=this.createElement("image").attr(l),o?(d(s.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new B.Image,a(l,"load",c),l.src=t,l.complete&&c({})):d(s.element,t),s},symbol:function(t,e,i,a,r,n){var s,p,h,g=this,v=/^url\((.*?)\)$/,b=v.test(t),x=!b&&(this.symbols[t]?t:"circle"),y=x&&this.symbols[x],w=c(e)&&y&&y.call(this.symbols,Math.round(e),Math.round(i),a,r,n);return y?((s=this.path(w)).attr("fill","none"),f(s,{symbolName:x,x:e,y:i,width:a,height:r}),n&&f(s,n)):b&&(p=t.match(v)[1],(s=this.image(p)).imgwidth=E(D[p]&&D[p].width,n&&n.width),s.imgheight=E(D[p]&&D[p].height,n&&n.height),h=function(){s.attr({width:s.width,height:s.height})},m(["width","height"],function(t){s[t+"Setter"]=function(t,e){var i={},a=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(a)&&(this.element&&this.element.setAttribute(e,a),this.alignByTranslate||(i[r]=((this[e]||0)-a)/2,this.attr(i)))}}),c(e)&&s.attr({x:e,y:i}),s.isImg=!0,c(s.imgwidth)&&c(s.imgheight)?h():(s.attr({width:0,height:0}),d("img",{onload:function(){var t=o[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),u.body.appendChild(this)),D[p]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&h(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:p}),this.imgCount++)),s},symbols:{circle:function(t,e,i,a){return this.arc(t+i/2,e+a/2,i/2,a/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i,e+a,t,e+a,"Z"]},triangle:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a,t,e+a,"Z"]},"triangle-down":function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i/2,e+a,"Z"]},diamond:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a/2,t+i/2,e+a,t,e+a/2,"Z"]},arc:function(t,e,i,a,r){var n=r.start,o=r.r||i,s=r.r||a||i,l=r.end-.001;i=r.innerR,a=E(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var d=Math.cos(n),p=Math.sin(n),h=Math.cos(l);l=Math.sin(l);return o=["M",t+o*d,e+s*p,"A",o,s,0,r=.001>r.end-n-Math.PI?0:1,1,t+o*h,e+s*l],c(i)&&o.push(a?"M":"L",t+i*h,e+i*l,"A",i,i,0,r,0,t+i*d,e+i*p),o.push(a?"":"Z"),o},callout:function(t,e,i,a,r){var n,o=Math.min(r&&r.r||0,i,a),s=o+6,l=r&&r.anchorX;return r=r&&r.anchorY,n=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+a-o,"C",t+i,e+a,t+i,e+a,t+i-o,e+a,"L",t+o,e+a,"C",t,e+a,t,e+a,t,e+a-o,"L",t,e+o,"C",t,e,t,e,t+o,e],l&&l>i?r>e+s&&r<e+a-s?n.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+a-o):n.splice(13,3,"L",t+i,a/2,l,r,t+i,a/2,t+i,e+a-o):l&&0>l?r>e+s&&r<e+a-s?n.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):n.splice(33,3,"L",t,a/2,l,r,t,a/2,t,e+o):r&&r>a&&l>t+s&&l<t+i-s?n.splice(23,3,"L",l+6,e+a,l,e+a+6,l-6,e+a,t+o,e+a):r&&0>r&&l>t+s&&l<t+i-s&&n.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-o,e),n}},clipRect:function(e,i,a,r){var n=t.uniqueKey(),o=this.createElement("clipPath").attr({id:n}).add(this.defs);return(e=this.rect(e,i,a,r,0).add(o)).id=n,e.clipPath=o,e.count=0,e},text:function(t,e,i,a){var r={};return!a||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),i&&(r.y=Math.round(i)),(t||0===t)&&(r.text=t),t=this.createElement("text").attr(r),a||(t.xSetter=function(t,e,i){var a,r,n=i.getElementsByTagName("tspan"),o=i.getAttribute(e);for(r=0;r<n.length;r++)(a=n[r]).getAttribute(e)===o&&a.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:e=24>(t=/px/.test(t)?z(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var a=t;return e&&i&&(a=Math.max(a*Math.cos(e*p),4)),{x:-t/3*Math.sin(e*p),y:a}},label:function(i,a,r,n,o,s,l,d,p){var h,u,g,v,b,x,y,w,k,M,T,S,A,L=this,E=L.g("button"!==p&&"label"),z=E.text=L.text("",0,0,l).attr({zIndex:1}),O=0,I=3,N=0,D={},B=/^url\((.*?)\)$/.test(n),H=B;p&&E.addClass("highcharts-"+p),H=B,M=function(){return(w||0)%2/2},T=function(){var t=z.element.style,e={};u=(void 0===g||void 0===v||y)&&c(z.textStr)&&z.getBBox(),E.width=(g||u.width||0)+2*I+N,E.height=(v||u.height||0)+2*I,k=I+L.fontMetrics(t&&t.fontSize,z).b,H&&(h||(E.box=h=L.symbols[n]||B?L.symbol(n):L.rect(),h.addClass(("button"===p?"":"highcharts-label-box")+(p?" highcharts-"+p+"-box":"")),h.add(E),t=M(),e.x=t,e.y=(d?-k:0)+t),e.width=Math.round(E.width),e.height=Math.round(E.height),h.attr(f(e,D)),D={})},S=function(){var t,e=N+I;t=d?0:k,c(g)&&u&&("center"===y||"right"===y)&&(e+={center:.5,right:1}[y]*(g-u.width)),e===z.x&&t===z.y||(z.attr("x",e),z.hasBoxWidthChanged&&(u=z.getBBox(!0),T()),void 0!==t&&z.attr("y",t)),z.x=e,z.y=t},A=function(t,e){h?h.attr(t,e):D[t]=e},E.onAdd=function(){z.add(E),E.attr({text:i||0===i?i:"",x:a,y:r}),h&&c(o)&&E.attr({anchorX:o,anchorY:s})},E.widthSetter=function(e){g=t.isNumber(e)?e:null},E.heightSetter=function(t){v=t},E["text-alignSetter"]=function(t){y=t},E.paddingSetter=function(t){c(t)&&t!==I&&(I=E.padding=t,S())},E.paddingLeftSetter=function(t){c(t)&&t!==N&&(N=t,S())},E.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==O&&(O=t,u&&E.attr({x:b}))},E.textSetter=function(t){void 0!==t&&z.textSetter(t),T(),S()},E["stroke-widthSetter"]=function(t,e){t&&(H=!0),w=this["stroke-width"]=t,A(e,t)},E.strokeSetter=E.fillSetter=E.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(H=!0),E[e]=t),A(e,t)},E.anchorXSetter=function(t,e){o=E.anchorX=t,A(e,Math.round(t)-M()-b)},E.anchorYSetter=function(t,e){s=E.anchorY=t,A(e,t-x)},E.xSetter=function(t){E.x=t,O&&(t-=O*((g||u.width)+2*I),E["forceAnimate:x"]=!0),b=Math.round(t),E.attr("translateX",b)},E.ySetter=function(t){x=E.y=Math.round(t),E.attr("translateY",x)};var R=E.css;return f(E,{css:function(t){if(t){var e={};t=C(t),m(E.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),z.css(e),"width"in e&&T()}return R.call(E,t)},getBBox:function(){return{width:u.width+2*I,height:u.height+2*I,x:u.x-I,y:u.y-I}},shadow:function(t){return t&&(T(),h&&h.shadow(t)),E},destroy:function(){P(E.element,"mouseenter"),P(E.element,"mouseleave"),z&&(z=z.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(E),E=L=T=S=A=null}})}}),t.Renderer=i}(d),function(t){var e=t.attr,i=t.createElement,a=t.css,r=t.defined,n=t.each,o=t.extend,s=t.isFirefox,l=t.isMS,d=t.isWebKit,c=t.pick,p=t.pInt,h=t.SVGRenderer,u=t.win,m=t.wrap;o(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,i=c(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=i,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),a(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,o=this.translateY||0,s=this.x||0,l=this.y||0,d=this.textAlign||"left",c={left:0,center:.5,right:1}[d],h=(m=this.styles)&&m.whiteSpace;if(a(e,{marginLeft:i,marginTop:o}),this.shadows&&n(this.shadows,function(t){a(t,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&n(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var u,m=this.rotation,f=this.textWidth&&p(this.textWidth),g=[m,d,e.innerHTML,this.textWidth,this.textAlign].join();(u=f!==this.oldTextWidth)&&!(u=f>this.oldTextWidth)&&((u=this.textPxLength)||(a(e,{width:"",whiteSpace:h||"nowrap"}),u=e.offsetWidth),u=u>f),u&&/[ \-]/.test(e.textContent||e.innerText)?(a(e,{width:f+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(h=t.fontMetrics(e.style.fontSize).b,!r(m)||m===(this.oldRotation||0)&&d===this.oldAlign||this.setSpanRotation(m,c,h),this.getSpanCorrection(!r(m)&&this.textPxLength||e.offsetWidth,h,c,m,d)),a(e,{left:s+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=m,this.oldAlign=d}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var r={},n=this.renderer.getTransformKey();r[n]=r.transform="rotate("+t+"deg)",r[n+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",a(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),o(h.prototype,{getTransformKey:function(){return l&&!/Edge/.test(u.navigator.userAgent)?"-ms-transform":d?"-webkit-transform":s?"MozTransform":u.opera?"-o-transform":""},html:function(t,a,r){var s=this.createElement("span"),l=s.element,d=s.renderer,p=d.isSVG,h=function(t,e){n(["opacity","visibility"],function(i){m(t,i+"Setter",function(t,i,a,r){t.call(this,i,a,r),e[a]=i})}),t.addedSetters=!0};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),s.doTransform=!0},p&&h(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(a),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,p&&(s.add=function(t){var a,r=d.box.parentNode,c=[];if(this.parentGroup=t){if(!(a=t.div)){for(;t;)c.push(t),t=t.parentGroup;n(c.reverse(),function(t){function n(e,i){t[i]=e,"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,d=e(t.element,"class");d&&(d={className:d}),a=t.div=t.div||i("div",d,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},a||r),l=a.style,o(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(a),on:function(){return c[0].div&&s.on.apply({element:c[0].div},arguments),t},translateXSetter:n,translateYSetter:n}),t.addedSetters||h(t,l)})}}else a=r;return a.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(d),function(t){var e=t.defined,i=t.each,a=t.extend,r=t.merge,n=t.pick,o=t.timeUnits,s=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=n(t&&t.useUTC,!0),i=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||s.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var a=e.getTime(),r=a-i.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(a),t},this.set=function(t,e,a){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](a):(r=i.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](a),t=i.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,a,r,o,s){var l,d,c;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),l+=d=this.getTimezoneOffset(l),d!==(c=this.getTimezoneOffset(l))?l+=c-d:d-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,i,n(a,1),n(r,0),n(o,0),n(s,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,i=this.options,a=s.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(a)return function(t){return 6e4*-a.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,a){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,n=new this.Date(i),o=this.get("Hours",n),s=this.get("Day",n),l=this.get("Date",n),d=this.get("Month",n),c=this.get("FullYear",n),p=t.defaultOptions.lang,h=p.weekdays,u=p.shortWeekdays,m=t.pad;n=t.extend({a:u?u[s]:h[s].substr(0,3),A:h[s],d:m(l),e:m(l,2," "),w:s,b:p.shortMonths[d],B:p.months[d],m:m(d+1),o:d+1,y:c.toString().substr(2,2),Y:c,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(r.get("Minutes",n)),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:m(n.getSeconds()),L:m(Math.floor(i%1e3),3)},t.dateFormats);return t.objectEach(n,function(t,a){for(;-1!==e.indexOf("%"+a);)e=e.replace("%"+a,"function"==typeof t?t.call(r,i):t)}),a?e.substr(0,1).toUpperCase()+e.substr(1):e},getTimeTicks:function(t,r,s,l){var d,c,p=this,h=[],u={};d=new p.Date(r);var m,f=t.unitRange,g=t.count||1;if(l=n(l,1),e(r)){p.set("Milliseconds",d,f>=o.second?0:g*Math.floor(p.get("Milliseconds",d)/g)),f>=o.second&&p.set("Seconds",d,f>=o.minute?0:g*Math.floor(p.get("Seconds",d)/g)),f>=o.minute&&p.set("Minutes",d,f>=o.hour?0:g*Math.floor(p.get("Minutes",d)/g)),f>=o.hour&&p.set("Hours",d,f>=o.day?0:g*Math.floor(p.get("Hours",d)/g)),f>=o.day&&p.set("Date",d,f>=o.month?1:g*Math.floor(p.get("Date",d)/g)),f>=o.month&&(p.set("Month",d,f>=o.year?0:g*Math.floor(p.get("Month",d)/g)),c=p.get("FullYear",d)),f>=o.year&&p.set("FullYear",d,c-c%g),f===o.week&&(c=p.get("Day",d),p.set("Date",d,p.get("Date",d)-c+l+(c<l?-7:0))),c=p.get("FullYear",d),l=p.get("Month",d);var v=p.get("Date",d),b=p.get("Hours",d);for(r=d.getTime(),p.variableTimezone&&(m=s-r>4*o.month||p.getTimezoneOffset(r)!==p.getTimezoneOffset(s)),r=d.getTime(),d=1;r<s;)h.push(r),r=f===o.year?p.makeTime(c+d*g,0):f===o.month?p.makeTime(c,l+d*g):!m||f!==o.day&&f!==o.week?m&&f===o.hour&&1<g?p.makeTime(c,l,v,b+d*g):r+f*g:p.makeTime(c,l,v+d*g*(f===o.day?1:7)),d++;h.push(r),f<=o.hour&&1e4>h.length&&i(h,function(t){0==t%18e5&&"000000000"===p.dateFormat("%H%M%S%L",t)&&(u[t]="day")})}return h.info=a(t,{higherRanks:u,totalRange:f*g}),h}}}(d),function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),t.time.update(i(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,a){return t.time.dateFormat(e,i,a)}}(d),function(t){var e=t.correctFloat,i=t.defined,a=t.destroyObjectProperties,r=t.fireEvent,n=t.isNumber,o=t.merge,s=t.pick,l=t.deg2rad;t.Tick=function(t,e,i,a){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||a||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,a=this.axis,r=a.options,n=a.chart,l=a.categories,d=a.names,c=this.pos,p=r.labels,h=c===(m=a.tickPositions)[0],u=c===m[m.length-1],m=(d=l?s(l[c],d[c],c):c,l=this.label,m.info);a.isDatetimeAxis&&m&&(t=r.dateTimeLabelFormats[m.higherRanks[c]||m.unitName]),this.isFirst=h,this.isLast=u,r={axis:a,chart:n,isFirst:h,isLast:u,dateTimeLabelFormat:t,value:a.isLog?e(a.lin2log(d)):d,pos:c},r=a.labelFormatter.call(r,r),i(l)?l&&l.textStr!==r&&(!l.textWidth||p.style&&p.style.width||l.styles.width||l.css({width:null}),l.attr({text:r})):((this.label=l=i(r)&&p.enabled?n.renderer.text(r,0,0,p.useHTML).css(o(p.style)).add(a.labelGroup):null)&&(l.textPxLength=l.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,a=i.options.labels,r=t.x,n=i.chart.chartWidth,o=i.chart.spacing,d=s(i.labelLeft,Math.min(i.pos,o[3])),c=(o=s(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,n-o[1])),this.label),p=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign||c.attr("align")],u=c.getBBox().width,m=i.getSlotWidth(this),f=m,g=1,v={};p||"justify"!==s(a.overflow,"justify")?0>p&&r-h*u<d?e=Math.round(r/Math.cos(p*l)-d):0<p&&r+h*u>o&&(e=Math.round((n-r)/Math.cos(p*l))):(n=r+(1-h)*u,r-h*u<d?f=t.x+f*(1-h)-d:n>o&&(f=o-t.x+f*h,g=-1),(f=Math.min(m,f))<m&&"center"===i.labelAlign&&(t.x+=g*(m-f-h*(m-Math.min(u,f)))),(u>f||i.autoRotation&&(c.styles||{}).width)&&(e=f)),e&&(v.width=e,(a.style||{}).textOverflow||(v.textOverflow="ellipsis"),c.css(v))},getPosition:function(e,i,a,n){var o=this.axis,s=o.chart,l=n&&s.oldChartHeight||s.chartHeight;return e={x:e?t.correctFloat(o.translate(i+a,null,null,n)+o.transB):o.left+o.offset+(o.opposite?(n&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:e?l-o.bottom+o.offset-(o.opposite?o.height:0):t.correctFloat(l-o.translate(i+a,null,null,n)-o.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,a,n,o,s,d,c){var p=this.axis,h=p.transA,u=p.reversed,m=p.staggerLines,f=p.tickRotCorr||{x:0,y:0},g=o.y,v=n||p.reserveSpaceDefault?0:-p.labelOffset*("center"===p.labelAlign?.5:1),b={};return i(g)||(g=0===p.side?a.rotation?-8:-a.getBBox().height:2===p.side?f.y+8:Math.cos(a.rotation*l)*(f.y-a.getBBox(!1,0).height/2)),t=t+o.x+v+f.x-(s&&n?s*h*(u?-1:1):0),e=e+g-(s&&!n?s*h*(u?1:-1):0),m&&(a=d/(c||1)%m,p.opposite&&(a=m-a-1),e+=p.labelOffset/m*a),b.x=t,b.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:b}),b},getMarkPath:function(t,e,i,a,r,n){return n.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],a)},renderGridLine:function(t,e,i){var a=this.axis,r=a.options,n=this.gridLine,o={},s=this.pos,l=this.type,d=a.tickmarkOffset,c=a.chart.renderer,p=l?l+"Grid":"grid",h=r[p+"LineWidth"],u=r[p+"LineColor"];r=r[p+"LineDashStyle"];n||(o.stroke=u,o["stroke-width"]=h,r&&(o.dashstyle=r),l||(o.zIndex=1),t&&(o.opacity=0),this.gridLine=n=c.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(a.gridGroup)),!t&&n&&(t=a.getPlotLinePath(s+d,n.strokeWidth()*i,t,!0))&&n[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var a=this.axis,r=a.options,n=a.chart.renderer,o=this.type,l=o?o+"Tick":"tick",d=a.tickSize(l),c=this.mark,p=!c,h=t.x;t=t.y;var u=s(r[l+"Width"],!o&&a.isXAxis?1:0);r=r[l+"Color"];d&&(a.opposite&&(d[0]=-d[0]),p&&(this.mark=c=n.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(a.axisGroup),c.attr({stroke:r,"stroke-width":u})),c[p?"attr":"animate"]({d:this.getMarkPath(h,t,d[0],c.strokeWidth()*i,a.horiz,n),opacity:e}))},renderLabel:function(t,e,i,a){var r=(p=this.axis).horiz,o=p.options,l=this.label,d=o.labels,c=d.step,p=p.tickmarkOffset,h=!0,u=t.x;t=t.y,l&&n(u)&&(l.xy=t=this.getLabelPosition(u,t,l,r,d,p,a,c),this.isFirst&&!this.isLast&&!s(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(o.showLastLabel,1)?h=!1:!r||d.step||d.rotation||e||0===i||this.handleOverflow(t),c&&a%c&&(h=!1),h&&n(t.y)?(t.opacity=i,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,a){var r=(d=this.axis).horiz,n=this.getPosition(r,this.pos,d.tickmarkOffset,i),o=n.x,l=n.y,d=r&&o===d.pos+d.len||!r&&l===d.pos?-1:1;a=s(a,1),this.isActive=!0,this.renderGridLine(i,a,d),this.renderMark(n,a,d),this.renderLabel(n,i,a,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){a(this,this.axis)}}}(d);var c=function(t){var e=t.addEvent,i=t.animObject,a=t.arrayMax,r=t.arrayMin,n=t.color,o=t.correctFloat,s=t.defaultOptions,l=t.defined,d=t.deg2rad,c=t.destroyObjectProperties,p=t.each,h=t.extend,u=t.fireEvent,m=t.format,f=t.getMagnitude,g=t.grep,v=t.inArray,b=t.isArray,x=t.isNumber,y=t.isString,w=t.merge,k=t.normalizeTickInterval,M=t.objectEach,T=t.pick,S=t.removeEvent,C=t.splat,A=t.syncTimeout,L=t.Tick,E=function(){this.init.apply(this,arguments)};return t.extend(E.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var a=i.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!a:a,r.isXAxis=a,r.coll=r.coll||(a?"xAxis":"yAxis"),u(this,"init",{userOptions:i}),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var n=this.options,o=n.type;r.labelFormatter=n.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=n.reversed,r.visible=!1!==n.visible,r.zoomEnabled=!1!==n.zoomEnabled,r.hasNames="category"===o||!0===n.categories,r.categories=n.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===o,r.isDatetimeAxis="datetime"===o,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(n.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=n.minRange||n.maxZoom,r.range=n.range,r.offset=n.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=T(n.crosshair,C(t.options.tooltip.crosshairs)[a?0:1],!1),i=r.options.events,-1===v(r,t.axes)&&(a?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&a&&void 0===r.reversed&&(r.reversed=!0),M(i,function(t,i){e(r,i,t)}),r.lin2log=n.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),u(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(s[this.coll],t)),u(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,i=this.axis,a=this.value,r=i.chart.time,n=i.categories,o=this.dateTimeLabelFormat,l=(d=s.lang).numericSymbols,d=d.numericSymbolMagnitude||1e3,c=l&&l.length,p=i.options.labels.format;i=i.isLog?Math.abs(a):i.tickInterval;if(p)e=m(p,this,r);else if(n)e=a;else if(o)e=r.dateFormat(o,a);else if(c&&1e3<=i)for(;c--&&void 0===e;)i>=(r=Math.pow(d,c+1))&&0==10*a%r&&null!==l[c]&&0!==a&&(e=t.numberFormat(a/r,-1)+l[c]);return void 0===e&&(e=1e4<=Math.abs(a)?t.numberFormat(a,-1):t.numberFormat(a,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;u(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),p(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o=i.options,s=o.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(o=i.xData).length&&(i=r(o),n=a(o),x(i)||i instanceof Date||(o=g(o,x),i=r(o),n=a(o)),o.length&&(t.dataMin=Math.min(T(t.dataMin,o[0],i),i),t.dataMax=Math.max(T(t.dataMax,o[0],n),n))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,l(i)&&l(n)&&(t.dataMin=Math.min(T(t.dataMin,i),i),t.dataMax=Math.max(T(t.dataMax,n),n)),l(s)&&(t.threshold=s),(!o.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),u(this,"afterGetSeriesExtremes")},translate:function(t,e,i,a,r,n){var o=this.linkedParent||this,s=1,l=0,d=a?o.oldTransA:o.transA;a=a?o.oldMin:o.min;var c=o.minPixelPadding;return r=(o.isOrdinal||o.isBroken||o.isLog&&r)&&o.lin2val,d||(d=o.transA),i&&(s*=-1,l=o.len),o.reversed&&(l-=(s*=-1)*(o.sector||o.len)),e?(t=(t*s+l-c)/d+a,r&&(t=o.lin2val(t))):(r&&(t=o.val2lin(t)),t=x(a)?s*(t-a)*d+l+s*c+(x(n)?d*n:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,a,r){var n,o,s,l=this.chart,d=this.left,c=this.top,p=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;n=this.transB;var u=function(t,e,i){return(t<e||t>i)&&(a?t=Math.min(Math.max(e,t),i):s=!0),t};return r=T(r,this.translate(t,null,null,i)),r=Math.min(Math.max(-1e5,r),1e5),t=i=Math.round(r+n),n=o=Math.round(p-r-n),x(r)?this.horiz?(n=c,o=p-this.bottom,t=i=u(t,d,d+this.width)):(t=d,i=h-this.right,n=o=u(n,c,c+this.height)):(s=!0,a=!1),s&&!a?null:l.renderer.crispLine(["M",t,n,"L",i,o],e||1)},getLinearTickPositions:function(t,e,i){var a,r=o(Math.floor(e/t)*t);i=o(Math.ceil(i/t)*t);var n,s=[];if(o(r+t)===r&&(n=20),this.single)return[e];for(e=r;e<=i&&(s.push(e),(e=o(e+t,n))!==a);)a=e;return s},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?T(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,a=t.minorTickInterval,r=[],n=t.pointRangePadding||0,o=t.min-n,s=(n=t.max+n)-o;if(s&&s/a<t.len/3)if(t.isLog)p(this.paddedTicks,function(e,i,n){i&&r.push.apply(r,t.getLogTickPositions(a,n[i-1],n[i],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(a),o,n,e.startOfWeek));else for(e=o+(i[0]-o)%a;e<=n&&e!==r[0];e+=a)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,n,o,s,d,c=this.options,h=this.min,u=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(c.min)||l(c.max)?this.minRange=null:(p(this.series,function(t){for(s=t.xData,n=t.xIncrement?1:s.length-1;0<n;n--)o=s[n]-s[n-1],(void 0===i||o<i)&&(i=o)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),u-h<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[h-(t=((d=this.minRange)-u+h)/2),T(c.min,h-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=[(h=a(t))+d,T(c.max,h+d)],e&&(u[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(u=r(u))-h<d&&(t[0]=u-d,t[1]=T(c.min,u-d),h=a(t))),this.min=h,this.max=u},getClosest:function(){var t;return this.categories?t=1:p(this.series,function(e){var i=e.closestPointRange,a=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&a&&(t=l(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=b(this.categories),a=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():i?v(t.name,a):T(a.keys[t.name],-1)),-1===r?i||(e=a.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names;0<i.length&&(p(t.keys(i.keys),function(t){delete i.keys[t]}),i.length=0,this.minRange=this.userMinRange,p(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),p(t.points,function(i,a){var r;i.options&&(void 0!==(r=e.nameToX(i))&&r!==i.x&&(i.x=r,t.xData[a]=r))})}))},setAxisTranslation:function(t){var e,i=this,a=i.max-i.min,r=i.axisPointRange||0,n=0,o=0,s=i.linkedParent,l=!!i.categories,d=i.transA,c=i.isXAxis;(c||l||r)&&(e=i.getClosest(),s?(n=s.minPointOffset,o=s.pointRangePadding):p(i.series,function(t){var a=l?1:c?T(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,a),i.single||(n=Math.max(n,y(t)?0:a/2),o=Math.max(o,"on"===t?0:a))}),s=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=n*=s,i.pointRangePadding=o*=s,i.pointRange=Math.min(r,a),c&&(i.closestPointRange=e)),t&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.options.staticScale||i.len/(a+o||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*n,u(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,a,r,n,s=this,d=s.chart,c=s.options,h=s.isLog,m=s.isDatetimeAxis,g=s.isXAxis,v=s.isLinked,b=c.maxPadding,y=c.minPadding,w=c.tickInterval,M=c.tickPixelInterval,S=s.categories,C=x(s.threshold)?s.threshold:null,A=s.softThreshold;m||S||v||this.getTickAmount(),r=T(s.userMin,c.min),n=T(s.userMax,c.max),v?(s.linkedParent=d[s.coll][c.linkedTo],d=s.linkedParent.getExtremes(),s.min=T(d.min,d.dataMin),s.max=T(d.max,d.dataMax),c.type!==s.linkedParent.options.type&&t.error(11,1)):(!A&&l(C)&&(s.dataMin>=C?(i=C,y=0):s.dataMax<=C&&(a=C,b=0)),s.min=T(r,i,s.dataMin),s.max=T(n,a,s.dataMax)),h&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,T(s.dataMin,s.min))&&t.error(10,1),s.min=o(s.log2lin(s.min),15),s.max=o(s.log2lin(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=Math.max(s.dataMin,s.minFromRange()),s.userMax=n=s.max,s.range=null),u(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(S||s.axisPointRange||s.usePercentage||v)&&l(s.min)&&l(s.max)&&(d=s.max-s.min)&&(!l(r)&&y&&(s.min-=d*y),!l(n)&&b&&(s.max+=d*b)),x(c.softMin)&&!x(s.userMin)&&(s.min=Math.min(s.min,c.softMin)),x(c.softMax)&&!x(s.userMax)&&(s.max=Math.max(s.max,c.softMax)),x(c.floor)&&(s.min=Math.max(s.min,c.floor)),x(c.ceiling)&&(s.max=Math.min(s.max,c.ceiling)),A&&l(s.dataMin)&&(C=C||0,!l(r)&&s.min<C&&s.dataMin>=C?s.min=C:!l(n)&&s.max>C&&s.dataMax<=C&&(s.max=C)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:v&&!w&&M===s.linkedParent.options.tickPixelInterval?w=s.linkedParent.tickInterval:T(w,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,S?1:(s.max-s.min)*M/Math.max(s.len,M)),g&&!e&&p(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!w&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=T(c.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!w&&s.tickInterval<e&&(s.tickInterval=e),m||h||w||(s.tickInterval=k(s.tickInterval,null,f(s.tickInterval),T(c.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,i=this.options,a=i.tickPositions;e=this.getMinorTickInterval();var r=i.tickPositioner,n=i.startOnTick,o=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==i.allowDecimals),this.tickPositions=e=a&&a.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&((e=[e[0],e.pop()])[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,n,o),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),a||r||this.adjustTickAmount()),u(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var a=t[0],r=t[t.length-1],n=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==a)this.min=a;else for(;this.min-n>t[0];)t.shift();if(i)this.max=r;else for(;this.max+n<t[t.length-1];)t.pop();0===t.length&&l(a)&&!this.options.tickPositions&&t.push((r+a)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||p(this.chart[this.coll],function(i){var a=i.options;a=[i.horiz?a.left:a.top,a.width,a.height,a.pane].join();i.series.length&&(e[a]?t=!0:e[a]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,a=this.finalTickAmt,r=e&&e.length,n=T(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<i){for(;e.length<i;)e.length%2||this.min===n?e.push(o(e[e.length-1]+t)):e.unshift(o(e[0]-t));this.transA*=(r-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(l(a)){for(t=i=e.length;t--;)(3===a&&1==t%2||2>=a&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,p(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),u(this,"afterSetScale")},setExtremes:function(t,e,i,a,r){var n=this,o=n.chart;i=T(i,!0),p(n.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),u(n,"setExtremes",r,function(){n.userMin=t,n.userMax=e,n.eventArgs=r,i&&o.redraw(a)})},zoom:function(t,e){var i=this.dataMin,a=this.dataMax,r=this.options,n=Math.min(i,T(r.min,i));r=Math.max(a,T(r.max,a));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<n&&(t=n),t>r&&(t=r)),l(a)&&(e<n&&(e=n),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=(s=this.options).offsets||[0,0,0,0],a=this.horiz,r=this.width=Math.round(t.relativeLength(T(s.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),n=this.height=Math.round(t.relativeLength(T(s.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),o=this.top=Math.round(t.relativeLength(T(s.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),s=this.left=Math.round(t.relativeLength(T(s.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-n-o,this.right=e.chartWidth-r-s,this.len=Math.max(a?r:n,0),this.pos=a?s:o},getExtremes:function(){var t=this.isLog;return{min:t?o(this.lin2log(this.min)):this.min,max:t?o(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?this.lin2log(this.min):this.min,i=i?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=i:e>t?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(T(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],a=T(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(a&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,a]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,a=this.options.labels,r=this.horiz,n=this.tickInterval,s=n,c=this.len/(((this.categories?1:0)+this.max-this.min)/n),h=a.rotation,u=this.labelMetrics(),m=Number.MAX_VALUE,f=function(t){return t=1<(t/=c||1)?Math.ceil(t):1,o(t*n)};return r?(i=!a.staggerLines&&!a.step&&(l(h)?[h]:c<T(a.autoRotationLimit,80)&&a.autoRotation))&&p(i,function(i){var a;(i===h||i&&-90<=i&&90>=i)&&((a=(e=f(Math.abs(u.h/Math.sin(d*i))))+Math.abs(i/360))<m&&(m=a,t=i,s=e))}):a.step||(s=f(u.h)),this.autoRotation=i,this.labelRotation=T(t,h),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/a||!e&&(i.style&&parseInt(i.style.width,10)||r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,a=this.chart,r=a.renderer,n=this.tickPositions,o=this.ticks,s=this.options.labels,l=s&&s.style||{},d=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(s.padding||5))),u={},m=this.labelMetrics(),f=s.style&&s.style.textOverflow,g=0;if(y(s.rotation)||(u.rotation=s.rotation||0),p(n,function(t){(t=o[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>m.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t=h,!f))for(e="clip",h=n.length;!d&&h--;)i=n[h],(i=o[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>c&&i.css({width:c+"px"}),i.getBBox().height>this.len/n.length-(m.h-m.f)&&(i.specificTextOverflow="ellipsis"));u.rotation&&(t=g>.5*a.chartHeight?.33*a.chartHeight:g,f||(e="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(u.align=this.labelAlign),p(n,function(i){var a=(i=o[i])&&i.label,r=l.width,n={};a&&(a.attr(u),t&&!r&&"nowrap"!==l.whiteSpace&&(t<a.textPxLength||"SPAN"===a.element.tagName)?(n.width=t,f||(n.textOverflow=a.specificTextOverflow||e),a.css(n)):a.styles&&a.styles.width&&!n.width&&!r&&a.css({width:null}),delete a.specificTextOverflow,i.rotation=u.rotation)}),this.tickRotCorr=r.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,a=this.horiz,r=this.opposite,n=this.options.title;this.axisTitle||((e=n.textAlign)||(e=(a?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[n.align]),this.axisTitle=i.text(n.text,0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||0,align:e}).addClass("highcharts-axis-title").css(w(n.style)).add(this.axisGroup),this.axisTitle.isNew=!0),n.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new L(this,t)},getOffset:function(){var t,e,i,a=this,r=(y=a.chart).renderer,n=a.options,o=a.tickPositions,s=a.ticks,d=a.horiz,c=a.side,h=y.inverted&&!a.isZAxis?[1,0,3,2][c]:c,m=0,f=0,g=n.title,v=n.labels,b=0,x=y.axisOffset,y=y.clipOffset,w=[-1,1,1,-1][c],k=n.className,S=a.axisParent,C=this.tickSize("tick");t=a.hasData(),a.showAxis=e=t||T(n.showEmpty,!0),a.staggerLines=a.horiz&&v.staggerLines,a.axisGroup||(a.gridGroup=r.g("grid").attr({zIndex:n.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(k||"")).add(S),a.axisGroup=r.g("axis").attr({zIndex:n.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(k||"")).add(S),a.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(k||"")).add(S)),t||a.isLinked?(p(o,function(t,e){a.generateTick(t,e)}),a.renderUnsquish(),a.reserveSpaceDefault=0===c||2===c||{1:"left",3:"right"}[c]===a.labelAlign,T(v.reserveSpace,"center"===a.labelAlign||null,a.reserveSpaceDefault)&&p(o,function(t){b=Math.max(s[t].getLabelSize(),b)}),a.staggerLines&&(b*=a.staggerLines),a.labelOffset=b*(a.opposite?-1:1)):M(s,function(t,e){t.destroy(),delete s[e]}),g&&g.text&&!1!==g.enabled&&(a.addTitle(e),e&&!1!==g.reserveSpace&&(a.titleOffset=m=a.axisTitle.getBBox()[d?"height":"width"],i=g.offset,f=l(i)?0:T(g.margin,d?5:10))),a.renderLine(),a.offset=w*T(n.offset,x[c]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},r=0===c?-a.labelMetrics().h:2===c?a.tickRotCorr.y:0,f=Math.abs(b)+f,b&&(f=f-r+w*(d?T(v.y,a.tickRotCorr.y+8*w):v.x)),a.axisTitleMargin=T(i,f),x[c]=Math.max(x[c],a.axisTitleMargin+m+w*a.offset,f,t&&o.length&&C?C[0]+w*a.offset:0),n=n.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),y[h]=Math.max(y[h],n),u(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,i=this.opposite,a=this.offset,r=this.horiz,n=this.left+(i?this.width:0)+a;a=e.chartHeight-this.bottom-(i?this.height:0)+a;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:n,r?a:this.top,"L",r?e.chartWidth-this.right:n,r?a:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,a=this.len,r=this.options.title,n=t?e:i,o=this.opposite,s=this.offset,l=r.x||0,d=r.y||0,c=this.axisTitle,p=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-p.h-1,0),a={low:n+(t?0:a),middle:n+a/2,high:n+(t?a:0)}[r.align],e=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+[-c,c,p.f,-c][this.side];return{x:t?a+l:e+(o?this.width:0)+s+l,y:t?e+d-(o?this.height:0)+s:a+d}},renderMinorTick:function(t){var e=this.chart.hasRendered&&x(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new L(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,a=this.ticks,r=this.chart.hasRendered&&x(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(a[t]||(a[t]=new L(this,t)),r&&a[t].isNew&&a[t].render(e,!0,.1),a[t].render(e))},render:function(){var e,a,r=this,n=r.chart,o=r.options,s=r.isLog,l=r.isLinked,d=r.tickPositions,c=r.axisTitle,h=r.ticks,m=r.minorTicks,f=r.alternateBands,g=o.stackLabels,v=o.alternateGridColor,b=r.tickmarkOffset,y=r.axisLine,w=r.showAxis,k=i(n.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,p([h,m,f],function(t){M(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&p(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),d.length&&(p(d,function(t,e){r.renderTick(t,e)}),b&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new L(r,-1,null,!0)),h[-1].render(-1))),v&&p(d,function(i,o){a=void 0!==d[o+1]?d[o+1]+b:r.max-b,0==o%2&&i<r.max&&a<=r.max+(n.polar?-b:b)&&(f[i]||(f[i]=new t.PlotLineOrBand(r)),e=i+b,f[i].options={from:s?r.lin2log(e):e,to:s?r.lin2log(a):a,color:v},f[i].render(),f[i].isActive=!0)}),r._addedPlotLB||(p((o.plotLines||[]).concat(o.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),p([h,m,f],function(t){var e,i=[],a=k.duration;M(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),A(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==f&&n.hasRendered&&a?a:0)}),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[w?"show":"hide"](!0)),c&&w&&(o=r.getTitlePosition(),x(o.y)?(c[c.isNew?"attr":"animate"](o),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)),g&&g.enabled&&r.renderStackTotals(),r.isDirty=!1,u(this,"afterRender")},redraw:function(){this.visible&&(this.render(),p(this.plotLinesAndBands,function(t){t.render()})),p(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,a=i.stacks,r=i.plotLinesAndBands;if(u(this,"destroy",{keepEvents:t}),t||S(i),M(a,function(t,e){c(t),a[e]=null}),p([i.ticks,i.minorTicks,i.alternateBands],function(t){c(t)}),r)for(t=r.length;t--;)r[t].destroy();for(e in p("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();M(i,function(t,e){-1===v(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,a,r=this.crosshair,o=T(r.snap,!0),s=this.cross;if(u(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!o)){if(o?l(e)&&(a=T(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):a=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(a)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:T(e.stackY,e.y)),null,null,null,a)||null),!l(i))return void this.hideCrosshair();o=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+r.className).attr({zIndex:T(r.zIndex,2)}).add(),s.attr({stroke:r.color||(o?n("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":T(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:i}),o&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();u(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=E}(d);return function(t){var e=t.Axis,i=t.getMagnitude,a=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var o,s=r[e[0]],l=e[1];for(o=0;o<n.length&&(e=n[o],s=r[e[0]],l=e[1],!(n[o+1]&&t<=(s*l[l.length-1]+r[n[o+1][0]])/2));o++);return s===r.year&&t<5*s&&(l=[1,2,5]),{unitRange:s,count:t=a(t/s,l,"year"===e[0]?Math.max(i(t/s),1):1),unitName:e[0]}}}(d),function(t){var e=t.Axis,i=t.getMagnitude,a=t.map,r=t.normalizeTickInterval,n=t.pick;e.prototype.getLogTickPositions=function(t,e,o,s){var l=this.options,d=this.len,c=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),c=this.getLinearTickPositions(t,e,o);else if(.08<=t){var p,h,u,m,f;for(d=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];d<o+1&&!f;d++)for(h=l.length,p=0;p<h&&!f;p++)(u=this.log2lin(this.lin2log(d)*l[p]))>e&&(!s||m<=o)&&void 0!==m&&c.push(m),m>o&&(f=!0),m=u}else e=this.lin2log(e),o=this.lin2log(o),t=s?this.getMinorTickInterval():l.tickInterval,t=n("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(o-e)/((s?d/this.tickPositions.length:d)||1)),t=r(t,null,i(t)),c=a(this.getLinearTickPositions(t,e,o),this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),c},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(d),function(t,e){var i=t.arrayMax,a=t.arrayMin,r=t.defined,n=t.destroyObjectProperties,o=t.each,s=t.erase,l=t.merge,d=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,a=i.horiz,n=e.options,o=n.label,s=e.label,c=n.to,p=n.from,h=n.value,u=r(p)&&r(c),m=r(h),f=e.svgElem,g=!f,v=[],b=n.color,x=d(n.zIndex,0),y=n.events,w=(v={class:"highcharts-plot-"+(u?"band ":"line ")+(n.className||"")},{}),k=i.chart.renderer,M=u?"bands":"lines";if(i.isLog&&(p=i.log2lin(p),c=i.log2lin(c),h=i.log2lin(h)),m?(v.stroke=b,v["stroke-width"]=n.width,n.dashStyle&&(v.dashstyle=n.dashStyle)):u&&(b&&(v.fill=b),n.borderWidth&&(v.stroke=n.borderColor,v["stroke-width"]=n.borderWidth)),w.zIndex=x,M+="-"+x,(b=i.plotLinesAndBandsGroups[M])||(i.plotLinesAndBandsGroups[M]=b=k.g("plot-"+M).attr(w).add()),g&&(e.svgElem=f=k.path().attr(v).add(b)),m)v=i.getPlotLinePath(h,f.strokeWidth());else{if(!u)return;v=i.getPlotBandPath(p,c,n)}return g&&v&&v.length?(f.attr({d:v}),y&&t.objectEach(y,function(t,i){f.on(i,function(t){y[i].apply(e,[t])})})):f&&(v?(f.show(),f.animate({d:v})):(f.hide(),s&&(e.label=s=s.destroy()))),o&&r(o.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.isFlat?(o=l({align:a&&u&&"center",x:a?!u&&4:10,verticalAlign:!a&&u&&"middle",y:a?u?16:10:u?6:-4,rotation:a&&!u&&90},o),this.renderLabel(o,v,u,x)):s&&s.hide(),e},renderLabel:function(t,e,r,n){var o=this.label,s=this.axis.chart.renderer;o||((o={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=n,this.label=o=s.text(t.text,0,0,t.useHTML).attr(o).add(),o.css(t.style)),n=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=a(n),s=a(e),o.align(t,!1,{x:r,y:s,width:i(n)-r,height:i(e)-s}),o.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,n(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,a=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),n=[],o=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&a)for(t&&(i=r.toString()===a.toString(),s=0),t=0;t<r.length;t+=6)o&&a[t+1]===r[t+1]?(a[t+1]+=s,a[t+4]+=s):o||a[t+2]!==r[t+2]||(a[t+2]+=s,a[t+5]+=s),n.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],a[t+4],a[t+5],a[t+1],a[t+2],"z"),n.isFlat=i;return n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var a=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return a&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(a)),a},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,a=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();o([i.plotLines||[],a.plotLines||[],i.plotBands||[],a.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(d,c),function(t){var e=t.doc,i=t.each,a=t.extend,r=t.format,n=t.isNumber,o=t.map,s=t.merge,l=t.pick,d=t.splat,c=t.syncTimeout,p=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var e,i=this.chart.renderer,a=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:a.style&&a.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0)),this.split?this.label=i.g("tooltip"):(this.label=i.label("",0,0,a.shape||"callout",null,null,a.useHTML,null,"tooltip").attr({padding:a.padding,r:a.borderRadius}),this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).shadow(a.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,r,n){var o=this,s=o.now,l=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(e-s.x)||1<Math.abs(i-s.y)),d=o.followPointer||1<o.len;a(s,{x:l?(2*s.x+e)/3:e,y:l?(s.y+i)/2:i,anchorX:d?void 0:l?(2*s.anchorX+r)/3:r,anchorY:d?void 0:l?(s.anchorY+n)/2:n}),o.getLabel().attr(s),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,r,n)},32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0},e))},getAnchor:function(t,e){var a,r,n=this.chart,s=n.pointer,l=n.inverted,c=n.plotTop,p=n.plotLeft,h=0,u=0;return t=d(t),this.followPointer&&e?(void 0===e.chartX&&(e=s.normalize(e)),t=[e.chartX-n.plotLeft,e.chartY-c]):t[0].tooltipPos?t=t[0].tooltipPos:(i(t,function(t){a=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!l&&r?r.left-p:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&a?a.top-c:0)}),h/=t.length,u/=t.length,t=[l?n.plotWidth-u:h,this.shared&&!l&&1<t.length&&e?e.chartY-c:l?n.plotHeight-h:u]),o(t,Math.round)},getPosition:function(t,i,a){var r,n=this.chart,o=this.distance,s={},d=n.inverted&&a.h||0,c=this.outside,p=c?e.documentElement.clientWidth-2*o:n.chartWidth,h=c?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):n.chartHeight,u=n.pointer.chartPosition,m=["y",h,i,(c?u.top-o:0)+a.plotY+n.plotTop,c?0:n.plotTop,c?h:n.plotTop+n.plotHeight],f=["x",p,t,(c?u.left-o:0)+a.plotX+n.plotLeft,c?0:n.plotLeft,c?p:n.plotLeft+n.plotWidth],g=!this.followPointer&&l(a.ttBelow,!n.inverted==!!a.negative),v=function(t){var e=m;m=f,f=e,r=t},b=function(){!1!==function(t,e,i,a,r,n){var l=i<a-o,c=a+o+i<e,p=a-o-i;if(a+=o,g&&c)s[t]=a;else if(!g&&l)s[t]=p;else if(l)s[t]=Math.min(n-i,0>p-d?p:p-d);else{if(!c)return!1;s[t]=Math.max(r,a+d+i>e?a:a+d)}}.apply(0,m)?!1!==function(t,e,i,a){var r;return a<o||a>e-o?r=!1:s[t]=a<i/2?1:a>e-i/2?e-i-2:a-i/2,r}.apply(0,f)||r||(v(!0),b()):r?s.x=s.y=0:(v(!0),b())};return(n.inverted||1<this.len)&&v(),b(),s},defaultFormatter:function(t){var e,i=this.points||d(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(e,a){var r,n,o,s=this.options,c=e,p={},h=[];r=s.formatter||this.defaultFormatter;var u;p=this.shared;s.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=d(c)[0].series.tooltipOptions.followPointer,a=(o=this.getAnchor(c,a))[0],n=o[1],!p||c.series&&c.series.noSharedTooltip?p=c.getLabelConfig():(i(c,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),(p={x:c[0].category,y:c[0].y}).points=h,c=c[0]),this.len=h.length,p=r.call(p,this),u=c.series,this.distance=l(u.tooltipOptions.distance,16),!1===p?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(p,d(e)):(s.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:p&&p.join?p.join(""):p}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(c.colorIndex,u.colorIndex)),r.attr({stroke:s.borderColor||c.color||u.color||"#666666"}),this.updatePosition({plotX:a,plotY:n,negative:c.negative,ttBelow:c.ttBelow,h:o[2]||0})),this.isHidden=!1))},renderSplit:function(e,a){var r,n=this,o=[],s=this.chart,d=s.renderer,c=!0,p=this.options,h=0,u=this.getLabel(),m=s.plotTop;t.isString(e)&&(e=[!1,e]),i(e.slice(0,a.length+1),function(t,e){if(!1!==t){var i=(e=a[e-1]||{isHeader:!0,plotX:a[0].plotX}).series||n,f=i.tt,g=e.series||{},v="highcharts-color-"+l(e.colorIndex,g.colorIndex,"none");f||(i.tt=f=d.label(null,null,null,"callout",null,null,p.useHTML).addClass("highcharts-tooltip-box "+v+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:p.padding,r:p.borderRadius,fill:p.backgroundColor,stroke:p.borderColor||e.color||g.color||"#333333","stroke-width":p.borderWidth}).add(u)),f.isActive=!0,f.attr({text:t}),f.css(p.style).shadow(p.shadow),g=(t=f.getBBox()).width+f.strokeWidth(),e.isHeader?(h=t.height,s.xAxis[0].opposite&&(r=!0,m-=h),g=Math.max(0,Math.min(e.plotX+s.plotLeft-g/2,s.chartWidth+(s.scrollablePixels?s.scrollablePixels-s.marginRight:0)-g))):g=e.plotX+s.plotLeft-l(p.distance,16)-g,0>g&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=m,e.isHeader&&(t=r?-h:s.plotHeight+h),o.push({target:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:g,tt:f})}}),this.cleanSplit(),t.distribute(o,s.plotHeight+h),i(o,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+s.plotLeft+l(p.distance,16),y:t.pos+m,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?s.plotTop+s.plotHeight/2:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e,i=this.chart,a=this.getLabel(),r=(this.options.positioner||this.getPosition).call(this,a.width,a.height,t),n=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(a.width+e,a.height+e,!1),n+=i.pointer.chartPosition.left-r.x,t+=i.pointer.chartPosition.top-r.y),this.move(Math.round(r.x),Math.round(r.y||0),n,t)},getDateFormat:function(t,e,i,a){var r,n,o=this.chart.time,s=o.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},d="millisecond";for(n in p){if(t===p.week&&+o.dateFormat("%w",e)===i&&"00:00:00.000"===s.substr(6)){n="week";break}if(p[n]>t){n=d;break}if(l[n]&&s.substr(l[n])!=="01-01 00:00:00.000".substr(l[n]))break;"week"!==n&&(d=n)}return n&&(r=a[n]),r},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var a=i&&i.closestPointRange;return(a?this.getDateFormat(a,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var a=t.series,o=a.tooltipOptions,s=o.xDateFormat,l=a.xAxis,d=l&&"datetime"===l.options.type&&n(t.key),c=o[e+"Format"];return d&&!s&&(s=this.getXDateFormat(t,o,l)),d&&s&&i(t.point&&t.point.tooltipDateKeys||["key"],function(t){c=c.replace("{point."+t+"}","{point."+t+":"+s+"}")}),r(c,{point:t,series:a},this.chart.time)},bodyFormatter:function(t){return o(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(d),function(t){var e=t.addEvent,i=t.attr,a=t.charts,r=t.color,n=t.css,o=t.defined,s=t.each,l=t.extend,d=t.find,c=t.fireEvent,p=t.isNumber,h=t.isObject,u=t.offset,m=t.pick,f=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=m(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(a=this.chart).options.chart,i=e.zoomType||"",a=a.inverted;/touch/.test(t.type)&&(i=m(e.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!a||i&&a,this.zoomVert=i&&!a||t&&a,this.hasZoom=t||i},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=u(this.chart.container)),l(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return s(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var a;return s(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,r),(r=h(t,!0))&&!(r=!h(a,!0))){r=a.distX-t.distX;var n=a.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);r=0<(0!==r&&e?r:0!==n?n:0!==o?o:a.series.index>t.series.index?-1:1)}r&&(a=t)}),a},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=(a=t.series).xAxis,a=a.yAxis,r=m(t.clientX,t.plotX),n=t.shapeArgs;return i&&a?e?{chartX:i.len+i.pos-r,chartY:a.len+a.pos-t.plotY}:{chartX:r+i.pos,chartY:t.plotY+a.pos}:n&&n.x&&n.y?{chartX:n.x,chartY:n.y}:void 0},getHoverData:function(e,i,a,r,n,o,l){var c,p=[],u=l&&l.isBoosting;return r=!(!r||!e),l=i&&!i.stickyTracking?[i]:t.grep(a,function(t){return t.visible&&!(!n&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&t.stickyTracking}),i=(c=r?e:this.findNearestKDPoint(l,n,o))&&c.series,c&&(n&&!i.noSharedTooltip?(l=t.grep(a,function(t){return t.visible&&!(!n&&t.directTouch)&&m(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),s(l,function(t){var e=d(t.points,function(t){return t.x===c.x&&!t.isNull});h(e)&&(u&&(e=t.getPoint(e)),p.push(e))})):p.push(c)),{hoverPoint:c,hoverSeries:i,hoverPoints:p}},runPointActions:function(i,r){var n,o=this.chart,l=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,d=!!l&&l.shared,c=(p=r||o.hoverPoint)&&p.series||o.hoverSeries,p=(c=this.getHoverData(p,c,o.series,"touchmove"!==i.type&&(!!r||c&&c.directTouch&&this.isDirectTouch),d,i,{isBoosting:o.isBoosting})).hoverPoint;if(n=c.hoverPoints,r=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,d=d&&c&&!c.noSharedTooltip,p&&(p!==o.hoverPoint||l&&l.isHidden)){if(s(o.hoverPoints||[],function(e){-1===t.inArray(e,n)&&e.setState()}),s(n||[],function(t){t.setState("hover")}),o.hoverSeries!==c&&c.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!p.series)return;p.firePointEvent("mouseOver"),o.hoverPoints=n,o.hoverPoint=p,l&&l.refresh(d?n:p,i)}else r&&l&&!l.isHidden&&(p=l.getAnchor([{}],i),l.updatePosition({plotX:p[0],plotY:p[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(o.container.ownerDocument,"mousemove",function(e){var i=a[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),s(o.axes,function(e){var a=m(e.crosshair.snap,!0),r=a?t.find(n,function(t){return t.series[e.coll]===e}):void 0;r||!a?e.drawCrosshair(i,r):e.hideCrosshair()})},reset:function(t,e){var i=this.chart,a=i.hoverSeries,r=i.hoverPoint,n=i.hoverPoints,o=i.tooltip,l=o&&o.shared?n:r;t&&l&&s(f(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?o&&l&&(o.refresh(l),o.shared&&n?s(n,function(t){t.setState(t.state,!0),t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t)}):r&&(r.setState(r.state,!0),s(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),n&&s(n,function(t){t.setState()}),a&&a.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,a=this.chart;s(a.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?a.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),a.clipRect.attr(e||a.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,a=i.options.chart,n=t.chartX,o=t.chartY,s=this.zoomHor,l=this.zoomVert,d=i.plotLeft,c=i.plotTop,p=i.plotWidth,h=i.plotHeight,u=this.selectionMarker,m=this.mouseDownX,f=this.mouseDownY,g=a.panKey&&t[a.panKey+"Key"];u&&u.touch||(n<d?n=d:n>d+p&&(n=d+p),o<c?o=c:o>c+h&&(o=c+h),this.hasDragged=Math.sqrt(Math.pow(m-n,2)+Math.pow(f-o,2)),10<this.hasDragged&&(e=i.isInsidePlot(m-d,f-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!u&&(this.selectionMarker=u=i.renderer.rect(d,c,s?1:p,l?1:h,0).attr({fill:a.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),u&&s&&(n-=m,u.attr({width:Math.abs(n),x:(0<n?0:n)+m})),u&&l&&(n=o-f,u.attr({height:Math.abs(n),y:(0<n?0:n)+f})),e&&!u&&a.panning&&i.pan(t,a.panning)))},drop:function(t){var e=this,i=this.chart,a=this.hasPinched;if(this.selectionMarker){var r,d={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,u=h.attr?h.attr("x"):h.x,m=h.attr?h.attr("y"):h.y,f=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||a)&&(s(i.axes,function(i){if(i.zoomEnabled&&o(i.min)&&(a||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var n=i.horiz,s="touchend"===t.type?i.minPixelPadding:0,l=i.toValue((n?u:m)+s);n=i.toValue((n?u+f:m+g)-s);d[i.coll].push({axis:i,min:Math.min(l,n),max:Math.max(l,n)}),r=!0}}),r&&c(i,"selection",d,function(t){i.zoom(l(t,a?{animation:!1}:null))})),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),a&&this.scaleGroups()}i&&p(i.index)&&(n(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){a[t.hoverChartIndex]&&a[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=a[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;o(t.hoverChartIndex)&&a[t.hoverChartIndex]&&a[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var a;t;){if(a=i(t,"class")){if(-1!==a.indexOf(e))return!0;if(-1!==a.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,a=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(c(i.series,"click",l(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-a,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var i=this,a=i.chart.container,r=a.ownerDocument;a.onmousedown=function(t){i.onContainerMouseDown(t)},a.onmousemove=function(t){i.onContainerMouseMove(t)},a.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(a,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(a.ontouchstart=function(t){i.onContainerTouchStart(t)},a.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(d),function(t){var e=t.charts,i=t.each,a=t.extend,r=t.map,n=t.noop,o=t.pick;a(t.Pointer.prototype,{pinchTranslate:function(t,e,i,a,r,n){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,a,r,n),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,a,r,n)},pinchTranslateDirection:function(t,e,i,a,r,n,o,s){var l,d,c,p=this.chart,h=t?"x":"y",u=t?"X":"Y",m="chart"+u,f=t?"width":"height",g=p["plot"+(t?"Left":"Top")],v=s||1,b=p.inverted,x=p.bounds[t?"h":"v"],y=1===e.length,w=e[0][m],k=i[0][m],M=!y&&e[1][m],T=!y&&i[1][m];(i=function(){!y&&20<Math.abs(w-M)&&(v=s||Math.abs(k-T)/Math.abs(w-M)),d=(g-k)/v+w,l=p["plot"+(t?"Width":"Height")]/v})(),(e=d)<x.min?(e=x.min,c=!0):e+l>x.max&&(e=x.max-l,c=!0),c?(k-=.8*(k-o[h][0]),y||(T-=.8*(T-o[h][1])),i()):o[h]=[k,T],b||(n[h]=d-g,n[f]=l),n=b?1/v:v,r[f]=l,r[h]=e,a[b?t?"scaleY":"scaleX":"scale"+u]=v,a["translate"+u]=n*g+(k-n*w)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,d=t.touches,c=d.length,p=e.lastValidTouch,h=e.hasZoom,u=e.selectionMarker,m={},f=1===c&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),g={};1<c&&(e.initiated=!0),h&&e.initiated&&!f&&t.preventDefault(),r(d,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(d,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),p.x=[l[0].chartX,l[1]&&l[1].chartX],p.y=[l[0].chartY,l[1]&&l[1].chartY],i(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,a=t.toPixels(o(t.options.min,t.dataMin)),r=t.toPixels(o(t.options.max,t.dataMax)),n=Math.max(a,r);e.min=Math.min(t.pos,Math.min(a,r)-i),e.max=Math.max(t.pos+t.len,n+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(u||(e.selectionMarker=u=a({destroy:n,touch:!0},s.plotBox)),e.pinchTranslate(l,d,m,u,g,p),e.hasPinched=h,e.scaleGroups(m,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var a,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(a=!!(i=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),o(a,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(d),function(t){var e=t.addEvent,i=t.charts,a=t.css,r=t.doc,n=t.extend,o=t.noop,s=t.Pointer,l=t.removeEvent,d=t.win,c=t.wrap;if(!t.hasTouch&&(d.PointerEvent||d.MSPointerEvent)){var p={},h=!!d.PointerEvent,u=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(p,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},m=function(e,a,r,n){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(n(e),(n=i[t.hoverChartIndex].pointer)[a]({type:r,target:e.currentTarget,preventDefault:o,touches:u()}))};n(s.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",function(t){delete p[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(s.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&a(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(s.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(d),function(t){var e=t.addEvent,i=t.css,a=t.discardElement,r=t.defined,n=t.each,o=t.fireEvent,s=t.isFirefox,l=t.marginNames,d=t.merge,c=t.pick,p=t.setAnimation,h=t.stableSort,u=t.win,m=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=d(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=c(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(d(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,c(e,!0)&&i.redraw(),o(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,a=t.legendItem,r=t.legendLine,n=t.legendSymbol,s=this.itemHiddenStyle.color,l=(i=e?i.itemStyle.color:s,e&&t.color||s),d=t.options&&t.options.marker,c={fill:l};a&&a.css({fill:i,color:i}),r&&r.attr({stroke:l}),n&&(d&&n.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=s)),n.attr(c)),o(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){n(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,a=(n=t._legendItemPos)[0],n=n[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:i?a:this.legendWidth-a-2*e-4,translateY:n}),o&&(o.x=a,o.y=n)},destroyItem:function(t){var e=t.checkbox;n(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&a(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}n(this.getAllItems(),function(e){n(["legendItem","legendGroup"],t,e)}),n("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,a=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,n(this.allItems,function(n){var o,s=n.checkbox;s&&(o=t+r+s.y+(this.scrollOffset||0)+3,i(s,{left:e.translateX+n.checkboxOffset+s.x-20+"px",top:o+"px",display:o>t-6&&o<t+a-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,a=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),a=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,a=this.options,r=this.symbolWidth,n=a.symbolPadding,o=this.itemStyle,s=this.itemHiddenStyle,l="horizontal"===a.layout?c(a.itemDistance,20):0,p=!a.rtl,h=t.legendItem,u=!t.series,m=!u&&t.series.drawLegendSymbol?t.series:t,f=m.options,g=(l=r+n+l+((f=this.createCheckboxForItem&&f&&f.showCheckbox)?20:0),a.useHTML),v=t.options.className;h||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(u?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=i.text("",p?r+n:-n,this.baseline||0,g).css(d(t.visible?o:s)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=o.fontSize,this.fontMetrics=i.fontMetrics(r,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,m.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,g),f&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),o.width||h.css({width:(a.itemWidth||a.width||e.spacingBox.width)-l}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=a.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,a="horizontal"===e.layout,r=t.itemHeight,n=e.itemMarginBottom||0,o=this.itemMarginTop,s=a?c(e.itemDistance,20):0,l=e.width,d=l||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>d?this.maxItemWidth:t.itemWidth;a&&this.itemX-i+e>d&&(this.itemX=i,this.itemY+=o+this.lastLineHeight+n,this.lastLineHeight=0),this.lastItemY=o+this.itemY+n,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=e:(this.itemY+=o+r+n,this.lastLineHeight=r),this.offsetWidth=l||Math.max((a?this.itemX-i-(t.checkbox?0:s):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return n(this.chart.series,function(e){var i=e&&e.options;e&&c(i.showInLegend,!r(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),o(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,a=this.options,o=this.getAlignment();o&&n([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(n,s){n.test(o)&&!r(t[s])&&(i[l[s]]=Math.max(i[l[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*a[s%2?"x":"y"]+c(a.margin,12)+e[s]+(0===s&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,i=[],a="left"===this.options.align;n(this.allItems,function(r){var n,o;n=a,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(n=!n),n=t.find(n?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),o=r.legendGroup.getBBox().height,i.push({target:r.visible?(n?n.plotY:r.xAxis.height)-.3*o:e.plotHeight,size:o,item:r}))},this),t.distribute(i,e.plotHeight),n(i,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,i,a=this.chart,r=a.renderer,o=this.group,s=this.box,l=this.options,c=this.padding;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,o||(this.group=o=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(o),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,n(t,this.renderItem,this),n(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+c,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=c,s||(this.box=s=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(o),s.isNew=!0),s.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<i&&(s[s.isNew?"attr":"animate"](s.crisp.call({},{x:0,y:0,width:t,height:i},s.strokeWidth())),s.isNew=!1),s[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(r=a.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=d(r,{y:r.y+a.titleOffset+a.options.title.margin})),o.align(d(l,{width:t,height:i,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,i,a=this,r=(d=this.chart).renderer,o=this.options,s=o.y,l=this.padding,d=d.spacingBox.height+("top"===o.verticalAlign?-s:s)-l,p=(s=o.maxHeight,this.clipRect),h=o.navigation,u=c(h.animation,!0),m=h.arrowSize||12,f=this.nav,g=this.pages,v=this.allItems,b=function(t){"number"==typeof t?p.attr({height:t}):p&&(a.clipRect=p.destroy(),a.contentGroup.clip()),a.contentGroup.div&&(a.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(d/=2),s&&(d=Math.min(d,s)),g.length=0,t>d&&!1!==h.enabled?(this.clipHeight=e=Math.max(d-20-this.titleHeight-l,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,n(v,function(t,a){var r=t._legendItemPos[1],n=Math.round(t.legendItem.getBBox().height),o=g.length;(!o||r-g[o-1]>e&&(i||r)!==g[o-1])&&(g.push(i||r),o++),t.pageIx=o-1,i&&(v[a-1].pageIx=o-1),a===v.length-1&&r+n-g[o-1]>e&&(g.push(r),t.pageIx=o),r!==i&&(i=r)}),p||(p=a.clipRect=r.clipRect(0,l,9999,0),a.contentGroup.clip(p)),b(e),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){a.scroll(-1,u)}).add(f),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(f),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){a.scroll(1,u)}).add(f)),a.scroll(0),t=d):f&&(b(),this.nav=f.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,a=i.length;t=this.currentPage+t;var r=this.clipHeight,n=this.options.navigation,o=this.pager,s=this.padding;t>a&&(t=a),0<t&&(void 0!==e&&p(e,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:t+"/"+a}),this.down.attr({x:18+this.pager.getBBox().width,class:t===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?n.inactiveColor:n.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===a?n.inactiveColor:n.activeColor}).css({cursor:t===a?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,a=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,c(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,a=i.marker,r=t.symbolWidth,n=t.symbolHeight,o=n/2,s=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(l),a&&!1!==a.enabled&&r&&(i=Math.min(c(a.radius,o),o),0===this.symbol.indexOf("url")&&(a=d(a,{width:n,height:n}),i=0),this.legendSymbol=a=s.symbol(this.symbol,r/2-i,t-i,2*i,2*i,a).addClass("highcharts-point").add(l),a.isMarker=!0)}},(/Trident\/7\.0/.test(u.navigator.userAgent)||s)&&m(t.Legend.prototype,"positionItem",function(t,e){var i=this,a=function(){e._legendItemPos&&t.call(i,e)};a(),setTimeout(a)})}(d),function(t){var e=t.addEvent,i=t.animate,a=t.animObject,r=t.attr,n=t.doc,o=t.Axis,s=t.createElement,l=t.defaultOptions,d=t.discardElement,c=t.charts,p=t.css,h=t.defined,u=t.each,m=t.extend,f=t.find,g=t.fireEvent,v=t.grep,b=t.isNumber,x=t.isObject,y=t.isString,w=t.Legend,k=t.marginNames,M=t.merge,T=t.objectEach,S=t.Pointer,C=t.pick,A=t.pInt,L=t.removeEvent,E=t.seriesTypes,z=t.splat,P=t.syncTimeout,O=t.win,I=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new I(t,e,i)},m(I.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(y(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,a){var r,n,o=i.series,s=i.plotOptions||{};g(this,"init",{args:arguments},function(){for(n in i.series=null,(r=M(l,i)).plotOptions)r.plotOptions[n].tooltip=s[n]&&M(s[n].tooltip)||void 0;r.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,r.series=i.series=o,this.userOptions=i;var d=r.chart,p=d.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=a,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=d.showAxes;var h=this;h.index=c.length,c.push(h),t.chartCount++,p&&T(p,function(t,i){e(h,i,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,g(h,"afterInit"),h.firstRender()})},initSeries:function(e){var i=this.options.chart;return(i=E[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),(i=new i).init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var a=i?e:t;return t=i?t:e,0<=a&&a<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var i,a,r,n=this.axes,o=this.series,s=this.pointer,l=this.legend,d=this.userOptions.legend,c=this.isDirtyLegend,p=this.hasCartesianSeries,h=this.isDirtyBox,f=this.renderer,v=f.isHidden(),b=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=o.length;e--;)if((r=o[e]).options.stacking&&(i=!0,r.isDirty)){a=!0;break}if(a)for(e=o.length;e--;)(r=o[e]).options.stacking&&(r.isDirty=!0);u(o,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),c=!0):d&&(d.labelFormatter||d.labelFormat)&&(c=!0)),t.isDirtyData&&g(t,"updatedData")}),c&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),p&&u(n,function(t){t.updateNames(),t.setScale()}),this.getMargins(),p&&(u(n,function(t){t.isDirty&&(h=!0)}),u(n,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){g(t,"afterSetExtremes",m(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||i)&&t.redraw()})),h&&this.drawChartBox(),g(this,"predraw"),u(o,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),f.draw(),g(this,"redraw"),g(this,"render"),v&&this.temporaryDisplay(!0),u(b,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,a,r=this.series;for(i=f(this.axes,e)||f(this.series,e),a=0;!i&&a<r.length;a++)i=f(r[a].points||[],e);return i},getAxes:function(){var t=this,e=(i=this.options).xAxis=z(i.xAxis||{}),i=i.yAxis=z(i.yAxis||{});g(this,"getAxes"),u(e,function(t,e){t.index=e,t.isX=!0}),u(i,function(t,e){t.index=e}),e=e.concat(i),u(e,function(e){new o(t,e)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return u(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var a,r=this,n=r.options;a=n.title=M({style:{color:"#333333",fontSize:n.isStock?"16px":"18px"}},n.title,t),n=n.subtitle=M({style:{color:"#666666"}},n.subtitle,e),u([["title",t,a],["subtitle",e,n]],function(t,e){var i=t[0],a=r[i],n=t[1];t=t[2],a&&n&&(r[i]=a=a.destroy()),t&&!a&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(t.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,i=0,a=this.renderer,r=this.spacingBox;u(["title","subtitle"],function(t){var e,n=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:i+2,n&&(e=o.style.fontSize,e=a.fontMetrics(e,n).b,n.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(m({y:t+e},o),!1,"spacingBox"),o.floating||o.verticalAlign||(i=Math.ceil(i+n.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&C(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(i=this.options.chart).width,i=i.height,a=this.renderTo;h(e)||(this.containerWidth=t.getStyle(a,"width")),h(i)||(this.containerHeight=t.getStyle(a,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(i,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(n.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(n.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,n.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==n.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,a,o=this.options,l=o.chart;e=this.renderTo;var d,p=t.uniqueKey();e||(this.renderTo=e=l.renderTo),y(e)&&(this.renderTo=e=n.getElementById(e)),e||t.error(13,!0),i=A(r(e,"data-highcharts-chart")),b(i)&&c[i]&&c[i].hasRendered&&c[i].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,a=this.chartHeight,d=m({position:"relative",overflow:"hidden",width:i+"px",height:a+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=s("div",{id:p},d,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,i,a,null,l.forExport,o.exporting&&o.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,a=this.titleOffset;this.resetMargins(),a&&!h(i[0])&&(this.plotTop=Math.max(this.plotTop,a+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&u(t.axes,function(t){t.visible&&t.getOffset()}),u(k,function(a,r){h(i[r])||(t[a]+=e[r])}),t.setChartSize()},reflow:function(e){var i=this,a=i.options.chart,r=i.renderTo,o=h(a.width)&&h(a.height),s=a.width||t.getStyle(r,"width");a=a.height||t.getStyle(r,"height"),r=e?e.target:O;o||i.isPrinting||!s||!a||r!==O&&r!==n||(s===i.containerWidth&&a===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=P(function(){i.container&&i.setSize(void 0,void 0,!1)},e?100:0)),i.containerWidth=s,i.containerHeight=a)},setReflow:function(t){var i=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(O,"resize",function(t){i.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,n){var o=this,s=o.renderer;o.isResizing+=1,t.setAnimation(n,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==e&&(o.options.chart.width=e),void 0!==r&&(o.options.chart.height=r),o.getChartSize(),((e=s.globalAnimation)?i:p)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},e),o.setChartSize(!0),s.setSize(o.chartWidth,o.chartHeight,n),u(o.axes,function(t){t.isDirty=!0,t.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(n),o.oldChartHeight=null,g(o,"resize"),P(function(){o&&g(o,"endResize",null,function(){--o.isResizing})},a(e).duration)},setChartSize:function(t){var e,i,a,r,n=this.inverted,o=this.renderer,s=this.chartWidth,l=this.chartHeight,d=this.options.chart,c=this.spacing,p=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=a=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=n?r:a,this.plotSizeY=n?a:r,this.plotBorderWidth=d.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=o.plotBox={x:e,y:i,width:a,height:r},s=2*Math.floor(this.plotBorderWidth/2),n=Math.ceil(Math.max(s,p[3])/2),o=Math.ceil(Math.max(s,p[0])/2),this.clipBox={x:n,y:o,width:Math.floor(this.plotSizeX-Math.max(s,p[1])/2-n),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,p[2])/2-o))},t||u(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;u(["margin","spacing"],function(i){var a=e[i],r=x(a)?a:[a,a,a,a];u(["Top","Right","Bottom","Left"],function(a,n){t[i][n]=C(e[i+a],r[n])})}),u(k,function(e,i){t[e]=C(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,a=this.renderer,r=this.chartWidth,n=this.chartHeight,o=this.chartBackground,s=this.plotBackground,l=this.plotBorder,d=this.plotBGImage,c=i.backgroundColor,p=i.plotBackgroundColor,h=i.plotBackgroundImage,u=this.plotLeft,m=this.plotTop,f=this.plotWidth,v=this.plotHeight,b=this.plotBox,x=this.clipRect,y=this.clipBox,w="animate";o||(this.chartBackground=o=a.rect().addClass("highcharts-background").add(),w="attr"),e=(t=i.borderWidth||0)+(i.shadow?8:0),c={fill:c||"none"},(t||o["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),o.attr(c).shadow(i.shadow),o[w]({x:e/2,y:e/2,width:r-e-t%2,height:n-e-t%2,r:i.borderRadius}),w="animate",s||(w="attr",this.plotBackground=s=a.rect().addClass("highcharts-plot-background").add()),s[w](b),s.attr({fill:p||"none"}).shadow(i.plotShadow),h&&(d?d.animate(b):this.plotBGImage=a.image(h,u,m,f,v).add()),x?x.animate({width:y.width,height:y.height}):this.clipRect=a.clipRect(y),w="animate",l||(w="attr",this.plotBorder=l=a.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:u,y:m,width:f,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,a=this,r=a.options.chart,n=a.options.series;u(["inverted","angular","polar"],function(o){for(t=E[r.type||r.defaultSeriesType],i=r[o]||t&&t.prototype[o],e=n&&n.length;!i&&e--;)(t=E[n[e].type])&&t.prototype[o]&&(i=!0);a[o]=i})},linkSeries:function(){var t=this,e=t.series;u(e,function(t){t.linkedSeries.length=0}),u(e,function(e){var i=e.options.linkedTo;y(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=C(e.options.visible,i.options.visible,e.visible))}),g(this,"afterLinkSeries")},renderSeries:function(){u(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&u(e.items,function(i){var a=m(e.style,i.style),r=A(a.left)+t.plotLeft,n=A(a.top)+t.plotTop+12;delete a.left,delete a.top,t.renderer.text(i.html,r,n).attr({zIndex:2}).css(a).add()})},render:function(){var t,e,i,a=this.axes,r=this.renderer,n=this.options;this.setTitle(),this.legend=new w(this,n.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),n=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),u(a,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<n/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(u(a,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&u(a,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=M(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(O.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,a=i.axes,r=i.series,n=i.container,o=n&&n.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(c,i):c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),L(i),e=a.length;e--;)a[e]=a[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();u("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),n&&(n.innerHTML="",L(n),o&&d(n)),T(i,function(t,e){delete i[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),u(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),S&&(t.pointer=new S(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){u([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),h(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(d),function(t){var e=t.addEvent,i=t.Chart,a=t.each;e(i,"afterSetChartSize",function(e){var i=this.options.chart.scrollablePlotArea;(i=i&&i.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=i=Math.max(0,i-this.chartWidth))&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||a(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var i,a=this.right;return this.right=a-e.chart.scrollablePixels,i=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=a,i}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(i,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var e,i,a=this.container;(r=!this.fixedDiv)&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(i){t.each(a.querySelectorAll(i),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),i=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=i+"px",this.renderer.boxWrapper.attr({width:i,height:this.chartHeight,viewBox:[0,0,i,this.chartHeight].join(" ")}),this.chartBackground.attr({width:i}),r&&((i=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*i.scrollPositionX)),r=this.axisOffset,i=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],n=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,i,"L",this.plotLeft-1,i,"L",this.plotLeft-1,r,"L",0,r,"Z","M",n,i,"L",this.chartWidth,i,"L",this.chartWidth,r,"L",n,r,"Z"]:["M",0,0]})}}(d),function(t){var e,i=t.each,a=t.extend,r=t.erase,n=t.fireEvent,o=t.format,s=t.isArray,l=t.isNumber,d=t.pick,c=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=d(this.colorIndex,i),t.chart.pointCount++,n(this,"afterInit"),this},applyOptions:function(t,i){var r=this.series,n=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),a(this,t),this.options=this.options?a(this.options,t):t,t.group&&delete this.group,n&&(this.y=this[n]),this.isNull=d(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===i?r.autoIncrement(this):i),this},setNestedProperty:function(e,i,a){return a=a.split("."),t.reduce(a,function(e,a,r,n){return e[a]=n.length-1===r?i:t.isObject(e[a],!0)?e[a]:{},e[a]},e),e},optionsToObject:function(e){var i={},a=this.series,r=a.options.keys,n=r||a.pointArrayMap||["y"],o=n.length,d=0,c=0;if(l(e)||null===e)i[n[0]]=e;else if(s(e))for(!r&&e.length>o&&("string"===(a=typeof e[0])?i.name=e[0]:"number"===a&&(i.x=e[0]),d++);c<o;)r&&void 0===e[d]||(0<n[c].indexOf(".")?t.Point.prototype.setNestedProperty(i,e[d],n[c]):i[n[c]]=e[d]),d++,c++;else"object"==typeof e&&(i=e,e.dataLabels&&(a._hasPointLabels=!0),e.marker&&(a._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(i=this.series).zones,i=i.zoneAxis||"y",a=0;for(t=e[a];this[i]>=t.value;)t=e[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),r(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,a=e.tooltipOptions,r=d(a.valueDecimals,""),n=a.valuePrefix||"",s=a.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(n||s)&&(t=t.replace(RegExp(e+"}","g"),n+e+"}"+s)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),o(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var a=this,r=this.series.options;(r.point.events[t]||a.options&&a.options.events&&a.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){a.select&&a.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),n(this,t,e,i)},visible:!0}}(d),function(t){var e=t.addEvent,i=t.animObject,a=t.arrayMax,r=t.arrayMin,n=t.correctFloat,o=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,d=t.each,c=t.erase,p=t.extend,h=t.fireEvent,u=t.grep,m=t.isArray,f=t.isNumber,g=t.isString,v=t.merge,b=t.objectEach,x=t.pick,y=t.removeEvent,w=t.splat,k=t.SVGElement,M=t.syncTimeout,T=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var a,r,n=this,o=t.series;n.chart=t,n.options=i=n.setOptions(i),n.linkedSeries=[],n.bindAxes(),p(n,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),a=i.events,b(a,function(t,i){e(n,i,t)}),(a&&a.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),d(n.parallelArrays,function(t){n[t+"Data"]=[]}),n.setData(i.data,!1),n.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(r=o[o.length-1]),n._i=x(r&&r._i,-1)+1,t.orderSeries(this.insert(o)),h(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(f(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,a=i.options,r=i.chart;d(i.axisTypes||[],function(n){d(r[n],function(t){e=t.options,(a[n]===e.index||void 0!==a[n]&&a[n]===e.id||void 0===a[n]&&0===e.index)&&(i.insert(t.series),i[n]=t,t.isDirty=!0)}),i[n]||i.optionalAxis===n||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,a=arguments,r=f(e)?function(a){var r="y"===a&&i.toYData?i.toYData(t):t[a];i[a+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(a,2))};d(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,a=e.pointIntervalUnit,r=this.chart.time;i=x(i,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),a&&(e=new r.Date(i),"day"===a?r.set("Date",e,r.get("Date",e)+t):"month"===a?r.set("Month",e,r.get("Month",e)+t):"year"===a&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,a=i.plotOptions,r=(e.userOptions||{}).plotOptions||{},n=a[this.type];return this.userOptions=t,e=v(n,a.series,t),this.tooltipOptions=v(o.tooltip,o.plotOptions.series&&o.plotOptions.series.tooltip,o.plotOptions[this.type].tooltip,i.tooltip.userOptions,a.series&&a.series.tooltip,a[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===n.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),h(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var a,r=this.chart,n=this.userOptions,o=t+"Index",s=t+"Counter",d=i?i.length:x(r.options.chart[t+"Count"],r[t+"Count"]);e||(a=x(n[o],n["_"+o]),l(a)||(r.series.length||(r[s]=0),n["_"+o]=a=r[s]%d,r[s]+=1),i&&(e=i[a])),void 0!==a&&(this[o]=a),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var i,a,r,n=this.options,o=this.points,s=[],l=this.requireSorting;if(d(e,function(e){var a;a=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,f(a)&&(-1===(a=t.inArray(a,this.xData,r))||o[a].touched?s.push(e):e!==n.data[a]?(o[a].update(e,!1,null,!1),o[a].touched=!0,l&&(r=a+1)):o[a]&&(o[a].touched=!0),i=!0)},this),i)for(e=o.length;e--;)(a=o[e]).touched||a.remove(!1),a.touched=!1;else{if(e.length!==o.length)return!1;d(e,function(t,e){o[e].update&&t!==n.data[e]&&o[e].update(t,!1,null,!1)})}return d(s,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,i,a,r){var n,o,s=this,l=s.points,c=l&&l.length||0,p=s.options,h=s.chart,u=null,v=s.xAxis,b=p.turboThreshold,y=this.xData,w=this.yData,k=(n=s.pointArrayMap)&&n.length;if(n=(e=e||[]).length,i=x(i,!0),!1!==r&&n&&c&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(o=this.updateData(e)),!o){if(s.xIncrement=null,s.colorCounter=0,d(this.parallelArrays,function(t){s[t+"Data"].length=0}),b&&n>b){for(a=0;null===u&&a<n;)u=e[a],a++;if(f(u))for(a=0;a<n;a++)y[a]=this.autoIncrement(),w[a]=e[a];else if(m(u))if(k)for(a=0;a<n;a++)u=e[a],y[a]=u[0],w[a]=u.slice(1,k+1);else for(a=0;a<n;a++)u=e[a],y[a]=u[0],w[a]=u[1];else t.error(12)}else for(a=0;a<n;a++)void 0!==e[a]&&(u={series:s},s.pointClass.prototype.applyOptions.apply(u,[e[a]]),s.updateParallelArrays(u,a));for(w&&g(w[0])&&t.error(14,!0),s.data=[],s.options.data=s.userOptions.data=e,a=c;a--;)l[a]&&l[a].destroy&&l[a].destroy();v&&(v.minRange=v.userMinRange),s.isDirty=h.isDirtyBox=!0,s.isDirtyData=!!l,a=!1}"point"===p.legendType&&(this.processData(),this.generatePoints()),i&&h.redraw(a)},processData:function(e){var i,a=this.xData,r=this.yData,n=a.length;i=0;var o,s,l,d=this.xAxis;l=(m=this.options).cropThreshold;var c,p,h=this.getExtremesFromAll||m.getExtremesFromAll,u=this.isCartesian,m=d&&d.val2lin,f=d&&d.isLog,g=this.requireSorting;if(u&&!this.isDirty&&!d.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(d&&(c=(e=d.getExtremes()).min,p=e.max),u&&this.sorted&&!h&&(!l||n>l||this.forceCrop)&&(a[n-1]<c||a[0]>p?(a=[],r=[]):this.yData&&(a[0]<c||a[n-1]>p)&&(a=(i=this.cropData(this.xData,this.yData,c,p)).xData,r=i.yData,i=i.start,o=!0)),l=a.length||1;--l;)0<(n=f?m(a[l])-m(a[l-1]):a[l]-a[l-1])&&(void 0===s||n<s)?s=n:0>n&&g&&(t.error(15),g=!1);this.cropped=o,this.cropStart=i,this.processedXData=a,this.processedYData=r,this.closestPointRange=s},cropData:function(t,e,i,a,r){var n,o=t.length,s=0,l=o;for(r=x(r,this.cropShoulder,1),n=0;n<o;n++)if(t[n]>=i){s=Math.max(0,n-r);break}for(i=n;i<o;i++)if(t[i]>a){l=i+r;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,i,a,r=(u=this.options).data,n=this.data,o=this.processedXData,s=this.processedYData,l=this.pointClass,d=o.length,c=this.cropStart||0,h=this.hasGroupedData,u=u.keys,m=[];for(n||h||((n=[]).length=r.length,n=this.data=n),u&&h&&(this.options.keys=!1),a=0;a<d;a++)e=c+a,h?((i=(new l).init(this,[o[a]].concat(w(s[a])))).dataGroup=this.groupMap[a],i.dataGroup.options&&(i.options=i.dataGroup.options,p(i,i.dataGroup.options))):(i=n[e])||void 0===r[e]||(n[e]=i=(new l).init(this,r[e],o[a])),i&&(i.index=e,m[a]=i);if(this.options.keys=u,n&&(d!==(t=n.length)||h))for(a=0;a<t;a++)a!==c||h||(a+=d),n[a]&&(n[a].destroyElements(),n[a].plotX=void 0);this.data=n,this.points=m},getExtremes:function(t){var e,i,n,o,s,l=this.yAxis,d=this.processedXData,c=[],p=0,h=(e=this.xAxis.getExtremes()).min,u=e.max,g=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,s=0;s<e;s++)if(n=d[s],o=t[s],i=(f(o,!0)||m(o))&&(!l.positiveValuesOnly||o.length||0<o),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[s+g]||n)>=h&&(d[s-g]||n)<=u,i&&n)if(i=o.length)for(;i--;)"number"==typeof o[i]&&(c[p++]=o[i]);else c[p++]=o;this.dataMin=r(c),this.dataMax=a(c)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,a,r=this.options,o=r.stacking,s=this.xAxis,d=s.categories,c=this.yAxis,p=this.points,u=p.length,m=!!this.modifyValue,g=r.pointPlacement,v="between"===g||f(g),b=r.threshold,y=r.startFromThreshold?b:0,w=Number.MAX_VALUE;for("between"===g&&(g=.5),f(g)&&(g*=x(r.pointRange||s.pointRange)),r=0;r<u;r++){var k=p[r],M=k.x,T=k.y;e=k.low;var S,C=o&&c.stacks[(this.negStacks&&T<(y?0:b)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==T&&0>=T&&(k.isNull=!0),k.plotX=t=n(Math.min(Math.max(-1e5,s.translate(M,0,0,0,1,g,"flags"===this.type)),1e5)),o&&this.visible&&!k.isNull&&C&&C[M]&&(a=this.getStackIndicator(a,M,this.index),e=(T=(S=C[M]).points[a.key])[0],T=T[1],e===y&&a.key===C[M].base&&(e=x(f(b)&&b,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),k.total=k.stackTotal=S.total,k.percentage=S.total&&k.y/S.total*100,k.stackY=T,S.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=l(e)?Math.min(Math.max(-1e5,c.translate(e,0,1,0,1)),1e5):null,m&&(T=this.modifyValue(T,k)),k.plotY=e="number"==typeof T&&1/0!==T?Math.min(Math.max(-1e5,c.translate(T,0,1,0,1)),1e5):void 0,k.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=s.len,k.clientX=v?n(s.translate(M,0,0,0,1,g)):t,k.negative=k.y<(b||0),k.category=d&&void 0!==d[k.x]?d[k.x]:k.x,k.isNull||(void 0!==i&&(w=Math.min(w,Math.abs(t-i))),i=t),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=w,h(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return u(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,a=e.renderer,r=e.inverted,n=this.clipBox,o=n||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,i.xAxis,i.yAxis].join(),l=e[s],d=e[s+"m"];l||(t&&(o.width=0,r&&(o.x=e.plotSizeX),e[s+"m"]=d=a.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=l=a.clipRect(o),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||n?l:e.clipRect),this.markerGroup.clip(d),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(n||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,a=this.chart,r=i(this.options.animation);t?this.setClip(r):((t=a[e=this.sharedClipKey])&&t.animate({width:a.plotSizeX,x:0},r),a[e+"m"]&&a[e+"m"].animate({width:a.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,a,r,n,o,s,l=this.points,d=this.chart,c=this.options.marker,p=this[this.specialGroup]||this.markerGroup,h=x(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)a=(e=l[t]).graphic,r=e.marker||{},n=!!e.marker,i=h&&void 0===r.enabled||r.enabled,o=e.isInside,i&&!e.isNull?(i=x(r.symbol,this.symbol),s=this.markerAttribs(e,e.selected&&"select"),a?a[o?"show":"hide"](!0).animate(s):o&&(0<s.width||e.hasImage)&&(e.graphic=a=d.renderer.symbol(i,s.x,s.y,s.width,s.height,n?r:c).add(p)),a&&a.attr(this.pointAttribs(e,e.selected&&"select")),a&&a.addClass(e.getClassName(),!0)):a&&(e.graphic=a.destroy())},markerAttribs:function(t,e){var i=this.options.marker,a=t.marker||{},r=a.symbol||i.symbol,n=x(a.radius,i.radius);return e&&(i=i.states[e],e=a.states&&a.states[e],n=x(e&&e.radius,i&&i.radius,n+(i&&i.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(n=0),t={x:Math.floor(t.plotX)-n,y:t.plotY-n},n&&(t.width=t.height=2*n),t},pointAttribs:function(t,e){var i=this.options.marker,a=(s=t&&t.options)&&s.marker||{},r=this.color,n=s&&s.color,o=t&&t.color,s=x(a.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,r=n||t||o||r,t=a.fillColor||i.fillColor||r,r=a.lineColor||i.lineColor||r,e&&(i=i.states[e],e=a.states&&a.states[e]||{},s=x(e.lineWidth,i.lineWidth,s+x(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,r=e.lineColor||i.lineColor||r),{stroke:r,"stroke-width":s,fill:t}},destroy:function(){var e,i,a,r=this,n=r.chart,o=/AppleWebKit\/533/.test(T.navigator.userAgent),s=r.data||[];for(h(r,"destroy"),y(r),d(r.axisTypes||[],function(t){(a=r[t])&&a.series&&(c(a.series,r),a.isDirty=a.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)(i=s[e])&&i.destroy&&i.destroy();r.points=null,t.clearTimeout(r.animationTimeout),b(r,function(t,e){t instanceof k&&!t.survive&&t[o&&"group"===e?"hide":"destroy"]()}),n.hoverSeries===r&&(n.hoverSeries=null),c(n.series,r),n.orderSeries(),b(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,i){var a,r,n=this,o=n.options,s=o.step,c=[],p=[];return(a=(t=t||n.points).reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&a&&(s=4-s),!o.connectNulls||e||i||(t=this.getValidPoints(t)),d(t,function(a,d){var h=a.plotX,u=a.plotY,m=t[d-1];(a.leftCliff||m&&m.rightCliff)&&!i&&(r=!0),a.isNull&&!l(e)&&0<d?r=!o.connectNulls:a.isNull&&!e?r=!0:(0===d||r?d=["M",a.plotX,a.plotY]:n.getPointSpline?d=n.getPointSpline(t,a,d):s?(d=1===s?["L",m.plotX,u]:2===s?["L",(m.plotX+h)/2,m.plotY,"L",(m.plotX+h)/2,u]:["L",h,m.plotY]).push("L",h,u):d=["L",h,u],p.push(a.x),s&&(p.push(a.x),2===s&&p.push(a.x)),c.push.apply(c,d),r=!1)}),c.xMap=p,n.graphPath=c},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),a=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];a=t.getZonesGraphs(a);d(a,function(a,r){var n=a[0],o=t[n];o?(o.endX=t.preventGraphAnimation?null:i.xMap,o.animate({d:i})):i.length&&(t[n]=t.chart.renderer.path(i).addClass(a[1]).attr({zIndex:1}).add(t.group),o={stroke:a[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},a[3]?o.dashstyle=a[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=t[n].attr(o).shadow(2>r&&e.shadow)),o&&(o.startX=i.xMap,o.isArea=i.isArea)})},getZonesGraphs:function(t){return d(this.zones,function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,i,a,r,n,o,s,l,c=this,p=this.chart,h=p.renderer,u=this.zones,m=this.clips||[],f=this.graph,g=this.area,v=Math.max(p.chartWidth,p.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],y=p.inverted,w=!1;u.length&&(f||g)&&b&&void 0!==b.min&&(r=b.reversed,n=b.horiz,f&&!this.showLine&&f.hide(),g&&g.hide(),a=b.getExtremes(),d(u,function(d,u){t=r?n?p.plotWidth:0:n?0:b.toPixels(a.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(b.toPixels(x(d.value,a.max),!0)),0),v),w&&(t=e=b.toPixels(a.max)),o=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),b.isXAxis?(i={x:y?l:s,y:0,width:o,height:v},n||(i.x=p.plotHeight-i.x)):(i={x:0,y:y?l:s,width:v,height:o},n&&(i.y=p.plotWidth-i.y)),y&&h.isVML&&(i=b.isXAxis?{x:0,y:r?s:l,height:i.width,width:p.chartWidth}:{x:i.y-p.plotLeft-p.spacingBox.x,y:0,width:i.height,height:p.chartHeight}),m[u]?m[u].animate(i):(m[u]=h.clipRect(i),f&&c["zone-graph-"+u].clip(m[u]),g&&c["zone-area-"+u].clip(m[u])),w=d.value>a.max,c.resetZones&&0===e&&(e=void 0)}),this.clips=m)},invertGroups:function(t){function i(){d(["group","markerGroup"],function(e){r[e]&&(n.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var a,r=this,n=r.chart;r.xAxis&&(a=e(n,"resize",i),e(r,"destroy",a),i(),r.invertGroups=i)},plotGroup:function(t,e,i,a,r){var n=this[t],o=!n;return o&&(this[t]=n=this.chart.renderer.g().attr({zIndex:a||.1}).add(r)),n.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(n.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),n.attr({visibility:i})[o?"attr":"animate"](this.getPlotBox()),n},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,a=e.chart,r=e.options,n=!!e.animate&&a.renderer.isSVG&&i(r.animation).duration,o=e.visible?"inherit":"hidden",s=r.zIndex,l=e.hasRendered,d=a.seriesGroup,c=a.inverted;t=e.plotGroup("group","series",o,s,d),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,d),n&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(a.clipRect),n&&e.animate(),l||(e.animationTimeout=M(function(){e.afterAnimate()},n)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,a=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:x(a&&a.left,t.plotLeft),translateY:x(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,a=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?a.len-t.chartX+a.pos:t.chartY-a.pos},e)},buildKDTree:function(){this.buildingKdTree=!0;var t=this,e=-1<t.options.findNearestPointBy.indexOf("y")?2:1;delete t.kdTree,M(function(){t.kdTree=function e(i,a,r){var n,o;if(o=i&&i.length)return n=t.kdAxisArray[a%r],i.sort(function(t,e){return t[n]-e[n]}),{point:i[o=Math.floor(o/2)],left:e(i.slice(0,o),a+1,r),right:e(i.slice(o+1),a+1,r)}}(t.getValidPoints(null,!t.directTouch),e,e),t.buildingKdTree=!1},t.options.kdNow?0:1)},searchKDTree:function(t,e){var i=this,a=this.kdAxisArray[0],r=this.kdAxisArray[1],n=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function t(e,o,s,d){var c,p,h=o.point,u=i.kdAxisArray[s%d],m=h;return p=l(e[a])&&l(h[a])?Math.pow(e[a]-h[a],2):null,c=l(e[r])&&l(h[r])?Math.pow(e[r]-h[r],2):null,c=(p||0)+(c||0),h.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,h.distX=l(p)?Math.sqrt(p):Number.MAX_VALUE,c=0>(u=e[u]-h[u])?"left":"right",p=0>u?"right":"left",o[c]&&(m=(c=t(e,o[c],s+1,d))[n]<m[n]?c:h),o[p]&&Math.sqrt(u*u)<m[n]&&(m=(e=t(e,o[p],s+1,d))[n]<m[n]?e:m),m}(t,this.kdTree,e,e)}})}(d),function(t){var e=t.Axis,i=t.Chart,a=t.correctFloat,r=t.defined,n=t.destroyObjectProperties,o=t.each,s=t.format,l=t.objectEach,d=t.pick,c=t.Series;t.StackItem=function(t,e,i,a,r){var n=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=a,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(n?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(n?"middle":i?"bottom":"top"),y:d(e.y,n?4:i?14:-6),x:d(e.x,n?i?-6:6:0)},this.textAlign=e.textAlign||(n?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){n(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,a=(a=i.format)?s(a,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:a,visibility:"hidden"}):this.label=e.renderer.text(a,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var i=this.axis,a=i.chart,n=i.translate(i.usePercentage?100:this.total,0,0,0,1),o=i.translate(0);o=r(n)&&Math.abs(n-o);t=a.xAxis[0].translate(this.x)+t,i=r(n)&&this.getStackBox(a,this,t,n,e,o,i),(e=this.label)&&i&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||a.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,a,r,n,o){var s=e.axis.reversed,l=t.inverted;return t=o.height+o.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?a:a-n:i,y:l?t-i-r:e?t-a-n:t-a,width:l?n:r,height:l?r:n}}},i.prototype.getStacks=function(){var t=this;o(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),o(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+d(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,i=d(this.options.reversedStacks,!0),a=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=a;t--;)e[i?t:a-t-1].setStackedPoints();for(t=0;t<a;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,a=this.stackTotalGroup;a||(this.stackTotalGroup=a=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(t.plotLeft,t.plotTop),l(i,function(t){l(t,function(t){t.render(a)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(i,a){i.touched<t.stacksTouched?(i.destroy(),delete e[a]):(i.total=null,i.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,n,o,s,l,c,p=this.processedXData,h=this.processedYData,u=[],m=h.length,f=(b=this.options).threshold,g=d(b.startFromThreshold&&f,0),v=b.stack,b=b.stacking,x=this.stackKey,y="-"+x,w=this.negStacks,k=this.yAxis,M=k.stacks,T=k.oldStacks;for(k.stacksTouched+=1,s=0;s<m;s++)l=p[s],c=h[s],o=(e=this.getStackIndicator(e,l,this.index)).key,M[n=(i=w&&c<(g?0:f))?y:x]||(M[n]={}),M[n][l]||(T[n]&&T[n][l]?(M[n][l]=T[n][l],M[n][l].total=null):M[n][l]=new t.StackItem(k,k.options.stackLabels,i,l,v)),n=M[n][l],null!==c?(n.points[o]=n.points[this.index]=[d(n.cumulative,g)],r(n.cumulative)||(n.base=o),n.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(n.points[o][0]=n.points[this.index+","+l+",0"][0])):n.points[o]=n.points[this.index]=null,"percent"===b?(i=i?x:y,w&&M[i]&&M[i][l]?(i=M[i][l],n.total=i.total=Math.max(i.total,n.total)+Math.abs(c)||0):n.total=a(n.total+(Math.abs(c)||0))):n.total=a(n.total+(c||0)),n.cumulative=d(n.cumulative,g)+(c||0),null!==c&&(n.points[o].push(n.cumulative),u[s]=n.cumulative);"percent"===b&&(k.usePercentage=!0),this.stackedYData=u,k.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,a=e.yAxis.stacks,r=e.processedXData,n=e.options.stacking;e[n+"Stacker"]&&o([i,"-"+i],function(i){for(var o,s,l=r.length;l--;)o=r[l],t=e.getStackIndicator(t,o,e.index,i),(s=(o=a[i]&&a[i][o])&&o.points[t.key])&&e[n+"Stacker"](s,o,l)})},c.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=a(t[0]*e),t[1]=a(t[1]*e),this.stackedYData[i]=t[1]},c.prototype.getStackIndicator=function(t,e,i,a){return!r(t)||t.x!==e||a&&t.key!==a?t={x:e,index:0,key:a}:t.index++,t.key=[i,e,t.index].join(),t}}(d),function(t){var e=t.addEvent,i=t.animate,a=t.Axis,r=t.createElement,n=t.css,o=t.defined,s=t.each,l=t.erase,d=t.extend,c=t.fireEvent,p=t.inArray,h=t.isNumber,u=t.isObject,m=t.isArray,f=t.merge,g=t.objectEach,v=t.pick,b=t.Point,x=t.Series,y=t.seriesTypes,w=t.setAnimation,k=t.splat;d(t.Chart.prototype,{addSeries:function(t,e,i){var a,r=this;return t&&(e=v(e,!0),c(r,"addSeries",{options:t},function(){a=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),c(r,"afterAddSeries"),e&&r.redraw(i)})),a},addAxis:function(t,e,i,r){var n=e?"xAxis":"yAxis",o=this.options;return t=f(t,{index:this[n].length,isX:e}),e=new a(this,t),o[n]=k(o[n]||{}),o[n].push(t),v(i,!0)&&this.redraw(r),e},showLoading:function(t){var a=this,o=a.options,s=a.loadingDiv,l=o.loading,c=function(){s&&n(s,{left:a.plotLeft+"px",top:a.plotTop+"px",width:a.plotWidth+"px",height:a.plotHeight+"px"})};s||(a.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,a.container),a.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),e(a,"redraw",c)),s.className="highcharts-loading",a.loadingSpan.innerHTML=t||o.lang.loading,n(s,d(l.style,{zIndex:10})),n(a.loadingSpan,l.labelStyle),a.loadingShown||(n(s,{opacity:0,display:""}),i(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),a.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){n(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i,a){var r,n,l=this,d={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},u=t.chart,m=[];c(l,"update",{options:t}),u&&(f(!0,l.options.chart,u),"className"in u&&l.setClassName(u.className),"reflow"in u&&l.setReflow(u.reflow),("inverted"in u||"polar"in u||"type"in u)&&(l.propFromSeries(),r=!0),"alignTicks"in u&&(r=!0),g(u,function(t,e){-1!==p("chart."+e,l.propsRequireUpdateSeries)&&(n=!0),-1!==p(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),"style"in u&&l.renderer.setStyle(u.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&f(!0,this.options.plotOptions,t.plotOptions),g(t,function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[d[e]]&&l[d[e]](t),"chart"!==e&&-1!==p(e,l.propsRequireUpdateSeries)&&(n=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var a;t[e]&&("series"===e&&(a=[],s(l[e],function(t,e){t.options.isInternal||a.push(e)})),s(k(t[e]),function(t,r){(r=o(t.id)&&l.get(t.id)||l[e][a?a[r]:r])&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))}),i&&s(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:m.push(t)}))}),s(m,function(t){t.remove(!1)}),r&&s(l.axes,function(t){t.update({},!1)}),n&&s(l.series,function(t){t.update({},!1)}),t.loading&&f(!0,l.options.loading,t.loading),r=u&&u.width,u=u&&u.height,h(r)&&r!==l.chartWidth||h(u)&&u!==l.chartHeight?l.setSize(r,u,a):v(e,!0)&&l.redraw(a),c(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),d(b.prototype,{update:function(t,e,i,a){function r(){o.applyOptions(t),null===o.y&&l&&(o.graphic=l.destroy()),u(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(o.graphic=l.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),n=o.index,s.updateParallelArrays(o,n),c.data[n]=u(c.data[n],!0)||u(t,!0)?o.options:v(t,c.data[n]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===c.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var n,o=this,s=o.series,l=o.graphic,d=s.chart,c=s.options;e=v(e,!0),!1===a?r():o.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(p(this,this.series.data),t,e)}}),d(x.prototype,{addPoint:function(t,e,i,a){var r,n,o,s,l=this.options,d=this.data,c=this.chart,p=(p=this.xAxis)&&p.hasNames&&p.names,h=l.data,u=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,o=u.length,this.requireSorting&&s<u[o-1])for(n=!0;o&&u[o-1]>s;)o--;this.updateParallelArrays(r,"splice",o,0,0),this.updateParallelArrays(r,o),p&&r.name&&(p[s]=r.name),h.splice(o,0,t),n&&(this.data.splice(o,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(d[0]&&d[0].remove?d[0].remove(!1):(d.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(a)},removePoint:function(t,e,i){var a=this,r=a.data,n=r[t],o=a.points,s=a.chart,l=function(){o&&o.length===r.length&&o.splice(t,1),r.splice(t,1),a.options.data.splice(t,1),a.updateParallelArrays(n||{series:a},"splice",t,1),n&&n.destroy(),a.isDirty=!0,a.isDirtyData=!0,e&&s.redraw()};w(i,s),e=v(e,!0),n?n.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function a(){r.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),v(t,!0)&&n.redraw(e)}var r=this,n=r.chart;!1!==i?c(r,"remove",null,a):a()},update:function(e,i){var a,r=this,n=r.chart,o=r.userOptions,l=r.oldType||r.type,h=e.type||o.type||n.options.chart.type,u=y[l].prototype,m=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],b=r.finishedAnimating&&{animation:!1},x=["data","name","turboThreshold"],w=t.keys(e),k=0<w.length;if(s(w,function(t){-1===p(t,x)&&(k=!1)}),k)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(a in g=m.concat(g),s(g,function(t){g[t]=r[t],delete r[t]}),e=f(o,b,{index:r.index,pointStart:v(o.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1),u)r[a]=void 0;y[h||l]?d(r,y[h||l].prototype):t.error(17,!0),s(g,function(t){r[t]=g[t]}),r.init(n,e),e.zIndex!==o.zIndex&&s(m,function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.oldType=l,n.linkSeries()}c(this,"afterUpdate"),v(i,!0)&&n.redraw(!!k&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),d(a.prototype,{update:function(t,e){var i=this.chart,a=t&&t.events||{};t=f(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),g(i.options[this.coll].events,function(t,e){void 0===a[e]&&(a[e]=void 0)}),this.destroy(!0),this.init(i,d(t,{events:a})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,a=this.series,r=a.length;r--;)a[r]&&a[r].remove(!1);l(e.axes,this),l(e[i],this),m(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],s(e[i],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(d),function(t){var e=t.color,i=t.each,a=t.map,r=t.pick,n=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var n,o,s=[],l=[],d=this.xAxis,c=this.yAxis,p=c.stacks[this.stackKey],h={},u=this.index,m=c.series,f=m.length,g=r(c.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(o=0;o<e.length;o++)e[o].leftNull=e[o].rightNull=null,h[e[o].x]=e[o];t.objectEach(p,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),n=a(m,function(){return this.visible}),i(l,function(t,e){var a,r,m=0;if(h[t]&&!h[t].isNull)s.push(h[t]),i([-1,1],function(i){var s=1===i?"rightNull":"leftNull",d=0,c=p[l[e+i]];if(c)for(o=u;0<=o&&o<f;)(a=c.points[o])||(o===u?h[t][s]=!0:n[o]&&(r=p[t].points[o])&&(d-=r[1]-r[0])),o+=g;h[t][1===i?"rightCliff":"leftCliff"]=d});else{for(o=u;0<=o&&o<f;){if(a=p[t].points[o]){m=a[1];break}o+=g}m=c.translate(m,0,1,0,1),s.push({isNull:!0,plotX:d.translate(t,0,0,0,1),x:t,plotY:m,yBottom:m})}})}return s},getGraphPath:function(t){var e,i,a,o,s=n.prototype.getGraphPath,l=(g=this.options).stacking,d=this.yAxis,c=[],p=[],h=this.index,u=d.stacks[this.stackKey],m=g.threshold,f=d.getThreshold(g.threshold),g=g.connectNulls||"percent"===l,v=function(e,i,r){var n=t[e];e=l&&u[n.x].points[h];var o=n[r+"Null"]||0;r=n[r+"Cliff"]||0;var s,g;n=!0;r||o?(s=(o?e[0]:e[1])+r,g=e[0]+r,n=!!o):!l&&t[i]&&t[i].isNull&&(s=g=m),void 0!==s&&(p.push({plotX:a,plotY:null===s?f:d.getThreshold(s),isNull:n,isCliff:!0}),c.push({plotX:a,plotY:null===g?f:d.getThreshold(g),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,a=r(t[e].rectPlotX,t[e].plotX),o=r(t[e].yBottom,f),(!i||g)&&(g||v(e,e-1,"left"),i&&!l&&g||(p.push(t[e]),c.push({x:e,plotX:a,plotY:o})),g||v(e,e+1,"right"));return e=s.call(this,p,!0,!0),c.reversed=!0,(i=s.call(this,c,!0,!0)).length&&(i[0]="L"),i=e.concat(i),s=s.call(this,p,!1,g),i.xMap=e.xMap,this.areaPath=i,s},drawGraph:function(){this.areaPath=[],n.prototype.drawGraph.apply(this);var t=this,a=this.areaPath,o=this.options,s=[["area","highcharts-area",this.color,o.fillColor]];i(this.zones,function(e,i){s.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||o.fillColor])}),i(s,function(i){var n=i[0],s=t[n];s?(s.endX=t.preventGraphAnimation?null:a.xMap,s.animate({d:a})):(s=t[n]=t.chart.renderer.path(a).addClass(i[1]).attr({fill:r(i[3],e(i[2]).setOpacity(r(o.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,s.startX=a.xMap,s.shiftUnit=o.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(d),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,a){var r,n,o,s,l=i.plotX,d=i.plotY,c=t[a-1];if(a=t[a+1],c&&!c.isNull&&!1!==c.doCurve&&!i.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!i.isCliff){t=c.plotY,o=a.plotX;var p=0;n=(1.5*d+t)/2.5,s=(1.5*d+(a=a.plotY))/2.5,(o=(1.5*l+o)/2.5)!==(r=(1.5*l+c.plotX)/2.5)&&(p=(s-n)*(o-l)/(o-r)+d-s),s+=p,(n+=p)>t&&n>d?s=2*d-(n=Math.max(t,d)):n<t&&n<d&&(s=2*d-(n=Math.min(t,d))),s>a&&s>d?n=2*d-(s=Math.max(a,d)):s<a&&s<d&&(n=2*d-(s=Math.min(a,d))),i.rightContX=o,i.rightContY=s}return i=["C",e(c.rightContX,c.plotX),e(c.rightContY,c.plotY),e(r,l),e(n,d),l,d],c.rightContX=c.rightContY=null,i}})}(d),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(d),function(t){var e=t.animObject,i=t.color,a=t.each,r=t.extend,n=t.isNumber,o=t.merge,s=t.pick,l=t.Series,d=t.seriesType,c=t.svg;d("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&a(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,n=e.yAxis,o=r.options.reversedStacks,l=(o=r.reversed&&!o||!r.reversed&&o,{}),d=0;!1===i.grouping?d=1:a(e.chart.series,function(i){var a,r=i.options,o=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||n.len!==o.len||n.pos!==o.pos||(r.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=d++),a=l[t]):!1!==r.grouping&&(a=d++),i.columnIndex=a)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=c*i.groupPadding,h=(c-2*p)/(d||1);i=Math.min(i.maxPointWidth||r.len,s(i.pointWidth,h*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(h-i)/2+(p+((e.columnIndex||0)+(o?1:0))*h-c/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,a){var r=this.chart,n=-((o=this.borderWidth)%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+n,i-=t=Math.round(t)+n),a=Math.round(e+a)+o,n=.5>=Math.abs(e)&&.5<a,a-=e=Math.round(e)+o,n&&a&&(--e,a+=1),{x:t,y:e,width:i,height:a}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,n=(r=t.borderWidth=s(i.borderWidth,r?0:1),t.yAxis),o=i.threshold,d=t.translatedThreshold=n.getThreshold(o),c=s(i.minPointLength,5),p=t.getColumnMetrics(),h=p.width,u=t.barW=Math.max(h,1+2*r),m=t.pointXOffset=p.offset;e.inverted&&(d-=.5),i.pointPadding&&(u=Math.ceil(u)),l.prototype.translate.apply(t),a(t.points,function(i){var a,r=s(i.yBottom,d),l=999+Math.abs(r),p=(l=Math.min(Math.max(-l,i.plotY),n.len+l),i.plotX+m),f=u,g=Math.min(l,r),v=Math.max(l,r)-g;c&&Math.abs(v)<c&&(v=c,a=!n.reversed&&!i.negative||n.reversed&&i.negative,i.y===o&&t.dataMax<=o&&n.min<o&&(a=!a),g=Math.abs(g-d)>c?r-c:d-(a?c:0)),i.barX=p,i.pointWidth=h,i.tooltipPos=e.inverted?[n.len+n.pos-e.plotLeft-l,t.xAxis.len-p-f/2,v]:[p+f/2,l+n.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[p,d,f,0]:[p,g,f,v])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var a,r=this.options;a=(c=this.pointAttrToOptions||{}).stroke||"borderColor";var n=c["stroke-width"]||"borderWidth",s=t&&t.color||this.color,l=t&&t[a]||r[a]||this.color||s,d=t&&t[n]||r[n]||this[n]||0,c=r.dashStyle;return t&&this.zones.length&&(s=t.getZone(),s=t.options.color||s&&s.color||this.color),e&&(e=(t=o(r.states[e],t.options.states&&t.options.states[e]||{})).brightness,s=t.color||void 0!==e&&i(s).brighten(t.brightness).get()||s,l=t[a]||l,d=t[n]||d,c=t.dashStyle||c),a={fill:s,stroke:l,"stroke-width":d},c&&(a.dashstyle=c),a},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,s=i.renderer,l=r.animationLimit||250;a(e.points,function(a){var d=a.graphic,c=d&&i.pointCount<l?"animate":"attr";n(a.plotY)&&null!==a.y?(t=a.shapeArgs,d?d[c](o(t)):a.graphic=d=s[a.shapeType](t).add(a.group||e.group),r.borderRadius&&d.attr({r:r.borderRadius}),d[c](e.pointAttribs(a,a.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),d.addClass(a.getClassName(),!0)):d&&(a.graphic=d.destroy())})},animate:function(t){var i,a=this,n=this.yAxis,o=a.options,s=this.chart.inverted,l={},d=s?"translateX":"translateY";c&&(t?(l.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(o.threshold))),s?l.translateX=t-n.len:l.translateY=t,a.group.attr(l)):(i=a.group.attr(d),a.group.animate({scaleY:1},r(e(a.options.animation),{step:function(t,e){l[d]=i+e.pos*(n.pos-i),a.group.attr(l)}})),a.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&a(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(d),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(d),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(d),function(t){var e=t.deg2rad,i=t.isNumber,a=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,o=2*(i.slicedOffset||0),s=n.plotWidth-2*o,l=(n=n.plotHeight-2*o,i.center),d=(l=[a(l[0],"50%"),a(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(s,n));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=r(e,[s,n,d,l[2]][t])+(i?o:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,a){return t=i(t)?t:0,a=i(a)&&a>t&&360>a-t?a:t+360,{start:e*(t+-90),end:e*(a+-90)}}}}(d),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,a=t.defined,r=t.each,n=t.extend,o=i.getStartAndEndRadians,s=t.inArray,l=t.noop,d=t.pick,c=t.Point,p=t.Series,h=t.seriesType,u=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,a=e.startAngleRad;t||(r(i,function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:a,end:a}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,a=this.points,r=a.length,n=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=a[t],i+=n&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<r;t++)(e=a[t]).percentage=0<i&&(e.visible||!n)?e.y/i*100:0,e.total=i},generatePoints:function(){p.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,a,r,n,s,l=0,c=(g=this.options).slicedOffset,p=c+(g.borderWidth||0),h=o(g.startAngle,g.endAngle),u=this.startAngleRad=h.start,m=(h=(this.endAngleRad=h.end)-u,this.points),f=g.dataLabels.distance,g=g.ignoreHiddenPoint,v=m.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,r){return a=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(a)*(t[2]/2+r.labelDistance)},n=0;n<v;n++)(s=m[n]).labelDistance=d(s.options.dataLabels&&s.options.dataLabels.distance,f),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=u+l*h,g&&!s.visible||(l+=s.percentage/100),i=u+l*h,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},(a=(i+e)/2)>1.5*Math.PI?a-=2*Math.PI:a<-Math.PI/2&&(a+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(a)*c),translateY:Math.round(Math.sin(a)*c)},i=Math.cos(a)*t[2]/2,r=Math.sin(a)*t[2]/2,s.tooltipPos=[t[0]+.7*i,t[1]+.7*r],s.half=a<-Math.PI/2||a>Math.PI/2?1:0,s.angle=a,e=Math.min(p,s.labelDistance/5),s.labelPos=[t[0]+i+Math.cos(a)*s.labelDistance,t[1]+r+Math.sin(a)*s.labelDistance,t[0]+i+Math.cos(a)*e,t[1]+r+Math.sin(a)*e,t[0]+i,t[1]+r,0>s.labelDistance?"center":s.half?"right":"left",a]},drawGraph:null,drawPoints:function(){var t,e,i,a,o=this,s=o.chart.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),r(o.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{a=r.shapeArgs,t=r.getTranslate();var d=r.shadowGroup;l&&!d&&(d=r.shadowGroup=s.g("shadow").add(o.shadowGroup)),d&&d.attr(t),i=o.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(o.center).attr(i).animate(n(a,t)):(r.graphic=e=s[r.shapeType](a).setRadialReference(o.center).attr(t).add(o.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,d)),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){c.prototype.init.apply(this,arguments);var t,i=this;return i.name=d(i.name,"Slice"),e(i,"select",t=function(t){i.slice("select"===t.type)}),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,a=i.series,n=a.chart,o=a.options.ignoreHiddenPoint;e=d(e,o),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,a.options.data[s(i,a.data)]=i.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&n.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),o&&(a.isDirty=!0),e&&n.redraw())},slice:function(t,e,i){var r=this.series;u(i,r.chart),d(e,!0),this.sliced=this.options.sliced=a(t)?t:!this.sliced,r.options.data[s(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(d),function(t){var e=t.addEvent,i=t.arrayMax,a=t.defined,r=t.each,n=t.extend,o=t.format,s=t.map,l=t.merge,d=t.noop,c=t.pick,p=t.relativeLength,h=t.Series,u=t.seriesTypes,m=t.some,f=t.stableSort;t.distribute=function(e,i,a){function n(t,e){return t.target-e.target}var o,l,d=!0,p=e,h=[];l=0;var u=p.reducedLen||i;for(o=e.length;o--;)l+=e[o].size;if(l>u){for(f(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=o=0;l<=u;)l+=e[o].size,o++;h=e.splice(o-1,e.length)}for(f(e,n),e=s(e,function(t){return{size:t.size,targets:[t.target],align:c(t.align,.5)}});d;){for(o=e.length;o--;)d=e[o],l=(Math.min.apply(0,d.targets)+Math.max.apply(0,d.targets))/2,d.pos=Math.min(Math.max(0,l-d.size*d.align),i-d.size);for(o=e.length,d=!1;o--;)0<o&&e[o-1].pos+e[o-1].size>e[o].pos&&(e[o-1].size+=e[o].size,e[o-1].targets=e[o-1].targets.concat(e[o].targets),e[o-1].align=.5,e[o-1].pos+e[o-1].size>i&&(e[o-1].pos=i-e[o-1].size),e.splice(o,1),d=!0)}p.push.apply(p,h),o=0,m(e,function(e){var n=0;if(m(e.targets,function(){if(p[o].pos=e.pos+n,Math.abs(p[o].pos-p[o].target)>a)return r(p.slice(0,o+1),function(t){delete t.pos}),p.reducedLen=(p.reducedLen||i)-.1*i,p.reducedLen>.1*i&&t.distribute(p,i,a),!0;n+=p[o].size,o++}))return!0}),f(p,n)},h.prototype.drawDataLabels=function(){var i,n,s,d,p=this,h=p.chart,u=p.options,m=u.dataLabels,f=p.points,g=p.hasRendered||0,v=c(m.defer,!!u.animation),b=h.renderer;(m.enabled||p._hasPointLabels)&&(p.dlProcessOptions&&p.dlProcessOptions(m),d=p.plotGroup("dataLabelsGroup","data-labels",v&&!g?"hidden":"visible",m.zIndex||6),v&&(d.attr({opacity:+g}),g||e(p,"afterAnimate",function(){p.visible&&d.show(!0),d[u.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=m,r(f,function(e){var r,f,g,v,x=e.dataLabel,y=e.connector,w=!x;i=e.dlOptions||e.options&&e.options.dataLabels,(r=c(i&&i.enabled,n.enabled)&&!e.isNull)&&(r=!0===function(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}(e,i||m)),r&&(m=l(n,i),f=e.getLabelConfig(),v=m[e.formatPrefix+"Format"]||m.format,s=a(v)?o(v,f,h.time):(m[e.formatPrefix+"Formatter"]||m.formatter).call(f,m),v=m.style,f=m.rotation,v.color=c(m.color,v.color,p.color,"#000000"),"contrast"===v.color&&(e.contrastColor=b.getContrast(e.color||p.color),v.color=m.inside||0>c(e.labelDistance,m.distance)||u.stacking?e.contrastColor:"#000000"),u.cursor&&(v.cursor=u.cursor),g={fill:m.backgroundColor,stroke:m.borderColor,"stroke-width":m.borderWidth,r:m.borderRadius||0,rotation:f,padding:m.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!x||r&&a(s)?r&&a(s)&&(x?g.text=s:(x=e.dataLabel=f?b.text(s,0,-9999,m.useHTML).addClass("highcharts-data-label"):b.label(s,0,-9999,m.shape,null,null,m.useHTML,null,"data-label")).addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(m.className||"")+(m.useHTML?" highcharts-tracker":"")),x.attr(g),x.css(v).shadow(m.shadow),x.added||x.add(d),p.alignDataLabel(e,x,m,null,w)):(e.dataLabel=x=x.destroy(),y&&(e.connector=y.destroy()))})),t.fireEvent(this,"afterDrawDataLabels")},h.prototype.alignDataLabel=function(t,e,i,a,r){var o,s=this.chart,l=s.inverted,d=c(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),p=c(t.plotY,-9999),h=e.getBBox(),u=i.rotation,m=i.align,f=this.visible&&(t.series.forceDL||s.isInsidePlot(d,Math.round(p),l)||a&&s.isInsidePlot(d,l?a.x+1:a.y+a.height-1,l)),g="justify"===c(i.overflow,"justify");f&&(o=i.style.fontSize,o=s.renderer.fontMetrics(o,e).b,a=n({x:l?this.yAxis.len-p:d,y:Math.round(l?this.xAxis.len-d:p),width:0,height:0},a),n(i,{width:h.width,height:h.height}),u?(g=!1,d=s.renderer.rotCorr(o,u),d={x:a.x+i.x+a.width/2+d.x,y:a.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*a.height},e[r?"attr":"animate"](d).attr({align:m}),p=180<(p=(u+720)%360)&&360>p,"left"===m?d.y-=p?h.height:0:"center"===m?(d.x-=h.width/2,d.y-=h.height/2):"right"===m&&(d.x-=h.width,d.y-=p?0:h.height),e.placed=!0,e.alignAttr=d):(e.align(i,null,a),d=e.alignAttr),g&&0<=a.height?t.isLabelJustified=this.justifyDataLabel(e,i,d,h,a,r):c(i.crop,!0)&&(f=s.isInsidePlot(d.x,d.y)&&s.isInsidePlot(d.x+h.width,d.y+h.height)),i.shape&&!u)&&e[r?"attr":"animate"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY}),f||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,i,a,r,n){var o,s,l=this.chart,d=e.align,c=e.verticalAlign,p=t.box?0:t.padding||0;return 0>(o=i.x+p)&&("right"===d?e.align="left":e.x=-o,s=!0),(o=i.x+a.width-p)>l.plotWidth&&("left"===d?e.align="right":e.x=l.plotWidth-o,s=!0),0>(o=i.y+p)&&("bottom"===c?e.verticalAlign="top":e.y=-o,s=!0),(o=i.y+a.height-p)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-o,s=!0),s&&(t.placed=!n,t.align(e,null,r)),s},u.pie&&(u.pie.prototype.drawDataLabels=function(){var e,n,o,s,l,d,p,u,m,f,g=this,v=g.data,b=g.chart,x=g.options.dataLabels,y=c(x.connectorPadding,10),w=c(x.connectorWidth,1),k=b.plotWidth,M=b.plotHeight,T=Math.round(b.chartWidth/3),S=g.center,C=S[2]/2,A=S[1],L=[[],[]],E=[0,0,0,0];g.visible&&(x.enabled||g._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(g),r(v,function(t){t.dataLabel&&(t.visible?(L[t.half].push(t),t.dataLabel._pos=null,!a(x.style.width)&&!a(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>T&&(t.dataLabel.css({width:.7*T}),t.dataLabel.shortened=!0)):t.dataLabel=t.dataLabel.destroy())}),r(L,function(i,n){var h,v,w,T=i.length,L=[];if(T)for(g.sortByAngle(i,n-.5),0<g.maxLabelDistance&&(h=Math.max(0,A-C-g.maxLabelDistance),v=Math.min(A+C+g.maxLabelDistance,b.plotHeight),r(i,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,A-C-t.labelDistance),t.bottom=Math.min(A+C+t.labelDistance,b.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},L.push(t.distributeBox))}),h=v+w-h,t.distribute(L,h,h/5)),f=0;f<T;f++)e=i[f],l=e.labelPos,o=e.dataLabel,m=!1===e.visible?"hidden":"inherit",u=h=l[1],L&&a(e.distributeBox)&&(void 0===e.distributeBox.pos?m="hidden":(d=e.distributeBox.size,u=e.top+e.distributeBox.pos)),delete e.positionIndex,p=x.justify?S[0]+(n?-1:1)*(C+e.labelDistance):g.getX(u<e.top+2||u>e.bottom-2?h:u,n,e),o._attr={visibility:m,align:l[6]},o._pos={x:p+x.x+({left:y,right:-y}[l[6]]||0),y:u+x.y-10},l.x=p,l.y=u,c(x.crop,!0)&&(s=o.getBBox().width,h=null,p-s<y&&1===n?(h=Math.round(s-p+y),E[3]=Math.max(h,E[3])):p+s>k-y&&0===n&&(h=Math.round(p+s-k+y),E[1]=Math.max(h,E[1])),0>u-d/2?E[0]=Math.max(Math.round(d/2-u),E[0]):u+d/2>M&&(E[2]=Math.max(Math.round(u+d/2-M),E[2])),o.sideOverflow=h)}),0===i(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),w&&r(this.points,function(t){var e;n=t.connector,(o=t.dataLabel)&&o._pos&&t.visible&&0<t.labelDistance?(m=o._attr.visibility,(e=!n)&&(t.connector=n=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),n.attr({"stroke-width":w,stroke:x.connectorColor||t.color||"#666666"})),n[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),n.attr("visibility",m)):n&&(t.connector=n.destroy())}))},u.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},u.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},u.pie.prototype.alignDataLabel=d,u.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,a=this.options,r=a.center,n=a.minSize||80,o=null!==a.size;return o||(null!==r[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),n):(e=Math.max(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),n):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(p(a.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}),u.column&&(u.column.prototype.alignDataLabel=function(t,e,i,a,r){var n=this.chart.inverted,o=t.series,s=t.dlBox||t.shapeArgs,d=c(t.below,t.plotY>c(this.translatedThreshold,o.yAxis.len)),p=c(i.inside,!!this.options.stacking);s&&(0>(a=l(s)).y&&(a.height+=a.y,a.y=0),0<(s=a.y+a.height-o.yAxis.len)&&(a.height-=s),n&&(a={x:o.yAxis.len-a.y-a.height,y:o.xAxis.len-a.x-a.width,width:a.height,height:a.width}),p||(n?(a.x+=d?0:a.width,a.width=0):(a.y+=d?a.height:0,a.height=0))),i.align=c(i.align,!n||p?"center":d?"right":"left"),i.verticalAlign=c(i.verticalAlign,n||p?"middle":d?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,i,a,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(d),function(t){var e=t.Chart,i=t.each,a=t.objectEach,r=t.pick;(t=t.addEvent)(e,"render",function(){var t=[];i(this.labelCollectors||[],function(e){t=t.concat(e())}),i(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&a(e.stacks,function(e){a(e,function(e){t.push(e.label)})})}),i(this.series||[],function(e){var a=e.options.dataLabels,n=e.dataLabelCollections||["dataLabel"];(a.enabled||e._hasPointLabels)&&!a.allowOverlap&&e.visible&&i(n,function(a){i(e.points,function(e){e[a]&&e.visible&&(e[a].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[a]))})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,a,r,n,o,s,l=t.length,d=this.renderer,c=function(t,e,i,a,r,n,o,s){return!(r>t+i||r+o<t||n>e+a||n+s<e)};for(r=function(t){var e,i,a,r=2*(t.box?0:t.padding||0);if(a=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(a=t.getBBox(),t.width=a.width,t.height=a.height,a=d.fontMetrics(null,t.element).h),{x:e.x+(i.translateX||0),y:e.y+(i.translateY||0)-a,width:t.width-r,height:t.height-r}},a=0;a<l;a++)(e=t[a])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),a=0;a<l;a++)for(s=(r=t[a])&&r.absoluteBox,e=a+1;e<l;++e)o=(n=t[e])&&n.absoluteBox,s&&o&&r!==n&&0!==r.newOpacity&&0!==n.newOpacity&&(o=c(s.x,s.y,s.width,s.height,o.x,o.y,o.width,o.height))&&((r.labelrank<n.labelrank?r:n).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)})}}(d),function(t){var e,i=t.addEvent,a=t.Chart,r=t.createElement,n=t.css,o=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,d=t.extend,c=t.fireEvent,p=t.hasTouch,h=t.inArray,u=t.isObject,m=t.Legend,f=t.merge,g=t.pick,v=t.Point,b=t.Series,x=t.seriesTypes,y=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(a){t[a]&&(t[a].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){e.onTrackerMouseOut(t)}),p&&t[a].on("touchstart",i),t.options.cursor&&t[a].css(n).css({cursor:t.options.cursor}))}),t._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,a=i.trackByArea,r=[].concat(a?e.areaPath:e.graphPath),n=r.length,o=e.chart,s=o.pointer,d=o.renderer,h=o.options.tooltip.snap,u=e.tracker,m=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(y?1e-4:.002)+")";if(n&&!a)for(t=n+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===n)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);u?u.attr({d:r}):e.graph&&(e.tracker=d.path(r).attr({"stroke-linejoin":"round",stroke:f,fill:a?f:"none","stroke-width":e.graph.strokeWidth()+(a?0:2*h),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(t){s.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),p&&t.on("touchstart",m)})),c(this,"afterDrawTracker")}},x.column&&(x.column.prototype.drawTracker=e.drawTrackerPoint),x.pie&&(x.pie.prototype.drawTracker=e.drawTrackerPoint),x.scatter&&(x.scatter.prototype.drawTracker=e.drawTrackerPoint),d(m.prototype,{setItemEvents:function(t,e,i){var a=this,r=a.chart.renderer.boxWrapper,n="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(n),e.css(a.options.itemHoverStyle)}).on("mouseout",function(){e.css(f(t.visible?a.itemStyle:a.itemHiddenStyle)),r.removeClass(n),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};r.removeClass(n),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):c(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),o.legend.itemStyle.cursor="pointer",d(a.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=o.lang,a=e.options.chart.resetZoomButton,r=a.theme,n=r.states,s="chart"===a.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,r,n&&n.hover).attr({align:a.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,s)})},zoomOut:function(){c(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,a=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),a.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;a[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&u(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,a=this,r=a.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r,n=(e=a[e?"xAxis":"yAxis"][0]).horiz,o=t[n?"chartX":"chartY"],s=a[n=n?"mouseDownX":"mouseDownY"],l=(e.pointRange||0)/2,d=e.reversed&&!a.inverted||!e.reversed&&a.inverted?-1:1,c=e.getExtremes(),p=e.toValue(s-o,!0)+l*d;s=(r=(d=e.toValue(s+e.len-o,!0)-l*d)<p)?d:p,p=r?p:d,d=Math.min(c.dataMin,l?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)),l=Math.max(c.dataMax,l?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding));0<(r=d-s)&&(p+=r,s=d),0<(r=p-l)&&(p=l,s-=r),e.series.length&&s!==c.min&&p!==c.max&&(e.setExtremes(s,p,!1,!1,{trigger:"pan"}),i=!0),a[n]=o}),i&&a.redraw(!1),n(a.container,{cursor:"move"})}}),d(v.prototype,{select:function(t,e){var i=this,a=i.series,r=a.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,a.options.data[h(i,a.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,a.options.data[h(t,a.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,a=f(e.series.options.point,e.options).events;e.events=a,t.objectEach(a,function(t,a){i(e,a,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,a=Math.floor(this.plotX),r=this.plotY,n=this.series,o=n.options.states[t||"normal"]||{},l=s[n.type].marker&&n.options.marker,p=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},u=!1===h.enabled,m=n.stateMarkerGraphic,f=this.marker||{},v=n.chart,b=n.halo,x=l&&n.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===o.enabled||t&&(u||p&&!1===h.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled||(x&&(i=n.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(n.pointAttribs(this,t),g(v.options.chart.animation,o.animation)),i&&this.graphic.animate(i,g(v.options.chart.animation,h.animation,l.animation)),m&&m.hide()):(t&&h&&(l=f.symbol||n.symbol,m&&m.currentSymbol!==l&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(n.stateMarkerGraphic=m=v.renderer.symbol(l,i.x,i.y,i.width,i.height).add(n.markerGroup),m.currentSymbol=l),m&&m.attr(n.pointAttribs(this,t))),m&&(m[t&&v.isInsidePlot(a,r,v.inverted)?"show":"hide"](),m.element.point=this)),(a=o.halo)&&a.size?(b||(n.halo=b=v.renderer.path().add((this.graphic||m).parentGroup)),b.show()[e?"animate":"attr"]({d:this.haloPath(a.size)}),b.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,n.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),b.point=this,b.attr(d({fill:this.color||n.color,"fill-opacity":a.opacity},a.attributes))):b&&b.point&&b.point.haloPath&&b.animate({d:b.point.haloPath(0)},null,b.hide),this.state=t,c(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),d(b.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,a=e.hoverPoint;e.hoverSeries=null,a&&a.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,a=e.graph,r=i.states,n=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(n=r[t].lineWidth||n+(r[t].lineWidthPlus||0)),a&&!a.dashstyle))for(n={"stroke-width":n},a.animate(n,g(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(n),i+=1},setVisible:function(t,e){var i,a=this,r=a.chart,n=a.legendItem,o=r.options.chart.ignoreHiddenSeries,s=a.visible;i=(a.visible=t=a.options.visible=a.userOptions.visible=void 0===t?!s:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){a[t]&&a[t][i]()}),r.hoverSeries!==a&&(r.hoverPoint&&r.hoverPoint.series)!==a||a.onMouseOut(),n&&r.legend.colorizeItem(a,t),a.isDirty=!0,a.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(a.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(r.isDirtyBox=!0),c(a,i),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(d),function(t){var e=t.Chart,i=t.each,a=t.inArray,r=t.isArray,n=t.isObject,o=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var a=this.options.responsive,r=[],n=this.currentResponsive;a&&a.rules&&i(a.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,r,e)},this);var o=t.merge.apply(0,t.map(r,function(e){return t.find(a.rules,function(t){return t._id===e}).chartOptions}));(r=r.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:o,undoOptions:this.currentOptions(o)},this.update(o,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=o(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(i.minWidth,0)&&this.chartHeight>=o(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){var i={};return function e(i,o,l,d){var c;t.objectEach(i,function(t,i){if(!d&&-1<a(i,["series","xAxis","yAxis"]))for(t=s(t),l[i]=[],c=0;c<t.length;c++)o[i][c]&&(l[i][c]={},e(t[c],o[i][c],l[i][c],d+1));else n(t)?(l[i]=r(t)?[]:{},e(t,o[i]||{},l[i],d+1)):l[i]=o[i]||null})}(e,this.options,i,0),i}}(d),d}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,i=t.win,a=i.document,r=t.Chart,n=t.addEvent,o=t.removeEvent,s=t.fireEvent,l=t.createElement,d=t.discardElement,c=t.css,p=t.merge,h=t.each,u=t.extend,m=t.splat,f=Math.max,g=t.isTouchDevice,v=t.Renderer.prototype.symbols,b=t.getOptions();u(b.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),b.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},b.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var r;t=l("form",p({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},a.body);for(r in e)l("input",{type:"hidden",name:r,value:e[r]},null,t);t.submit(),d(t)},u(r.prototype,{sanitizeSVG:function(t){return t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,r,n,o,s,c=this,f=p(c.options,e),g=f.exporting.allowHTML;return a.createElementNS||(a.createElementNS=function(t,e){return a.createElement(e)}),r=l("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},a.body),n=c.renderTo.style.width,s=c.renderTo.style.height,n=f.exporting.sourceWidth||f.chart.width||/px$/.test(n)&&parseInt(n,10)||600,s=f.exporting.sourceHeight||f.chart.height||/px$/.test(s)&&parseInt(s,10)||400,u(f.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:n,height:s}),f.exporting.enabled=!1,delete f.data,f.series=[],h(c.series,function(t){(o=p(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible})).isInternal||f.series.push(o)}),e&&h(["xAxis","yAxis"],function(t){h(m(e[t]),function(e,i){f[t][i]=p(f[t][i],e)})}),i=new t.Chart(f,c.callback),h(["xAxis","yAxis"],function(t){h(c[t],function(e,a){var r=i[t][a],n=(o=e.getExtremes()).userMin,o=o.userMax;r&&(void 0!==n||void 0!==o)&&r.setExtremes(n,o,!0,!1)})}),n=i.getChartHTML(),f=null,i.destroy(),d(r),g&&(r=n.match(/<\/svg>(.*?$)/))&&(r='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+r[1]+"</body></foreignObject>",n=n.replace("</svg>",r+"</svg>")),(n=this.sanitizeSVG(n)).replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){var a=this.getSVGForExport(e,i);e=p(this.options.exporting,e);t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale,svg:a},e.formAttributes)},print:function(){var t,e,r=this,n=r.container,o=[],l=n.parentNode,d=a.body,c=d.childNodes,p=r.options.exporting.printMaxWidth;r.isPrinting||(r.isPrinting=!0,r.pointer.reset(null,0),s(r,"beforePrint"),(e=p&&r.chartWidth>p)&&(t=[r.options.chart.width,void 0,!1],r.setSize(p,void 0,!1)),h(c,function(t,e){1===t.nodeType&&(o[e]=t.style.display,t.style.display="none")}),d.appendChild(n),i.focus(),i.print(),setTimeout(function(){l.appendChild(n),h(c,function(t,e){1===t.nodeType&&(t.style.display=o[e])}),r.isPrinting=!1,e&&r.setSize.apply(r,t),s(r,"afterPrint")},1e3))},contextMenu:function(t,e,i,r,s,d,p){var m,g,v,b=this,x=b.options.navigation,y=x.menuItemStyle,w=b.chartWidth,k=b.chartHeight,M="cache-"+t,T=b[M],S=f(s,d),C=function(e){b.pointer.inClass(e.target,t)||g()};T||(b[M]=T=l("div",{className:t},{position:"absolute",zIndex:1e3,padding:S+"px"},b.container),m=l("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},x.menuStyle),T),g=function(){c(T,{display:"none"}),p&&p.setState(0),b.openMenu=!1},n(T,"mouseleave",function(){v=setTimeout(g,500)}),n(T,"mouseenter",function(){clearTimeout(v)}),n(a,"mouseup",C),n(b,"destroy",function(){o(a,"mouseup",C)}),h(e,function(t){if(t){var e=t.separator?l("hr",null,null,m):l("div",{onmouseover:function(){c(this,x.menuItemHoverStyle)},onmouseout:function(){c(this,y)},onclick:function(e){e&&e.stopPropagation(),g(),t.onclick&&t.onclick.apply(b,arguments)},innerHTML:t.text||b.options.lang[t.textKey]},u({cursor:"pointer"},y),m);b.exportDivElements.push(e)}}),b.exportDivElements.push(m,T),b.exportMenuWidth=T.offsetWidth,b.exportMenuHeight=T.offsetHeight),e={display:"block"},i+b.exportMenuWidth>w?e.right=w-i-s-S+"px":e.left=i-S+"px",r+d+b.exportMenuHeight>k&&"top"!==p.alignOptions.verticalAlign?e.bottom=k-r-S+"px":e.top=r+d-S+"px",c(T,e),b.openMenu=!0},addButton:function(i){var a,r,n=this,o=n.renderer,s=p(n.options.navigation.buttonOptions,i),l=s.onclick,d=s.menuItems,c={stroke:s.symbolStroke,fill:s.symbolFill},h=s.symbolSize||12;if(n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]),!1!==s.enabled){var m,f=s.theme,g=(v=f.states)&&v.hover,v=v&&v.select;delete f.states,l?m=function(t){t.stopPropagation(),l.call(n,t)}:d&&(m=function(){n.contextMenu(r.menuClassName,d,r.translateX,r.translateY,r.width,r.height,r),r.setState(2)}),s.text&&s.symbol?f.paddingLeft=t.pick(f.paddingLeft,25):s.text||u(f,{width:s.width,height:s.height,padding:0}),(r=o.button(s.text,0,0,m,f,g,v).attr({title:n.options.lang[s._titleKey],"stroke-linecap":"round",zIndex:3})).menuClassName=i.menuClassName||"highcharts-menu-"+n.btnCount++,s.symbol&&(a=o.symbol(s.symbol,s.symbolX-h/2,s.symbolY-h/2,h,h).attr(u(c,{"stroke-width":s.symbolStrokeWidth||1,zIndex:1})).add(r)),r.add().align(u(s,{width:r.width,x:t.pick(s.x,e)}),!0,"spacingBox"),e+=(r.width+s.buttonSpacing)*("right"===s.align?-1:1),n.exportSVGElements.push(r,a)}},destroyExport:function(t){var e,i;t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],o(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,d(i)}}),v.menu=function(t,e,i,a){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+a/2+.5,"L",t+i,e+a/2+.5,"M",t,e+a-1.5,"L",t+i,e+a-1.5]},r.prototype.callbacks.push(function(t){var i,a=t.options.exporting,r=a.buttons;if(e=0,!1!==a.enabled){for(i in r)t.addButton(r[i]);n(t,"destroy",t.destroyExport)}})}),function(t,e,i){function a(t){return void 0!==t}function r(t){return"object"==typeof t}function n(t){return Object.keys(t).length}function o(t,e,i){return e>t?e:t>i?i:t}function s(t,e){return parseInt(t,e||10)}function l(t){return Math.round(t)}function d(t){var e,i,a,r,n,o,s,d,c=+t[0],p=+t[1],h=+t[2];switch(o=h*(1-p),s=h*(1-(n=6*c-(r=Math.floor(6*c)))*p),d=h*(1-(1-n)*p),r=r||0,s=s||0,d=d||0,r%6){case 0:e=h,i=d,a=o;break;case 1:e=s,i=h,a=o;break;case 2:e=o,i=h,a=d;break;case 3:e=o,i=s,a=h;break;case 4:e=d,i=o,a=h;break;case 5:e=h,i=o,a=s}return[l(255*e),l(255*i),l(255*a)]}function c(t){return h(d(t))}function p(t){var e,i=+t[0],a=+t[1],r=+t[2],n=Math.max(i,a,r),o=Math.min(i,a,r),s=n-o,l=0===n?0:s/n,d=n/255;switch(n){case o:e=0;break;case i:e=a-r+s*(r>a?6:0),e/=6*s;break;case a:e=r-i+2*s,e/=6*s;break;case r:e=i-a+4*s,e/=6*s}return[e,l,d]}function h(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return(e="000000"+e.toString(16)).slice(-6)}function u(t){return p(m(t))}function m(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[s(t[0]+t[1],16),s(t[2]+t[3],16),s(t[4]+t[5],16)]}function f(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function g(t){return[l(360*+t[0]),l(100*+t[1]),l(100*+t[2])]}function v(t){if(r(t))return t;var e=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),i=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t);return"#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/i)?u(t.slice(1)):i?f([+i[1],+i[2],+i[3]]):e?p([+e[1],+e[2],+e[3]]):[0,1,1]}var b="__instance__",x="firstChild",y=setTimeout;!function(t){t.version="1.3.9",t[b]={},t.each=function(e,i){return y(function(){var i,a=t[b];for(i in a)e(a[i],i,a)},0===i?0:i||1),t},t.parse=v,t._HSV2RGB=d,t._HSV2HEX=c,t._RGB2HSV=p,t._HEX2HSV=u,t._HEX2RGB=function(t){return function(t){return[+t[0]/255,+t[1]/255,+t[2]/255]}(m(t))},t.HSV2RGB=function(t){return d(f(t))},t.HSV2HEX=function(t){return c(f(t))},t.RGB2HSV=function(t){return g(p(t))},t.RGB2HEX=h,t.HEX2HSV=function(t){return g(u(t))},t.HEX2RGB=m}(t.CP=function(i,s,l){function p(t,e,i){for(var a=0,r=(t=t.split(/\s+/)).length;r>a;++a)e.addEventListener(t[a],i,!1)}function h(t,e,i){for(var a=0,r=(t=t.split(/\s+/)).length;r>a;++a)e.removeEventListener(t[a],i)}function u(t,e){var i="touches",a="clientX",r="clientY",n=e[i]?e[i][0][a]:e[a],o=e[i]?e[i][0][r]:e[r],s=m(t);return{x:n-s.l,y:o-s.t}}function m(e){var i,a,r;return e===t?(i=t.pageXOffset||E.scrollLeft,a=t.pageYOffset||E.scrollTop):(i=(r=e.getBoundingClientRect()).left,a=r.top),{l:i,t:a}}function f(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function g(t){t&&t.preventDefault()}function v(e){return e===t?{w:t.innerWidth,h:t.innerHeight}:{w:e.offsetWidth,h:e.offsetHeight}}function w(t){return O||!!a(t)&&t}function k(t){O=t}function M(t,e,i){if(!a(I[t]))return z;if(a(i))a(I[t][i])&&I[t][i].apply(z,e);else for(var r in I[t])I[t][r].apply(z,e);return z}function T(t,e){t&&"h"!==t||M("change:h",e),t&&"sv"!==t||M("change:sv",e),M("change",e)}function S(){return N.parentNode}function C(a,r){function n(t){var e=t.target,a=e===i||f(e,i)===i;a?C():z.exit(),M(a?"enter":"exit",[z])}function m(t){var e=(d(X),d([X[0],1,1]));Y.style.backgroundColor="rgb("+e.join(",")+")",k(X),g(t)}function b(t){U&&(function(t){var e=o(u(G,t).y,0,I);X[0]=(I-e)/I,j.style.top=e-Z/2+"px",m(t)}(t),tt=c(X),q||(M("drag:h",[tt,z]),M("drag",[tt,z]),T("h",[tt,z]))),K&&(function(t){var e=u(Y,t),i=o(e.x,0,W),a=o(e.y,0,$);X[1]=1-(W-i)/W,X[2]=($-a)/$,_.style.right=W-i-et/2+"px",_.style.top=a-it/2+"px",m(t)}(t),tt=c(X),V||(M("drag:sv",[tt,z]),M("drag",[tt,z]),T("sv",[tt,z]))),q=0,V=0}function x(t){var e=t.target,a=U?"h":"sv",r=[c(X),z],n=e===i||f(e,i)===i,o=e===N||f(e,N)===N;n||o?o&&(M("stop:"+a,r),M("stop",r),T(a,r)):S()&&!1!==s&&(z.exit(),M("exit",[z]),T(0,r)),U=0,K=0}function y(t){q=1,U=1,b(t),g(t),M("start:h",[tt,z]),M("start",[tt,z]),T("h",[tt,z])}function E(t){V=1,K=1,b(t),g(t),M("start:sv",[tt,z]),M("start",[tt,z]),T("sv",[tt,z])}a||((l||r||L).appendChild(N),z.visible=!0),Q=v(N).w,J=v(N).h;var P=v(Y),O=v(_),I=v(G).h,W=P.w,$=P.h,Z=v(j).h,et=O.w,it=O.h;a?(N.style.left=N.style.top="-9999px",!1!==s&&p(s,i,n),z.create=function(){return C(1),M("create",[z]),z},z.destroy=function(){return!1!==s&&h(s,i,n),z.exit(),k(!1),M("destroy",[z]),z}):A(),F=function(){X=w(X),m(),j.style.top=I-Z/2-I*+X[0]+"px",_.style.right=W-et/2-W*+X[1]+"px",_.style.top=$-it/2-$*+X[2]+"px"},z.exit=function(){return S()&&(S().removeChild(N),z.visible=!1),h(D,G,y),h(D,Y,E),h(B,e,b),h(H,e,x),h(R,t,A),z},F(),a||(p(D,G,y),p(D,Y,E),p(B,e,b),p(H,e,x),p(R,t,A))}function A(){return z.fit()}var L=e.body,E=e.documentElement,z=this,P=t.CP,O=!1,I={},N=e.createElement("div"),D="touchstart mousedown",B="touchmove mousemove",H="touchend mouseup",R="orientationchange resize";if(!(z instanceof P))return new P(i,s);P[b][i.id||i.name||n(P[b])]=z,a(s)&&!0!==s||(s=D),k(P.parse(i.getAttribute("data-color")||i.value||[0,1,1])),N.className="color-picker",N.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var F,W=N[x].children,X=w([0,1,1]),G=W[0],Y=W[1],j=G[x],_=Y[x],q=0,V=0,U=0,K=0,$=0,Z=0,Q=0,J=0,tt=c(X);return C(1),y(function(){var t=[c(X),z];M("create",t),T(0,t)},0),z.fit=function(e){var n=v(t),s=v(E),l=n.w-s.w,d=n.h-E.clientHeight,c=m(t),p=m(i);if($=p.l+c.l,Z=p.t+c.t+v(i).h,r(e))a(e[0])&&($=e[0]),a(e[1])&&(Z=e[1]);else{var h=c.l,u=c.t,f=c.l+n.w-Q-l,g=c.t+n.h-J-d;$=o($,h,f)>>0,Z=o(Z,u,g)>>0}return N.style.left=$+"px",N.style.top=Z+"px",M("fit",[z]),z},z.set=function(t){return a(t)?(function(t){return"string"==typeof t}(t)&&(t=P.parse(t)),k(t),F(),z):w()},z.get=function(t){return w(t)},z.target=i,z.picker=N,z.visible=!1,z.on=function(t,e,i){return a(t)?a(e)?(a(I[t])||(I[t]={}),a(i)||(i=n(I[t])),I[t][i]=e,z):I[t]:I},z.off=function(t,e){return a(t)?a(e)?(delete I[t][e],z):(I[t]={},z):(I={},z)},z.fire=M,z.hooks=I,z.enter=function(t){return C(0,t)},z})}(window,document),mw=window.mw||{},mw.support={xhrf:null,ajax:function(o){function encode(t,e,i){e=e||[];var a=/%20/g;for(var r in t)if(t.hasOwnProperty(r)){var n=encodeURIComponent(r).replace(a,"+");if(i&&(n=i+"["+n+"]"),t[r]instanceof Array)for(var o=0;o<t[r].length;o++)e.push(n+"[]="+encodeURIComponent(t[r][o]));else"object"==typeof t[r]?e=encode(t[r],e,n):void 0!==t[r]&&e.push(n+"="+encodeURIComponent(t[r].toString()).replace(a,"+"))}return i?e:e.join("&")}function xhrObject(){if(null!=mw.support.xhrf)return mw.support.xhrf();for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],e=0,i=t.length;e<i;e++)try{var a=t[e],r=a();if(null!=r)return _xhrf=a,r}catch(t){continue}return function(){}}function xhrResponse(xhr){var ct=xhr.getResponseHeader("Content-Type");if(null!=ct)switch(xhr.getResponseHeader("Content-Type").split(";")[0]){case"text/xml":return xhr.responseXML;case"text/json":case"application/json":case"text/javascript":case"application/javascript":case"application/x-javascript":return window.JSON?JSON.parse(xhr.responseText):eval(xhr.responseText);default:return xhr.responseText}}var xhr=xhrObject(),timer,n=0;o.type=o.type||"GET",o.data=o.data||null,o.async=!o.hasOwnProperty("async")||o.async,o.timeout&&(timer=setTimeout(function(){xhr.abort(),o.timeoutFn&&o.timeoutFn(o.url)},o.timeout)),xhr.onreadystatechange=function(){if(4==xhr.readyState){timer&&clearTimeout(timer);var t=xhrResponse(xhr);xhr.status<300&&o.success?o.success(t,xhr):o.error?o.error(t,xhr):o.complete&&o.complete(t,xhr)}else o.progress&&o.progress(++n)};var url=o.url,data=null,isPost="POST"==o.type||"PUT"==o.type;if(!isPost&&o.data){var ed=encode(o.data);""!=ed&&(url+=(-1==url.indexOf("?")?"?":"&")+ed)}if(xhr.url=url,xhr.open(o.type,url,o.async),isPost)if(o.data instanceof FormData)data=o.data;else{var isJson=o.dataType&&o.dataType.indexOf("json")>=0;data=isJson?JSON.stringify(o.data):encode(o.data),xhr.setRequestHeader("Content-Type",isJson?"application/json":"application/x-www-form-urlencoded")}try{xhr.send(data)}catch(t){o.error&&o.error(t,xhr)}return o.async?xhr:xhrResponse(xhr)},extend:function(t,e){if(null==t||"object"!=typeof t)return t;if(t.constructor!=Object&&t.constructor!=Array)return t;if(t.constructor==Array&&e)return t.slice();if(t.constructor==Date||t.constructor==RegExp||t.constructor==Function||t.constructor==String||t.constructor==Number||t.constructor==Boolean)return new t.constructor(t);for(var i in e=e||new t.constructor,t)e[i]=mw.support.extend(t[i],e[i]);return e},format:function(){var t=/(\d+)(\d{3})/,e=arguments,i=1==e.length?0:1,a=1==e.length?"%."+mw.support.PRECISION+"f":e[0];return String(a).replace(/%([+-])?('.|0|\x20)?([+-])?(\d+)?(\.(\d+))?(%|b|c|d|e|E|u|f|F|o|s|x|X|w|W)/g,function(a,r,n,o,s,l,d,c){if("%"==c)return"%";var p=e[i++];if(void 0===p)return"";var h="";switch(c){case"b":p=parseInt(p).toString(2);break;case"c":p=String.fromCharCode(parseInt(p));break;case"d":p=parseInt(p)?parseInt(p):0;break;case"e":case"E":p=parseFloat(p).toExponential(d||7),"E"==c&&(p=p.toUpperCase());break;case"u":p=parseInt(p)?Math.abs(parseInt(p)):0;break;case"w":case"W":for(var u=mw.support.WORDIFY.length;u>=0;u--)if(mw.support.WORDIFY[u]&&""!=mw.support.WORDIFY[u]){var m=Math.pow(10,3*(u+1));if(Math.abs(p)>=m){p/=m,h=(h=mw.support.WORDIFY[u].split("|"))[p<2||1==h.length?0:1];break}}case"f":case"F":if(d){var f=Math.pow(10,d);p=Math.round(+p*f)/f}p=String(+p),n&&d&&(f=-1==(f=p.indexOf("."))?0:p.length-f-1)<d&&(p+=(0==f?".":"")+Array(d-f+1).join("0")),"w"!=c&&"f"!=c||(p=p.replace(".",mw.support.DECSEP).replace(/^\d+/,function(e){for(;t.test(e);)e=e.replace(t,"$1"+mw.support.THOUSSEP+"$2");return e}));break;case"o":p=parseInt(p).toString(8);break;case"x":case"X":p=parseInt(p).toString(16),"X"==c&&(p=p.toUpperCase())}if(p=String(p),"+"==r&&p>0&&("c"==c||"s"==c)&&(p="+"+p),p.length<s){void 0===o&&r&&(o=r),void 0===n?n=" ":"'"==n[0]&&(n=n.substr(1));f=Array(parseInt(s)+1-p.length).join(n);"-"===o?p+=f:p=p<0&&"0"==n?"-"+f+Math.abs(p):f+p}return p+h})},prettify:function(t,e,i){if(i<=1&&(i=2),t<0&&e<=0){var a=mw.support.prettify(-e,-t,i);return[-a[1],-a[0],a[2]]}if(t<0){var r=mw.support.prettify(0,-t,Math.ceil(i*t/(t-e))),n=mw.support.prettify(0,e,Math.ceil(i*e/(e-t))),o=Math.max(r[2],n[2]);return[Math.floor(t/o)*o,Math.ceil(e/o)*o,o]}var s=e<=1;s&&(t*=100,e*=100);var l=[2,2.5,2],d=0,c=1;do{var p=Math.floor(t/c)*c,h=Math.ceil(e/c)*c,u=(h-p)/c;c*=l[d++%3]}while(u>i);return s&&(p/=100,h/=100),[p,h,(h-p)/u]},prettify_log:function(t,e,i){for(var a,r,n,o=[[1,2,5],[1,3],[1]],s=0;s<o.length;s++){var l=o[s];t:for(var d=0;;d++)for(var c=0;c<l.length;c++)if((a=Math.round(Math.exp(d*Math.LN10+Math.log(l[c]))))<=t)r=[a];else if(r?r.push(a):r=[a],a>=e)break t;if(r.length<=i)return r}if(r.length<=2*i)a=r[0],n=100;else{for(a=1;t>=1e3;a*=1e3,t/=1e3);n=1e3}r=[a];do{a*=n,r.push(a)}while(a<e);return r},filterOutliers:function(t){var e=t.concat();e.sort(function(t,e){return t-e});var i=e[Math.floor(e.length/4)],a=e[Math.ceil(.75*e.length)],r=a-i,n=a+1.5*r,o=i-1.5*r;return e.filter(function(t){return t<n&&t>o})},hasPointerEvents:function(){var t,e=document.createElement("x"),i=document.documentElement,a=window.getComputedStyle;return"pointerEvents"in e.style&&(e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e),t=a&&"auto"===a(e,"").pointerEvents,i.removeChild(e),!!t)},offset:function(t){if(t.getBoundingClientRect)return t.getBoundingClientRect();var e=curtop=0;if(t.offsetParent)do{-1==t.className.indexOf("map-tooltip")&&(e+=t.offsetLeft,curtop+=t.offsetTop)}while(t=t.offsetParent);return{left:e,top:curtop}},mousepos:function(t){var e=0,i=0,a=t.target||t.srcElement,r=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,n=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if(t.touches){for(var o=t.touches.length?t.touches:t.changedTouches,s=o.length,l=0;l<s;l++)e+=o[l].pageX-r,i+=o[l].pageY-n;e/=s,i/=s}else t.pageX||t.pageY?(e=t.pageX,i=t.pageY,a.getBoundingClientRect&&(e-=r,i-=n)):(t.clientX||t.clientY)&&(e=t.clientX+r,i=t.clientY+n);var d=mw.support.offset(a);return{x:e-d.left,y:i-d.top}},legendHTML:function(t){var e="";if(t){t.legend_header&&(e+='<div class="map-legend-header">'+t.legend_header+"</div>");var i=t.legendlabel||t.legend||t;for(var a in i){var r=t.legendlabel?i[a]:i[a].label,n=i[a].color||i[a].cssColour||(t.legendcolor?t.legendcolor[a]:null);r&&""!=r&&(e+='<div class="map-legend-item"><div title="'+r.replace('"',"'")+'" class="map-legend-swatch"',e+=' style="background-color: '+(n||"#000")+'"></div>',e+=r,e+="</div>")}}return e},legendColor:function(t,e){for(var i,a=0,r=t.length;a<r;a++){var n=t[a],o=+n.min||+n.from||0,s=+n.max||+n.to||0;if(0===o&&0===s&&(i=n.color||n.cssColour),void 0!=e&&e>=o&&e<s)return n.color||n.cssColour}return i},css2rgb:function(t){var e,i,a,r,n=1;return(e=t.match(/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([01]?\.\d+)\s*\)/i))?(i=e[1],a=e[2],r=e[3],n=e[4]):(e=t.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i))?(i=e[1],a=e[2],r=e[3]):(e=t.match(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i))?(i=parseInt(e[1],16),a=parseInt(e[2],16),r=parseInt(e[3],16)):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])/i))&&(i=parseInt(e[1]+e[1],16),a=parseInt(e[2]+e[2],16),r=parseInt(e[3]+e[3],16)),[i,a,r,n]},rgb2css:function(t){return 1==t[3]||void 0==t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},hsl2rgb:function(t){var e,i,a,r=t[0],n=t[1],o=t[2],s=t[3];if(0==n)e=i=a=o;else{function l(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var d=o<.5?o*(1+n):o+n-o*n,c=2*o-d;e=l(c,d,r+1/3),i=l(c,d,r),a=l(c,d,r-1/3)}return[Math.round(255*e),Math.round(255*i),Math.round(255*a),s]},rgb2hsl:function(t){var e,i,a=t[0]/255,r=t[1]/255,n=t[2]/255,o=t[3],s=Math.max(a,r,n),l=Math.min(a,r,n),d=(s+l)/2;if(s==l)e=i=0;else{var c=s-l;switch(i=d>.5?c/(2-s-l):c/(s+l),s){case a:e=(r-n)/c+(r<n?6:0);break;case r:e=(n-a)/c+2;break;case n:e=(a-r)/c+4}e/=6}return[e,i,d,o]},addAlpha:function(t,e){return e=e||"0.6","rgba("+parseInt(t.substr(1,2),16)+","+parseInt(t.substr(3,2),16)+","+parseInt(t.substr(5,2),16)+","+e+")"},stripAlpha:function(t){if("rgba("==t.substr(0,5)){var e=t.substr(5,t.length-1).split(",");return{color:"rgb("+e[0]+","+e[1]+","+e[2]+")",opacity:parseFloat(e[3])}}return{color:t,opacity:0}},validateYear:function(t,e){var i=String(t),a=(new Date).getMonth();return 1==e&&4!=i.length?i=i.substr(0,4):4!=e&&"Q"!=e||5==i.length?12!=e&&"M"!=e||6==i.length||(i=i.substr(0,4)+mw.support.format("%02d",a+1)):i=i.substr(0,4)+String(Math.floor(a/3)+1),+i},preventDefault:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1},captureCSS:function(t){for(var e="",i=document.styleSheets,a=0;a<i.length;a++){var r=i[a].rules||i[a].cssRules;if(i[a].media.length){if(!window.matchMedia(i[a].media.mediaText).matches)continue;e+="@media "+i[a].media.mediaText+" {\n"}if(r)for(var n=0;n<r.length;n++)if(t&&r[n].selectorText)for(var o=r[n].selectorText.split(/\s*,\s*/),s=0;s<o.length;s++)t.querySelector(o[s])&&(e+=r[n].cssText+"\n");else e+=r[n].cssText+"\n";i[a].media.length&&(e+="}\n")}return e},sendToServer:function(t,e,i,a){var r,n=20;if(!0!==t){var o={url:e,type:"POST",data:i,async:!1,dataType:i.mimetype||"image/png"};return mw.support.ajax(o)}var s=document.createElement("form");for(var l in s.method="POST",s.action=e,document.body.appendChild(s),i["mw-export-monitor"]=(new Date).getTime(),i)if(i.hasOwnProperty(l)&&void 0!==i[l]){var d=document.createElement("textarea");d.name=l,d.value=i[l]instanceof Object?JSON.stringify(i[l]):i[l],s.appendChild(d)}s.submit(),document.body.removeChild(s),a&&(r=setInterval(function(){document.cookie.split("mw-export-monitor=").pop().split(";").shift()!=i["mw-export-monitor"]&&0!=n||(clearInterval(r),document.cookie="mw-export-monitor=deleted; expires="+new Date(0).toUTCString(),a(n>0)),n--},500))},latest:function(t,e,i){if(!0!==i&&void 0!=i||(i=10),t){if(t.hasOwnProperty(e)||!i)return{year:e,value:t[e]};var a=Object.keys(t);if(!a.length)return{year:e,value:void 0};void 0==e&&(e=+a[a.length-1]+1);for(var r=e-1;r>=e-i;r--)if(void 0!=t[r])return{year:r,value:t[r]};return{year:e,value:void 0}}return{year:e,value:void 0}}},mw.Dispatcher=function(){this.handlers={}},mw.Dispatcher.prototype.register=function(t,e){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},mw.Dispatcher.prototype.remove=function(t,e){if(this.handlers[t])for(var i=this.handlers[t].length-1;i>=0;i--)this.handlers[t][i]===e&&this.handlers[t].splice(i,1)},mw.Dispatcher.prototype.dispatch=function(t,e,i){if(this.handlers[e])for(var a=this.handlers[e],r=0,n=a.length;r<n;r++)a[r].call(t,i)},mw.Dispatcher.prototype.destroy=function(){this.handlers={}},window.addEventListener?(mw.support.attachEvent=function(t,e,i){t.addEventListener(e,i,{capture:!1,passive:!1})},mw.support.removeEvent=function(t,e,i){t.removeEventListener(e,i,{capture:!1,passive:!1})}):(mw.support.attachEvent=function(t,e,i){t.attachEvent("on"+e,i)},mw.support.removeEvent=function(t,e,i){t.detachEvent("on"+e,i)}),document.createEvent?mw.support.fireEvent=function(t,e){if(t){var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t.dispatchEvent(i)}}:mw.support.fireEvent=function(t,e){if(t){var i=document.createEventObject(e);t.fireEvent("on"+event.type,i)}},Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var a=[],r=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)if(n in e){var o=e[n];t.call(r,o,n,e)&&a.push(o)}return a}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(e=+e||0,Math.abs(e)===1/0&&(e=0),e<0&&(e+=i)<0&&(e=0);e<i;e++)if(this[e]===t)return e;return-1}),window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){if(t instanceof Object){var e="";if(t.constructor===Array){for(var i=0;i<t.length;e+=this.stringify(t[i])+",",i++);return"["+e.substr(0,e.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(var a in t)e+='"'+a.replace(/"/g,"\\$&")+'":'+this.stringify(t[a])+",";return"{"+e.substr(0,e.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var n,o,s=[];for(n in r)t.call(r,n)&&s.push(n);if(e)for(o=0;o<a;o++)t.call(r,i[o])&&s.push(i[o]);return s}}()),function(){var t=document.createElement("canvas");t.getContext&&t.getContext("2d")&&(CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,i,a,r){var n=function(t,e){return t<=e},o=function(t,e){return t>=e},s=function(t,e){return Math.min(t,e)},l=function(t,e){return Math.max(t,e)},d={thereYet:o,cap:s},c={thereYet:o,cap:s};e-a>0&&(c.thereYet=n,c.cap=l),t-i>0&&(d.thereYet=n,d.cap=l),this.moveTo(t,e);for(var p=t,h=e,u=0,m=!0;!d.thereYet(p,i)||!c.thereYet(h,a);){var f=Math.atan2(a-e,i-t),g=r[u];p=d.cap(i,p+Math.cos(f)*g),h=c.cap(a,h+Math.sin(f)*g),m?this.lineTo(p,h):this.moveTo(p,h),u=(u+1)%r.length,m=!m}})}(),setTimeout(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="=";for(var i=[],a=0;a<4096;a++)i.push(String.fromCharCode(25*Math.random()+97));i=i.join(""),i+=i,i+=i,i+=i,i+=i;var r=(new Date).getTime();!function(i){var a,r="",n=i.length;for(a=0;a<n-2;a+=3)r+=t[i.charCodeAt(a)>>2],r+=t[((3&i.charCodeAt(a))<<4)+(i.charCodeAt(a+1)>>4)],r+=t[((15&i.charCodeAt(a+1))<<2)+(i.charCodeAt(a+2)>>6)],r+=t[63&i.charCodeAt(a+2)];n%3&&(a=n-n%3,r+=t[i.charCodeAt(a)>>2],n%3==2?(r+=t[((3&i.charCodeAt(a))<<4)+(i.chartCodeAt(a+1)>>4)],r+=t[(15&i.charCodeAt(a+1))<<2],r+=e):(r+=t[(3&i.charCodeAt(a))<<4],r+=e+e))}(i),mw.performance=(new Date).getTime()-r},1e3),mw.support.PRECISION=2,mw.support.THOUSSEP=",",mw.support.DECSEP=".",mw.support.WORDIFY=[" thousand"," million"," billion"," trillion"],mw=window.mw||{},mw.DataManager=function(t){var e=mw.support.extend(t||{},{language:"EN",sdmx:{ga:["REF_AREA"],ta:["TIME_PERIOD"],ma:["UNIT_MULT"],va:["OBS_VALUE"]},tellmaps:{getgeoitems:{cmd:"getgeoitems"},getdatasets:{cmd:"getdatasets"},getdatavalues:{cmd:"getdatavalues"},getrankdata:{cmd:"getrankdata"},getgeodatavalues:{cmd:"getgeodatavalues"}},preload:!1,cache:!1}),i=this,a=!1,r=new mw.Dispatcher,n={url:null},o={},s={url:null,edition:null,legend:{}},l={},d=!1,c={},p=[];i.meta={},i.groups={indicators:{},geoitems:{}};var h=e.cache&&window.amplify&&window.amplify.store?window.amplify.store:null;function u(t,e,i,a){if(void 0!=t){i&&(t=t[i]);var r=e.numberformat;return r||(r=e.hasOwnProperty("decimalrounding")&&!isNaN(e.decimalrounding)?"%."+parseInt(e.decimalrounding)+"w":mw.support.NUMBERFORMAT||"%."+mw.support.PRECISION+"w"),r?mw.support.format(r,t):t}return a}function m(){for(var t in i.indicators)if(i.indicators[t].datasource&&!i.indicators[t].values){this.load(t),setTimeout(m,e.preload.delay||1e4);break}}function f(t,o){if(o&&"complete"!=document.readyState)setTimeout(function(){f(t,o)},100);else{"string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t));var c,h,u=!1;if("string"==typeof t||"object"==typeof t&&t.documentElement){if("string"==typeof t){if(void 0!==window.DOMParser)var x=(new window.DOMParser).parseFromString(t,"text/xml");else if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){(x=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",x.loadXML(t)}}else x=t;switch(x.documentElement.localName||x.documentElement.baseName){case"b":!function(t){for(var a=t.getElementsByTagName("s"),r=0,n=a.length;r<n;r++){var o=a[r],s=o.getAttribute("n").toUpperCase(),d=o.getElementsByTagName("r"),c=d[0].getElementsByTagName("c");if("GENERAL"==s)for(var p=v(d[0],e.language),h=1,u=d.length;h<u;h++){var m=d[h],f=m.getElementsByTagName("c");f.length&&(i.meta[g(f[0]).toLowerCase()]=g(f[p]))}else if("MENU"==s||"INDICATORS"==s);else if("COUNTRIES"==s||"COUNTRYINFO"==s){var b="COUNTRIES"==s?"label":"description";i.geoitems||(l.geoitems=!1,i.geoitems={});for(var h=1,u=d.length;h<u;h++){var m=d[h],f=m.getElementsByTagName("c"),x=f.length;if(x){var y=g(f[0]).toUpperCase();i.geoitems[y]||(i.geoitems[y]={code:y});for(var w=1;w<x;w++){var k=g(c[w]),M=g(f[w]);k==e.language?i.geoitems[y][b]=M:2!=k.length&&(i.geoitems[y][k.toLowerCase()]=M)}}}}else if("_DATA"==s.substr(s.length-5,5)){var y=s.substr(0,s.length-5);i.indicators||(l.indicators=!1,i.indicators={}),i.indicators[y]||(i.indicators[y]={});var T=i.indicators[y].values;T||(T=i.indicators[y].values={});var S=v(d[0],e.language);S>0&&(i.indicators[y].geoitems={});for(var h=1,u=d.length;h<u;h++){var m=d[h],f=m.getElementsByTagName("c"),C=g(f[0]);T[C]||(T[C]={});for(var w=1,x=f.length;w<x;w++){var A=parseInt(g(c[w]));isNaN(A)||(T[C][A]=parseFloat(g(f[w])))}S>0&&(i.indicators[y].geoitems[C]||(i.indicators[y].geoitems[C]={}),i.indicators[y].geoitems[C].description=g(f[S]))}}else{var L,E,z,P=!1,S=v(d[0],e.language),O=g(c[0]).toUpperCase();if("INDICATOR"==O){i.indicators||(l.indicators=!1,i.indicators={}),i.indicators[s]||(i.indicators[s]={code:s});for(var h=1,u=d.length;h<u;h++){var m=d[h],f=m.getElementsByTagName("c");if(f.length){var I=g(f[0]).toLowerCase();"legend"==I?(P=!0,S=v(m,e.language),L=v(m,"MIN"),E=v(m,"MAX"),z=v(m,"COLOR"),i.indicators[s].legendlabel=new Array,i.indicators[s].legendcolor=new Array,i.indicators[s].legendminimum=new Array,i.indicators[s].legendmaximum=new Array):P?f.length>=5&&(i.indicators[s].legendlabel.push(g(f[S])),i.indicators[s].legendcolor.push(g(f[z])),i.indicators[s].legendminimum.push(parseFloat(g(f[L]))),i.indicators[s].legendmaximum.push(parseFloat(g(f[E])))):i.indicators[s][I]=g(f[S])}}}}}}(x);break;case"offline":for(var y=x.getElementsByTagName("script"),w=0,k=y.length;w<k;w++)for(var M=y[w].getElementsByTagName("step"),T=0,S=M.length;T<S;T++){var C=M[T].getAttribute("cmd");"indicator"!=C&&"year"!=C&&"speed"!=C||(i.meta["default_"+C]=g(M[T]))}case"app":var A=x.getElementsByTagName("d");for(w=0,k=A.length;w<k;w++)b(A[w]);for(var L in i.geoitems)"string"==typeof i.geoitems[L]&&delete i.geoitems[L];for(var L in i.indicators)"string"==typeof i.indicators[L]&&delete i.indicators[L];break;case"d":u="cube",b(x);break;case"CompactData":case"MessageGroup":!function(t,a){var r=mw.support.extend({},e.sdmx),n={};if(!i.aliases)for(var o in i.aliases={},i.geoitems){var s=i.geoitems[o];if(s.aliases)for(var l=0;l<s.aliases.length;l++)i.aliases[s.aliases[l]]=o;else s.imf&&(i.aliases[s.imf]=o)}for(var d=a.getElementsByTagName("DataSet"),c=0,p=d.length;c<p;c++)for(var h=d[c].getElementsByTagName("Series"),u=0,m=h.length;u<m;u++){var f=h[u],g=f.getElementsByTagName("SeriesKey");if(g.length)for(var v=g[0].getElementsByTagName("Value"),b=0,x=v.length;b<x;b++)n[v[b].getAttribute("concept")]=v[b].getAttribute("value");else{for(var b=0,x=f.attributes.length;b<x;b++)n[f.attributes[b].name]=f.attributes[b].value;var y=f.getElementsByTagName("Obs");if(y.length)for(var b=0,x=y[0].attributes.length;b<x;b++)n[y[0].attributes[b].name]=y[0].attributes[b].name}var r={};for(var b in e.sdmx)for(var w=0;w<e.sdmx[b].length;w++){var k=e.sdmx[b][w];n.hasOwnProperty(k)&&(r[b]=n[k])}i.aliases&&i.aliases[r.ga]&&(r.ga=i.aliases[r.ga]);var M=i.indicators[t].values;M||(M=i.indicators[t].values={}),M[r.ga]||(M[r.ga]={});for(var y=f.getElementsByTagName("Obs"),T=r.ma?Math.pow(10,r.ma):1,S=0,C=y.length;S<C;S++){if(g.length)var A=y[S].getElementsByTagName("Time")[0].textContent,L=y[S].getElementsByTagName("ObsValue")[0].getAttribute("value");else var A=y[S].getAttribute(r.ta),L=y[S].getAttribute(r.va);A=A.replace(/-Q?/,""),M[r.ga][A]=+L*T}}}(o.indicator,x)}}else{for(var E in t)if(t.hasOwnProperty(E)&&t[E]instanceof Function){var z=function(t){return function(e){var i={};i[t]=e,l[t]=!1,f(i)}}(E);t[E](z),delete t[E]}if(t&&t.meta)u="cube";else if(t&&t.edition&&!t.values){for(var P in u="tellmaps",t.edition.tags)t.edition[P]=t.edition.tags[P];if(t.dataPresentations)for(var P in t.dataPresentations)if(t.dataPresentations[P].legend){s.legend=t.dataPresentations[P].legend;break}delete t.edition.tags;var O={};t.labels&&mw.support.extend(t.labels,O),mw.support.extend(t.edition,O),t={meta:O}}else if(t&&(t.datasets||t.values)){var I={};function N(t){var e={},i={},a={};for(var r in t){var n=t[r];for(var o in n){var s=n[o];n[o].geo2?(e[o]||(e[o]={}),e[o][r]||(e[o][r]={}),e[o][r]=n[o].geo2):s.value&&(e[o]||(e[o]={}),e[o][r]||(e[o][r]={}),e[o][r]=s.value),s.scale&&(a[o]||(a[o]={}),a[o][r]||(a[o][r]={}),a[o][r].scale=s.scale,a[o][r].dx=s.dx,a[o][r].dy=s.dy),s.note&&(i[o]||(i[o]={}),i[o][r]||(i[o][r]={}),i[o][r]=s.note)}}return{values:e,notes:i,scale:a}}for(var L in t.datasets){var D=t.datasets[L];D.code?D.values?I[L]=N(D.values):I[L]=D:I[L]={values:D},D.code&&!D.legend&&(I[L].legend=s.legend)}if(t.hasOwnProperty("values"))I[L=i.indicators[o.url]?o.url:t.topic+":"+t.index]=N(t.values),i.indicators[L]&&i.indicators[L].legend||(I[L].legend=s.legend);t={indicators:I}}else if(t.indicators&&o)for(var L in t.indicators)if(!i.indicators[L]&&i.indicators[o.url]){(I={})[o.url]=t.indicators[L],t={indicators:I};break}for(var P in t)i[P]||(i[P]={}),l[P]=!1,i[P]=mw.support.extend(t[P],i[P])}if(i.geoitems&&i.indicators){if(!l.geoitems&&!l.indicators){if(!d&&i.geoitems){for(var L in i.geoitems){var B=i.geoitems[L];if(B.region){var H=B.region;"string"==typeof H&&(H=B.region=H.split(","));for(P=0;P<H.length;P++){(t=i.geoitems[H[P]])&&(t.geoitems?t.geoitems.push(L):t.geoitems=[L])}}}d=!0}if(!a){for(var L in a=!0,i.meta.thoussep&&(mw.support.THOUSSEP=i.meta.thoussep),i.meta.decsep&&(mw.support.DECSEP=i.meta.decsep),i.meta.decimalrounding&&(mw.support.PRECISION=parseInt(i.meta.decimalrounding)),(i.meta.thousand||i.meta.million||i.meta.billion||i.meta.trillion)&&(mw.support.WORDIFY=[i.meta.thousand,i.meta.million,i.meta.billion,i.meta.trillion]),i.indicators)i.indicators[L].values&&i.load(L);r.dispatch(this,"ready",i),e.preload&&setTimeout(m,e.preload.delay||1e4);for(var R=0;R<p.length;R++)i.load(p[R].id,p[R].callback)}}}else for(var F in"cube"==u?(i.meta.cubeurl?n.url=i.meta.cubeurl:n&&e.data?(n.url=e.data.replace(/cube\[.*\]=.+(&|$)/,""),n.url=n.url.replace(/json=.+(&|$)/,""),n.url=n.url.replace(/\?$/,"")):n.url=window.location.href,c=n.url,h={geoitems:"geoitem",indicators:"goal"}):"tellmaps"==u&&(s.url=e.data.replace(/cmd=[^&]+(&|$)/,""),s.url=s.url.replace(/\?$/,""),c=s.url,h={geoitems:"getgeoitems",indicators:"getdatasets"}),h)if(!l[F]){if("cube"==u){var W={json:1,cube:{}};i[F]||(W.cube[h[F]]="+")}else if("tellmaps"==u)W=mw.support.extend(e.tellmaps[h[F]],{});l[F]=!0,i[F]={},n&&i.meta.database&&(W.cube.db=i.meta.database),e.language&&(W.lang=e.language),mw.support.ajax({url:c,data:W,success:f})}}}function g(t){return t.textContent||t.innerText||t.text}function v(t,e){for(var i=t.getElementsByTagName("c"),a=0,r=i.length;a<r;a++){if(g(i[a])==e)return a}}function b(t){for(var e=t.getElementsByTagName("i"),a={},r=0,n=e.length;r<n;r++){for(var s=e[r],d=s.getAttribute("geoitem"),c=s.getAttribute("goal"),p=s.getAttribute("group"),h={},u=0,m=s.childNodes.length;u<m;u++){var f=s.childNodes[u];h[f.nodeName]=g(f)}if(d&&c){var v=i.indicators[c],b=i.geoitems[d],x=i.indicators[v].values;if(x||(x=i.indicators[v].values={}),x[b]||(x[b]={}),s.getAttribute("geo2")){var y=i.geoitems[s.getAttribute("geo2")];x[b][s.getAttribute("seq")]||(x[b][s.getAttribute("seq")]={}),x[b][s.getAttribute("seq")][y]=parseFloat(h.value)}else x[b][s.getAttribute("seq")]=parseFloat(h.value);if(h.scale){var w=i.indicators[v].scale;w||(w=i.indicators[v].scale={}),w[b]||(w[b]={}),w[b][s.getAttribute("seq")]={scale:parseFloat(h.scale),dx:parseFloat(h.dx),dy:parseFloat(h.dy)}}}else if(p)if(s.getAttribute("seq")){var k=a[p];h.geoitem?(i.groups.geoitems[k.code]||(i.groups.geoitems[k.code]=k),k.geoitem||(k.geoitem=[]),k.geoitem[s.getAttribute("seq")]=o[h.geoitem]):h.goal&&(i.groups.indicators[k.code]||(i.groups.indicators[k.code]=k),k.goal||(k.goal=[]),k.goal[s.getAttribute("seq")]=o[h.goal])}else h.geoitem?(h.geoitem=[o[h.geoitem]],i.groups.geoitems[h.code]=a[p]=h):h.goal?(h.goal=[o[h.goal]],i.groups.indicators[h.code]=a[p]=h):a[p]=h;else if(d)if(i.geoitems||(l.geoitems=!1,i.geoitems={}),o[d]=h.code,i.geoitems[h.code])for(var M in h)h.hasOwnProperty(M)&&(i.geoitems[h.code][M]=h[M]);else i.geoitems[h.code]=h,i.geoitems[d]=h.code,h.imf&&(i.imf2geo||(i.imf2geo={}),i.imf2geo[h.imf]=h.code);else if(c)if(i.indicators||(l.indicators=!1,i.indicators={}),o[c]=h.code,s.getAttribute("seq")){var T=i.indicators[c];for(var M in h)i.indicators[T][M]||(i.indicators[T][M]=[]),i.indicators[T][M][s.getAttribute("seq")]=h[M]}else if(h.code)h.id=c,i.indicators[h.code]=h,i.indicators[c]=h.code;else{T=i.indicators[c];for(var M in h)i.indicators[T][M]=h[M]}else for(var M in h)i.meta[M]=h[M]}}this.load=function(t,r){if(a){if(i.indicators)if(t){var o,d=i.indicators[t];if(d||(d=i.indicators[t]={}),d.values)v();else if(h&&(o=h("indic-"+t)),o)d.values=o,v();else if(window.navigator.onLine){if(t.match(/https?:\/\//))var u=t,m={};else if(d.datasource instanceof Function)d.datasource(t,function(t){f(t),d.values||(d.values={}),v()});else if(n.url&&void 0==d.datasource||"cube:"==d.datasource){u=n.url||window.location.href,m={json:1,cube:{geoitem:"+",goal:d.id}};i.meta.database&&(m.cube.db=i.meta.database)}else if(s.url&&void 0==d.datasource||"tellmaps:"==d.datasource){u=s.url||i.meta.tellmapsurl;var g=t.split(":");if(1==g.length)m=mw.support.extend(e.tellmaps.getdatavalues,{datasets:t});else m=mw.support.extend(e.tellmaps.getrankdata,{topic:g[0],datapresentation:g[1]})}else u=d.datasource,m={};if(u){if(l[t])return c[t]||(c[t]=[]),void c[t].push(r);l[t]=!0,mw.support.ajax({url:u,data:m,success:function(e,i){i.indicator=t,f(e,i),d.values||(d.values={}),l[t]=!1,v()}})}else e.ondata&&e.ondata(t,function(t){f(t),v()})}else alert(this.meta.offline)}else r instanceof Function&&r()}else p.push({id:t,callback:r});function v(){if(h&&h("indic-"+t,d.values),i.meta[t]){var e=i.meta[t].split(",");""!=e[0]&&(d.minvalue=parseFloat(e[0])),e.length>1&&""!=e[1]&&(d.maxvalue=parseFloat(e[1]))}if(!d.statistics||!d.statistics.frequency){d.statistics={};var a=1;for(var n in d.values){for(var o in d.values[n]){6==o.length&&(a=12),5==o.length&&(a=4);break}break}if(!s||!l){var s=null,l=null;for(var n in d.values)for(var o in d.values[n])(o<s||null==s)&&(s=o),(o>l||null==l)&&(l=o)}1==a&&d.minyear>0&&(s=d.minyear),1==a&&d.maxyear>0&&(l=d.maxyear);var p=s,u=l;4==a&&(p=Math.floor(p/10),u=Math.floor(u/10)),12==a&&(p=Math.floor(p/100),u=Math.floor(u/100));for(var m=1/0,f=-1/0,g=p;g<=u;g++)for(var v=1;v<=a;v++){var b=1/0,x=-1/0,y=0,w=0,k=String(g);if(4==a?k+=v:12==a&&(k+=(v<10?"0":"")+v),k<=l)for(var n in d.values)if(d.values[n]&&d.values[n][k]){var M=d.values[n][k];for(var T in M instanceof Object||(w++,y+=M,M={dummy:M}),M){var S=M[T];S<b&&(b=S),S>x&&(x=S)}}b!=1/0&&(d.statistics[k]={min:b,max:x},w&&(d.statistics[k].avg=y/w),b<m&&(m=b),x>f&&(f=x))}d.hasOwnProperty("minvalue")&&(m=+d.minvalue),d.hasOwnProperty("maxvalue")&&(f=+d.maxvalue),d.statistics.frequency=a,d.statistics.range={from:+s,to:+l,min:m,max:f}}if(!d.legend&&d.legendlabel&&(d.legend=i.parseLegend(t)),r instanceof Function&&r(),c[t]){var C=c[t].slice(0);c[t]=[];for(var A=0;A<C.length;A++)C[A]()}}},this.tag=function(t,e,i,a){if(this.indicators[e]){var r=this.indicators[e][t];if(r&&(r=r[i]))return a?r[a]:r}},this.latest=function(t,e,i,a,r,n,o){this.geoitems[i]||void 0!==o||(o=n,n=r,r=a,a=i,i=void 0),"object"==typeof r&&r&&(n=r.lookback,o=r.format),r=r||this.meta.nodata,void 0===o&&(o=!0),!0!==n&&void 0!==n||(n=10);var s=this.indicators[t];if(!s||!s.values)return{year:a,value:o?r:void 0};var l=s.values[e];if(l){var d=mw.support.latest(l,a,n);return o?{year:d.year,value:u(d.value,s,i,r)}:d}return{year:a,value:o?r:void 0}},this.value=function(t,e,i,a,r,n){this.geoitems[i]||r||(r=a,a=i,i=void 0),"object"==typeof r&&r&&(n=r.format,r=r.nodata),r=r||this.meta.nodata,void 0===n&&(n=!0);var o=this.indicators[t];if(!o)return n?r:void 0;var s=this.tag("values",t,e,a);return n?u(s,o,i,r):s},this.values=function(t,a){if(t.hasOwnProperty("geoitem")){var r=i.geoitems[t.geoitem];function o(){if(t.hasOwnProperty("year")){var e={};for(var i in r.values)e[i]=r.values[i]?r.values[i][t.year]:void 0}else e=r.values;a&&a(e)}if(r||(r=i.geoitems[t.geoitem]={}),r.values||(r.values={}),t.hasOwnProperty("indicator")){var l={};if(t.indicator instanceof Object)for(var d in t.indicator)"string"==typeof t.indicator[d]&&(l[t.indicator[d]]=!0);else l[t.indicator]=!0}else l=i.indicators;var c=0,p=0;for(var h in l)c++,i.indicators[h]&&i.indicators[h].values&&i.indicators[h].values.hasOwnProperty(t.geoitem)&&p++;if(c==p){for(var h in l)r.values[h]=i.indicators[h].values[t.geoitem];o()}else{if(s.url){var u=s.url,m=mw.support.extend(e.tellmaps.getgeodatavalues,{geoitem:t.geoitem});t.hasOwnProperty("indicator")&&(m.datasets=t.indicator instanceof Array?t.indicator.join(","):t.indicator)}else{if(e.ondata){var g=0;for(var h in l)e.ondata(h,function(e){if(f(e),++g==c){for(var a in l)r.values[a]=i.indicators[a].values[t.geoitem];o()}});return}u=n.url||window.location.href;if(t.hasOwnProperty("indicator")){var v=[];for(h in l){var b=i.indicators[h];v.push(b.id)}}else v="+";m={json:1,cube:{geoitem:r.id,goal:v}};i.meta.database&&(m.cube.db=i.meta.database)}mw.support.ajax({url:u,data:m,success:function(e,a){if(s.url){var n={};for(var d in e)for(var c in e[d].datasets)n[c]||(n[c]={}),n[c].values||(n[c].values={}),n[c].values[d]=e[d].datasets[c];e={indicators:n}}for(var p in f(e,a),l)r.values[p]=i.indicators[p].values[t.geoitem];o()}})}}else t.hasOwnProperty("indicator")&&this.load(t.indicator,function(e){var r=i.indicators[t.indicator];if(t.hasOwnProperty("year")){e={};for(var n in r.values)e[n]=r.values[n][t.year]}else e=r.values;a&&a(e)})},this.listen=function(t,e){"ready"==t&&a?e.call(this,i):r.register(t,e)},this.unlisten=function(t,e){r.remove(t,e)},this.parseLegend=function(t){var e=this.indicators[t];if(!e)return[];if(e.legend)return e.legend;var i=[];if(e.legendlabel){var a=e.legendmin?"":"imum";for(var r in e.legendlabel){var n={label:e.legendlabel[r],color:e.legendcolor[r]},o=e["legendmin"+a][r],s=e["legendmax"+a][r];o!=s&&(n.min=o,n.max=s),i.push(n)}}return i},"string"==typeof e.data?mw.support.ajax({url:e.data,success:f}):f(e.data)},mw=window.mw||{},mw.StateManager=function(t){var e={},i=new mw.Dispatcher,a=mw.support.extend(t||{},{kickstart:!0});if(this.data=function(){return a.data},this.get=function(t){return e[t]},this.set=function(t,r){if(t instanceof Object)for(var n in t)t.hasOwnProperty(n)&&this.set(n,t[n]);else if("indicator"==t)if(a.data instanceof mw.DataManager){var o=this;e[t]=r;var s=r instanceof Array?r[0]:r;if(s){var l=r instanceof Array?r:[r],d=l.length;function c(){d--;var t=e.indicator instanceof Array?e.indicator[0]:e.indicator;if(0==d&&t==s){p();var i=a.data.indicators[s];if(e.year){var r=mw.support.validateYear(e.year,i.statistics.frequency);r<i.statistics.range.from?r=i.statistics.range.from:r>i.statistics.range.to&&(r=i.statistics.range.to),r!=e.year&&o.set("year",r)}else a.kickstart&&(i.startyear?o.set("year",i.startyear):a.data.meta.default_year?o.set("year",a.data.meta.default_year):i.statistics.range.to>0&&o.set("year",i.statistics.range.to))}}for(n=0;n<l.length;n++)a.data.load(l[n],c)}else p()}else p();else p();function p(){e[t]=r,i.dispatch(this,t,r)}},this.listen=function(t,e){i.register(t,e)},this.unlisten=function(t,e){i.remove(t,e)},a.data&&("string"==typeof a.data&&(a.data=new mw.DataManager({data:a.data})),a.data instanceof mw.DataManager)){var r=this;a.data.listen("ready",function(){if(a.kickstart&&!e.indicator)if(a.data.meta.default_indicator)r.set("indicator",a.data.meta.default_indicator);else if(a.data.meta.default_ind)r.set("indicator",a.data.meta.default_ind);else for(id in a.data.indicators){r.set("indicator",id);break}})}},mw=window.mw||{},mw.Slider=function(t,e){var i,a,r,n,o,s,l,d,c,p,h,u,m,f,g,v,b=[],x="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,y=null,w=new mw.Dispatcher,k=mw.support.extend(e||{},{orientation:"horizontal",handle:"<div class='slider-handle'>{VAL}</div>",handles:1,inverted:!1,sticky:!1,range:{minimum:1980,maximum:2010,step:1},trigger:{delay:null},padding:{before:0,after:0},percentages:!1,labels:{multiples:!1,number:!1,every:!1,minor:!0,quarters:["Q1","Q2","Q3","Q4"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});a="string"==typeof t?document.getElementById(t):t;for(var M="transform WebkitTransform MozTransform OTransform msTransform".split(" "),T=document.createElement("div"),S=0;S<M.length&&void 0==T.style[M[S]];S++);if(M[S],a.className+=" slider slider-"+k.orientation,a.currentStyle)var C=a.currentStyle.position;else if(window.getComputedStyle)C=document.defaultView.getComputedStyle(a,null).getPropertyValue("position");"static"!=C&&""!=C||(a.style.position="relative"),k.handle?a.innerHTML=k.handle.replace(/{VAL}/,'<span class="slider-value"></span>'):k.handles=0;for(var A=0;A<k.handles;A++)A&&a.appendChild(a.firstChild.cloneNode(!0)),b.push(a.childNodes[A]),b[A].style.position="absolute",b[A].style.cursor="pointer",b[A].setAttribute("data-handle","");b.length>1&&((r=document.createElement("div")).className="slider-bar",r.style.position="absolute",r.style.cursor="pointer",a.insertBefore(r,b[1])),a.setAttribute("data-frequency",k.range.step),k.percentages&&(k.padding={before:0,after:0}),(n=document.createElement("div")).className="slider-labels",a.insertBefore(n,a.firstChild),(o=document.createElement("div")).className="slider-button zoom-in",(s=document.createElement("div")).className="slider-button zoom-out",a.insertBefore(o,a.firstChild),a.insertBefore(s,a.firstChild),k.handles<=1&&(x&&(mw.support.attachEvent(o,"touchstart",B),mw.support.attachEvent(s,"touchstart",B)),mw.support.attachEvent(o,"mousedown",B),mw.support.attachEvent(s,"mousedown",B)),d=[k.value||1==k.handles?k.range.maximum:k.range.minimum,k.range.maximum];for(A=0;A<k.handles;A++)"M"!=k.range.step&&"Q"!=k.range.step||(d[A]=mw.support.validateYear(d[A],k.range.step)),x&&mw.support.attachEvent(b[A],"touchstart",H),mw.support.attachEvent(b[A],"mousedown",H),r&&(x&&mw.support.attachEvent(r,"touchstart",H),mw.support.attachEvent(r,"mousedown",H));return E(k.range.minimum,k.range.maximum,k.range.step),i={range:function(t,e,i){if(!(t||e||i))return k.range;E(t,e,i)},value:function(){return 1==k.handles?d[0]:d},set:function(t){l||(t instanceof Array||(t=1==k.handles?[t,d[1]]:[d[0],t]),d.join(",")!=t.join(",")&&(d=t.slice(),c=t.slice(),L()))},listen:function(t,e){w.register(t,e)},unlisten:function(t,e){w.remove(t,e)},destroy:function(){for(var t=0;t<k.handles;t++)mw.support.removeEvent(b[t],"touchstart",H),mw.support.removeEvent(b[t],"mousedown",H);1==k.handles&&(mw.support.removeEvent(o,"touchstart",B),mw.support.removeEvent(s,"touchstart",B),mw.support.removeEvent(o,"mousedown",B),mw.support.removeEvent(s,"mousedown",B)),a.parentNode.removeChild(a),w.destroy(),delete a}};function L(){for(var t=0;t<k.handles;t++)d[t]=Math.min(k.range.maximum,Math.max(k.range.minimum,d[t]));1==k.handles&&(o.className=o.className.replace(" slider-button-disabled",""),1==k.handles&&(d[0]==k.range.maximum&&(o.className+=" slider-button-disabled"),s.className=s.className.replace(" slider-button-disabled",""),d[0]==k.range.minimum&&(s.className+=" slider-button-disabled"))),P(),k.handle&&N()}function E(t,e,i){i=void 0===i?1:i,k.range.minimum=parseInt(t),k.range.maximum=parseInt(e),k.range.step=i;for(var r=0;r<k.handles;r++)d[r]=Math.min(e,Math.max(t,d[r]));p="Q"==i?4*(Math.floor(e/10)-Math.floor(t/10))+e%10-t%10:"M"==i?12*(Math.floor(e/100)-Math.floor(t/100))+e%100-t%100:k.range.maximum-k.range.minimum,a.className=a.className.replace(" slider-handle-fixed",""),a.setAttribute("data-frequency",i),a.setAttribute("data-min",k.range.minimum),a.setAttribute("data-max",k.range.maximum),L(),z()}function z(){var t="";function e(e,i,a){t+='<div class="slider-label',i==k.range.minimum?t+=" first":i==k.range.maximum&&(t+=" last"),!a&&k.labels.minor&&(t+=" minor"),t+='" style="position: absolute; left: ';var r=0==p?1:O(i);k.percentages?t+=r/p*u+"%":t+=r*h+k.padding.before+"px",t+='">'+(a?e:"")+"</div>"}if(k.labels.values)for(var i in k.labels.values)e(k.labels.values[i],k.labels.values[i],!0);else if((k.labels.number||k.labels.every)&&k.range.minimum<k.range.maximum){var a=k.range.minimum,r=k.range.maximum,o=step=k.range.step;"Q"==o?(a=Math.floor(a/10),r=Math.floor(r/10),o=4):"M"==o&&(a=Math.floor(a/100),r=Math.floor(r/100),o=12);for(var s=k.labels.number?p/(k.labels.number-1):k.labels.every,l=a;Math.round(l)<=r;l++)for(var d=1;d<=o;d++){var c,m=Math.round(l),f=m;"M"==step||"Q"==step?(f+=("M"==step&&d<10?"0":"")+d,c=1==d):c=0==Math.floor((m-k.range.minimum)%s)||!k.labels.multiple&&m==k.range.maximum,f<=k.range.maximum&&e(m,f,c)}}n.innerHTML=t}function P(){1==k.handles?a.setAttribute("data-value",d[0]):(a.setAttribute("data-value-min",d[0]),a.setAttribute("data-value-max",d[1]));for(var t=0;t<k.handles;t++){var e=b[t].querySelector("span.slider-value");if(e)if(isNaN(d[t]))e.innerHTML="";else if(k.labels.format instanceof Function)e.innerHTML=k.labels.format(d[t]);else if("Q"==k.range.step){var i=Math.floor(d[t]/10),r=cv%10;e.innerHTML=k.labels.quarters[r-1]+" "+i}else if("M"==k.range.step){i=Math.floor(d[t]/100);var n=d[t]%100;e.innerHTML=k.labels.months[n-1]+" "+i}else e.innerHTML=d[t]}}function O(t){if("Q"==k.range.step||"M"==k.range.step){var e="Q"==k.range.step?4:12,i="Q"==k.range.step?10:100;return e*(Math.floor(t/i)-Math.floor(k.range.minimum/i))+t%i-k.range.minimum%i}return t-k.range.minimum}function I(){if(r){var t="horizontal"==k.orientation?"left":"top";r.style[t]=b[0].style[t],l==r?b[1].style[t]="calc("+b[0].style[t]+" + "+r.style.width+")":r.style.width="calc("+b[1].style[t]+" - "+b[0].style[t]+")"}}function N(){var t="horizontal"==k.orientation,e=parseInt(t?a.clientWidth:a.clientHeight);if(e){if(!l||k.sticky){for(var i=0;i<k.handles;i++){var r=b[i],n=parseInt(t?r.clientWidth:r.clientHeight);if(!n||e<n)return void setTimeout(N,150);var o=t?"left":"top",s=O(d[i]),c=s/p;k.inverted&&(c=1-c,s=k.range.maximum-d[i]);var m=(e-n)/e*100;m!=u&&(u=m,L()),h=e-n-k.padding.after,a.className=a.className.replace(" slider-handle-fixed",""),k.range.minimum==k.range.maximum?(s=c=1,a.className+=" slider-handle-fixed"):h/=p,k.percentages?r.style[o]=c*u+"%":r.style[o]=s*h+k.padding.before+"px"}I(),z()}}else setTimeout(N,150)}function D(){c&&c.join(",")==d.join(",")||(c=d.slice(),w.dispatch(i,"update",1==k.handles?d[0]:d))}function B(t){var e=(t=t||window.event).target||t.srcElement;d[0]+=e==o?1:-1,d[0]=Math.min(Math.max(d[0],k.range.minimum),k.range.maximum),L(),D(),mw.support.preventDefault(t)}function H(t){if(k.range.minimum!=k.range.maximum){t=t||window.event,N();var e=t.target||t.srcElement;if(e==r)l=r;else for(l=e;!l.hasAttribute("data-handle");l=l.parentNode);var i=e==r?b[0]:l,n="horizontal"==k.orientation,o=parseInt(n?a.clientWidth:a.clientHeight),s=parseInt(n?i.clientWidth:i.clientHeight),d=n?"left":"top",c=n?"X":"Y";if(v=t.touches&&t.touches.length?t.touches[0]["client"+c]:t["page"+c]?t["page"+c]:t["client"+c],m=k.padding.before,2==k.handles&&i==b[1]&&(m=b[0].offsetLeft+s),f=o-s+k.padding.before,2==k.handles&&e==r?f=Math.min(f,o-b[1].offsetLeft+b[0].offsetLeft-s):2==k.handles&&i==b[0]&&(f=Math.min(f,b[1].offsetLeft-s)),k.percentages?(g=parseFloat(i.style[d])/100*o,f+=5):g=parseFloat(i.style[d]),i.style[d]=g+"px",e==a){var p=mw.support.offset(a);g=-s/2,v=p[n?"left":"top"],R(t),N()}else t.touches&&t.touches.length?(mw.support.attachEvent(document,"touchmove",R),mw.support.attachEvent(document,"touchend",F),l.className+=" slider-handle-active"):(mw.support.attachEvent(document,"mousemove",R),mw.support.attachEvent(document,"mouseup",F),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault),l.className+=" slider-handle-active");mw.support.preventDefault(t)}}function R(t){t=t||window.event;var e=l==r?b[0]:l,i="horizontal"==k.orientation,n=parseInt(i?a.clientWidth:a.clientHeight),o=parseInt(i?e.clientWidth:e.clientHeight),s=i?"left":"top",c=i?"X":"Y",p=g-v;t.touches&&t.touches.length?p+=t.touches[0]["client"+c]:p+=t["page"+c]?t["page"+c]:t["client"+c],p=Math.max(m,Math.min(p,f+1)),e.style[s]=p+"px",k.sticky&&N(),I(),k.inverted&&(p=Math.max(0,n-o-p));var u="Q"==k.range.step?4:12,x="Q"==k.range.step?10:100,w=(p+.5*h-k.padding.before)/h;if("Q"==k.range.step||"M"==k.range.step){var M=String(Math.floor(w%u)+1);12==u&&M<10&&(M="0"+M),w=Math.floor(k.range.minimum/x)+Math.floor(w/u)+M}else w=Math.floor(w+k.range.minimum);if(w=Math.min(w,k.range.maximum),!k.labels.values||k.labels.values[w]){var T=b.indexOf(e);if(w!=d[T]){if(l==r)if("Q"==k.range.step||"M"==k.range.step){var S=Math.floor(d[0]/x),C=Math.floor(d[1]/x),A=Math.floor(d[0]%x),L=Math.floor(d[1]%x),E=Math.floor(w/x),z=Math.floor(w%x);d[1]=E+C-S,A>L&&(d[1]-=1);var O=z+(L>A?L-A:L+u-A);O>12&&(d[1]+=1,O%=u),d[1]=String(d[1])+(12==u&&O<10?"0":"")+O}else d[1]=w+d[1]-d[0];d[T]=w,P(),y&&clearTimeout(y);var B=k.trigger.delay;null===B&&(B=mw.performance>40?500:0),y=setTimeout(D,B)}}mw.support.preventDefault(t)}function F(t){t=t||window.event,l.className=l.className.replace(" slider-handle-active",""),"touchend"==t.type?(mw.support.removeEvent(document,"touchmove",R),mw.support.removeEvent(document,"touchend",F)):(mw.support.removeEvent(document,"mousemove",R),mw.support.removeEvent(document,"mouseup",F),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault)),l=!1,N(),y&&clearTimeout(y),D(),mw.support.preventDefault(t)}},mw=window.mw||{},mw.Map=function(t,e){var i,a,r,n,o,s,l,d,c,p,h,u,m,f,g,v,b,x,y,w,k,M,T,S,C,A,L,E,z,P,O,I,N,D,B,H,R=!1,F=!0,W="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,X=navigator.userAgent.match(/MSIE 9/),G=!1,Y={},j=[],_={},q={},V=[[],[],[],[],[],[]],U=!1,K=!1,$=1,Z=0,Q=0,J={},tt=0,et=0,it=0,at=0,rt=0,nt=0,ot=1,st=1,lt=!1,dt=!0,ct=!1,pt=!1,ht=null,ut=!1,mt=new mw.Dispatcher,ft={mouseout:[],mouseover:[],mousedown:[],mousemove:[],mouseup:[],mousewheel:[],touchstart:[],touchend:[]},gt={},vt={},bt="Ctrl-click to toggle single countries, drag rectangles for multi-select.",xt=mw.support.extend(e||{},{map:{url:"map.xml",offset:{x:0,y:0},scale:null,nodata:"#d5d7da",noregion:"#d5d7da",selected:"#39b852",opacity:1,padding:0,fillgaps:!1,resize:!1,retina:!1,aspect:!0,bounds:"all"},state:{manager:!1,data:!1,indicator:!0,year:!0,geoitem:!0},circles:!0,latest:!1,explode:{siblings:"#d5d7da"},borders:{width:1,color:"#ffffff",patterns:{DISP_UNR:[1,1],DISP_UNL:[.2,.2],DISP_IMR:[1,1],DISP_IML:[.2,.2]}},busy:null,layers:[],zoom:{handle:"<div class='slider-handle'></div>",minimum:1,maximum:5,padding:{x:10,y:10},type:"linear",wheel:!0,touch:!0,pinch:!0},center:null,speed:{play:5,resize:3,zoom:1},events:{hover:"follow",click:!0,touch:"hover click",move:!1},export:{renderer:"https://www.mappingworlds.nl/export/",size:void 0,delay:1,template:void 0,selector:void 0,parameters:{}}});e.borders instanceof Array&&(xt.borders=e.borders),Ht(),a="string"==typeof t?document.getElementById(t):t;var yt=document.createElement("canvas");u=!(!yt.getContext||!yt.getContext("2d")),(yt=document.body.appendChild(document.createElement("div"))).innerHTML='<v:shape id="vml_flag1" adj="1" />';var wt=yt.firstChild;wt.style.behavior="url(#default#VML)",b=!wt||"object"==typeof wt.adj,yt.parentNode.removeChild(yt);var kt={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},Mt=document.createElement("div");for(var Tt in document.body.insertBefore(Mt,null),kt)if(void 0!=Mt.style[Tt]){Mt.style[Tt]="translate3d(1px,1px,1px)";var St=window.getComputedStyle(Mt).getPropertyValue(kt[Tt]);G=void 0!==St&&St.length>0&&"none"!==St;break}document.body.removeChild(Mt),c=Tt;kt="userSelect WebkitUserSelect MozUserSelect".split(" ");for(var Ct=0;Ct<kt.length&&void 0==Mt.style[kt[Ct]];Ct++);if((I=kt[Ct])&&(N=document.getElementsByTagName("body")[0].style[I]),S=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:window.msRequestAnimationFrame?window.msRequestAnimationFrame:function(t){setTimeout(t,30)},u||b){for(type in a.className+=" map-loading",(n=document.createElement("div")).style.position="absolute",n.style.top=0,n.style.width="100%",n.style.height="100%",n.style.display="none",a.appendChild(n),(r=document.createElement("div")).style.position="relative",r.style.width="100%",r.style.height="100%",r.className="map-wrapper map-zoom-1",W&&(r.className+=" has-touch",mw.support.attachEvent(window,"touchstart",function t(){r.className+=" has-touched",mw.support.removeEvent(window,"touchstart",t)})),!u&&b&&("center"==xt.events.hover&&(xt.events.hover="follow"),xt.zoom&&(r.style.overflow="hidden")),a.appendChild(r),(o=document.createElement("div")).style.position="relative",o.style.width="100%",o.style.height="100%",o.className="map-container",xt.map.retina?(o.style[c]="scale("+1/xt.map.retina+")",o.style[c+"Origin"]="0 0"):o.style.overflow="hidden",r.appendChild(o),ft)mw.support.attachEvent(r,type,jt);var At;if(xt.events.hover&&(ft.mouseout.push(ve),ft.mousemove.push(ve)),W&&(ft.touchstart.push(function(t){if(!pt&&!ct){if(O){var e=mw.support.mousepos(t);if(Math.abs(At.x-e.x)<20&&Math.abs(At.y-e.y)<20)return O=null,void be(t)}At=mw.support.mousepos(t),O=setTimeout(function(){O=null},2e3),P=setTimeout(function(){pt||ct||(xt.events.hover&&xt.events.click?"hover"==xt.events.touch.split(" ")[0]?be(t):ve(t):xt.events.click?be(t):xt.events.hover&&ve(t),xt.zoom&&!1===xt.zoom.touch&&mw.support.preventDefault(t),P=null)},1e3)}}),ft.touchend.push(function(t){pt||ct||(P&&(xt.events.hover&&xt.events.click?"click"==xt.events.touch.split(" ")[0]?be(t):ve(t):xt.events.click?be(t):xt.events.hover&&ve(t)),xt.zoom&&!1===xt.zoom.touch&&mw.support.preventDefault(t),clearTimeout(P),P=null)})),u){p=te,h=function(t){for(var e=mw.support.mousepos(t),i=v.getImageData(e.x-2,e.y-2,5,5),a=i.data,r=4*(2*i.width+3),n=0;n<=r;n+=4){var e=r+n,o=a[e]<<16|a[e+1]<<8|a[e+2];if(Y[o])return Y[o];if(n&&(o=a[e=r-n]<<16|a[e+1]<<8|a[e+2],Y[o]))return Y[o]}return},(m=document.createElement("canvas")).style.position="absolute",m.style[c+"Origin"]="0 0",de(1,0,0,!1),(f=m.getContext("2d")).lineWidth=1,o.appendChild(m);var Lt=document.createElement("canvas");(v=Lt.getContext("2d")).lineWidth=0;var Et=document.createElement("canvas");g=Et.getContext("2d"),Lt.width=xt.map.width||o.clientWidth||o.offsetWidth,Lt.height=xt.map.height||o.clientHeight||o.offsetHeight;var zt=xt.map.retina||1;if(m.width=Et.width=zt*Lt.width,m.height=Et.height=zt*Lt.height,xt.map.resize)mw.support.attachEvent(window,"resize",function(){clearTimeout(Ot);var t=zt*(o.clientWidth||o.offsetWidth);0!=t&&t!=m.width&&(Ot=setTimeout(Xt,100))})}else if(b){p=ee,h=function(t){return t.srcElement.id},document.namespaces&&document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");var Pt=document.createElement("style");Pt.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(Pt);var Ot,It="v\\:* { behavior: url(#default#VML); }";if(Pt.styleSheet&&!Pt.sheet?Pt.styleSheet.cssText=It:Pt.appendChild(document.createTextNode(It)),xt.map.resize)mw.support.attachEvent(window,"resize",function(){clearTimeout(Ot),Ot=setTimeout(function(){Gt(!1),o.innerHTML="",ee(),mt.dispatch(i,"size",{width:o.clientWidth||o.offsetWidth,height:o.clientHeight||o.offsetHeight})},100)})}if(W&&xt.zoom&&xt.zoom.touch?mw.support.attachEvent(o,"touchstart",pe):r.className+=" touch-disabled",xt.zoom&&xt.zoom.wheel&&ft.mousewheel.push(function(t){if(!xt.zoom.wheel)return;if(t=t||window.event,document.elementFromPoint){var e=document.elementFromPoint(t.clientX,t.clientY);if(e.parentNode!==o&&e.parentNode!==r)return}mw.support.preventDefault(t),oe();var i=mw.support.mousepos(t);ot=ye((t.wheelDelta>0?1.1111111111111112:.9)*ot,i.x,i.y,0,0,!0),se()}),ft.mousedown.push(function(t){if(!dt)return;if(t=t||window.event,document.elementFromPoint){var e=document.elementFromPoint(t.clientX,t.clientY);if(e.parentNode!==o&&e.parentNode!==r&&!X)return}if(u){var i=mw.support.mousepos(t);rt=i.x,nt=i.y}else b&&(rt=t.screenX,nt=t.screenY);ot>1&&(lt=!0);I&&(document.getElementsByTagName("body")[0].style[I]="none");mw.support.attachEvent(document,"mousemove",he),mw.support.attachEvent(document,"mouseup",ue),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault)}),mw.support.attachEvent(o,"mouseout",ce),Rt(),function(){var t=["left","right","top","bottom"];for(var e in t){var i=document.createElement("div");i.className="pan-button "+t[e],i.setAttribute("data-pan",t[e]),o.appendChild(i),mw.support.attachEvent(i,"touchstart",Ft),mw.support.attachEvent(i,"mousedown",Ft)}}(),e.map&&e.map.url instanceof Object?setTimeout(function(){Yt(e.map.url)},0):mw.support.ajax({url:xt.map.url,success:Yt}),xt.state.manager instanceof mw.StateManager)s=xt.state.manager;else{var Nt=xt.state.data||xt.data;s=Nt instanceof mw.StateManager?Nt:new mw.StateManager({data:Nt}),null!==xt.busy||!Nt||Nt instanceof mw.DataManager||(xt.busy=!0)}return l=s.data(),xt.busy&&(!0===xt.busy&&(xt.busy=document.getElementById("busy"),xt.busy||(xt.busy=document.body.appendChild(document.createElement("div")),xt.busy.id="busy")),xt.busy.style.display="block"),l&&l.listen instanceof Function&&(F=!1,l.listen("ready",function(t){for(var e in t.geoitems){var i=t.geoitems[e];"C"!=i.type&&(q[e]={id:e,region:i.region?i.region[0]:void 0,values:{},bbox:[999,999,0,0],ldx:0,ldy:0})}F=!0,_t()})),xt.state.year&&s.listen("year",Ut),xt.state.indicator&&s.listen("indicator",$t),xt.state.geoitem&&s.listen("geoitem",Kt),i={ready:function(){return R&&F},lock:function(){ut=!0},unlock:function(t){ut=!1,t&&i.redraw(!0)},destroy:function(){for(type in xt.state.year&&s.unlisten("year",Ut),xt.state.indicator&&s.unlisten("indicator",$t),mt.destroy(),W&&mw.support.removeEvent(o,"touchstart",pe),mw.support.removeEvent(o,"mouseout",ce),ft)mw.support.removeEvent(r,type,jt);for(var t=0,e=xt.layers.length;t<e;t++){var i=xt.layers[t];i&&i.destroy&&i.destroy()}a.innerHTML=""},set:function(t){mw.support.extend(t,xt),t.hasOwnProperty("zoom")&&(C&&C.destroy(),Rt()),Ht(),p&&p()},settings:function(t){return t?xt[t]:xt},type:function(){return u?"canvas":b?"vml":"unknown"},items:function(){var t=V[Z].slice(0);if(Z&&!xt.map.noregion)for(var e=0,i=V[0].length;e<i;e++)_[V[0][e]].region||t.push(V[0][e]);return t},center:function(t){var e=_[t]||q[t];if(e){var i=e.cx,a=e.cy,r=e.scale?e.scale.to:void 0;if(r){var n=xt.map.offset.x+xt.map.padding,o=xt.map.offset.y+xt.map.padding;i=(i-n)*r.scale+xt.map.scale*r.dx+n,a=(a-o)*r.scale+xt.map.scale*r.dy+o}return D?D(a,i):{x:st*(i+tt),y:st*(a+et)}}return xt.center?xt.center(t):{x:0,y:0}},box:function(t,e){return _[t]?_[t][e||"bbox"]:q[t]?q[t][e||"bbox"]:void 0},scale:function(){return ot},color:function(t){w&&t instanceof Function&&(w=t),pt||ct?ht=t:le(t,!0)},clone:function(t,e,i){!function(t,e,i){var a,r=_[t];if(!r)return;if(i)a=Math.min(i.width/(r.bbox[2]-r.bbox[0]),i.height/(r.bbox[3]-r.bbox[1]));else{if(!u)return;(i=document.createElement("canvas")).width=r.bbox[2]-r.bbox[0],i.height=r.bbox[3]-r.bbox[1],a=1}f.clearRect(0,0,i.width,i.height);for(var n=0,o=r.coords.length;n<o;n++){var s=r.coords[n];f.beginPath(),f.lineWidth=0,f.fillStyle=e;for(var l=0,d=s.length;l<d;l++)f[0==l?"moveTo":"lineTo"](a*s[l][0],a*s[l][1]);f.fill()}}(t,e,i)},export:function(t,e,i){return!("png"==(t=t||"png")&&!xt.export.renderer)&&(void 0==i&&e instanceof Object?(i=e,e=void 0):i=i||{},"png"==t?function(t,e){var i=mw.support.extend(xt.export,{});mw.support.extend(e,i),i.download=!0,i.format="png",i.content=ke(void 0==e.accuracy?1:e.accuracy),(xt.legend||l&&x)&&(i.content+=mw.support.legendHTML(xt.legend?xt.legend:l.indicators[x]));if(t&&!0===t)return mw.support.sendToServer(!0,xt.export.renderer,i),!0;i.encoding="base64";var a=mw.support.sendToServer(!1,xt.export.renderer,i);if(!t)return a;var r=window.open("",t),n=r.document,o=n.createElement("img");o.src="data:image/png;base64,"+a,n.body.appendChild(o)}(e,i):function(t,e,i){var a=mw.support.extend(xt.export,{});mw.support.extend(e,a);var r=xt.speed.resize;xt.speed.resize=e.duration||xt.speed.resize;var n=ke(void 0==e.accuracy?1:e.accuracy,e.resize);if(xt.speed.resize=r,!0===t)return a.download=!0,a.format=i||n,a.content=n,mw.support.sendToServer(!0,xt.export.renderer,a),!0;if(t){var o=window.open("",t),s=o.document;return s.body.innerHTML=n,!0}return n}(e,i,t))},values:function(t,e,i){Zt(t,e,i)},play:function(t){if(!k||!M){if(U&&l&&l.indicators[U]){var e=l.indicators[U].statistics;k=e.range.from,M=e.range.to}if(!k||!M)return}t=t||(l.meta.speed?l.meta.speed:xt.speed.play),t/=M-k+1,y==M&&(y=k-1),mt.dispatch(i,"playstart"),function e(){y<M?(xt.state.year?s.set("year",y+1):Ut(y+1),T=setTimeout(e,1e3*t)):mt.dispatch(i,"playend")}()},stop:function(){clearTimeout(T)},legend:function(t){xt.legend=t,mt.dispatch(i,"legend",t),p&&le(Qt,!0)},redraw:function(t){t?Xt():p&&le(null,!0)},resize:function(t,e){if(t||U){for(var a in U=t,_){var r=_[a];if(K&&(r.scale.from=r.scale.current),U){if(r.scale.to=Jt(a),!r.scale.to)if(r.scale.zero)r.scale.to=r.scale.zero;else{var n=r.cx/xt.map.scale,s=r.cy/xt.map.scale;r.scale.to={scale:0,dx:n*r.scale.from.scale+r.scale.from.dx,dy:s*r.scale.from.scale+r.scale.from.dy}}}else r.scale.to={scale:1,dx:0,dy:0};0!=r.scale.to.scale&&-1!=r.scale.to.scale||(r.scale.zero={scale:0,dx:r.scale.to.dx,dy:r.scale.to.dy})}if(mt.dispatch(i,"resizestart",!!U),0==(e=1e3*(void 0==e?xt.speed.resize:e)))$=1,c();else{var l;function d(){$||(l=(new Date).getTime()-1),$=Math.min(1,((new Date).getTime()-l)/e),p(),$<1?S(d):(c(),u&&ne(f,g))}$=0,K||(K=!0,p?d():o.listen("ready",function(){d()}))}}function c(){for(var t in K=!1,mt.dispatch(i,"resizeend",!!U),_){var e=_[t];e.scale.from=e.scale.to}p()}},region:function(t){if(!0===t?t=1:!1===t&&(t=0),isNaN(t))!function(t){for(var e in q={},V[1]=[],_)_[e].region=void 0;for(var e in t){var i=q[e]={id:e,values:{},ldx:0,ldy:0,bbox:[999,999,0,0]};if(V[1].push(e),t[e]instanceof Array)var a=t[e];else{var a=t[e].geoitems;t[e].ldx&&(i.ldx=t[e].ldx),t[e].ldy&&(i.ldy=t[e].ldy)}for(var r=0,n=a.length;r<n;r++){var o=_[a[r]];o&&(o.region=e,i.bbox[0]=Math.min(i.bbox[0],o.bbox[0]),i.bbox[1]=Math.min(i.bbox[1],o.bbox[1]),i.bbox[2]=Math.max(i.bbox[2],o.bbox[2]),i.bbox[3]=Math.max(i.bbox[3],o.bbox[3]))}i.cx=parseInt((i.bbox[0]+i.bbox[2])/2+i.ldx),i.cy=parseInt((i.bbox[1]+i.bbox[3])/2+i.ldy)}}(t);else{if(Z=t){var e={},a=0==V[t].length;for(var r in _){var n=_[r];n.regions&&n.regions.length&&(n.region=n.regions[t-1],a&&!e[n.region]&&(V[t].push(n.region),e[n.region]=!0))}}mt.dispatch(i,"region"),p&&(le(null,!1),p(!0))}},zoom:function(t,e){if(!pt){if(i.highlight(),"number"==typeof t)return ot=ye(ot+t,o.clientWidth/2,o.clientHeight/2,0,0,!0),void se();if(_[t]||q[t]){var a=_[t]?_[t].bbox:q[t].bbox;if(D){var r=Wt(a[1],a[0]),n=Wt(a[3],a[2]);a=[r.x/st-tt,n.y/st-et,n.x/st-tt,r.y/st-et]}var s=Jt(t);if(s){u=xt.map.offset.x+xt.map.padding,m=xt.map.offset.y+xt.map.padding;a[0]=(a[0]-u)*s.scale+xt.map.scale*s.dx+u,a[1]=(a[1]-m)*s.scale+xt.map.scale*s.dy+m,a[2]=(a[2]-u)*s.scale+xt.map.scale*s.dx+u,a[3]=(a[3]-m)*s.scale+xt.map.scale*s.dy+m}var l=a[2]-a[0]+xt.zoom.padding.x,d=a[3]-a[1]+xt.zoom.padding.y;if(l/d<o.clientWidth/o.clientHeight)c=o.clientHeight/d;else c=o.clientWidth/l;c=Math.max(xt.zoom.minimum,Math.min(L,c));p=it=(a[0]+.5*l+tt)*st,h=at=(a[1]+.5*d+et)*st,u=-a[0]+.5*(o.clientWidth/c-l+xt.zoom.padding.x),m=-a[1]+.5*(o.clientHeight/c-d+xt.zoom.padding.y)}else var c=1,p=o.clientWidth/2,h=o.clientHeight/2,u=0,m=0;if(!isNaN(c)){var f,g=xe(c,p,h,!0),v=g[1]-u,b=g[2]-m,x=1e3*(void 0===e?xt.speed.zoom:e),y=st;oe(),mt.dispatch(i,"zoomstart");var w=0;pt=!0,function e(){f||(f=(new Date).getTime()),w=x?Math.min(1,((new Date).getTime()-f)/x):1,ot=ye(y*Math.exp(Math.log(c/y)*w),p,h,w*v,w*b,!1,!0),w<1&&S(e),1==w?(tt-=v,et-=b,se(),mt.dispatch(i,"bounds",{zoom:st,offset:{x:tt,y:et}}),mt.dispatch(i,"zoomend",t),pt=!1,A=t,null!==ht&&(le(ht,!0),ht=null)):(mw.performance<=40||X)&&(tt-=w*v,et-=w*b,se(),mt.dispatch(i,"bounds",{zoom:st,offset:{x:tt,y:et}}),tt+=w*v,et+=w*b)}()}}},year:function(t){xt.state.year?s.set("year",t):Ut(t)},at:function(t,e){return h({clientX:t,clientY:e,target:{offsetParent:null}})},explode:function(t){if(t instanceof Object)for(var e in t)!0===t[e]&&!0!==J[e]?(Q++,J[e]=!0):!1===t[e]&&!0===J[e]&&(Q--,J[e]=!1);else J.hasOwnProperty(t)&&!1!==J[t]||(Q++,J[t]=!0);p&&(le(null,!1),p(!0))},implode:function(t){J.hasOwnProperty(t)?(Q--,J[t]=!1):(Q=0,J={}),p&&(le(null,!1),p(!0))},layer:function(t){t instanceof Function&&(t=new t({})),xt.layers.push(t),R&&F&&(qt(t)?r.appendChild(t):t.init&&t.init(i))},state:function(){return s},highlight:function(t){if(t){var e={geoitem:t},a=i.center(t);if(e.x=a.x,e.y=a.y,e.x<0||e.y<0||e.x>o.clientWidth||e.y>o.clientHeight)return;mt.dispatch(i,"hover",e)}else mt.dispatch(i,"hover",null)},panes:function(t){return(t=t||mw.map.layers.ABOVE)==mw.map.layers.BELOW&&(n.style.display="block"),t==mw.map.layers.ABOVE?r:n},width:function(t,e){if(t){var a=i.box(t,e);if(D){var r=D(a[1],a[0]);return D(a[3],a[2]).x-r.x}return a[2]-a[0]}return u?m.width/(xt.map.retina||1):o.clientWidth||o.offsetWidth},height:function(t,e){if(t){var a=i.box(t,e);if(D){var r=D(a[1],a[0]),n=D(a[3],a[2]);return r.y-n.y}return a[3]-a[1]}return u?m.height/(xt.map.retina||1):o.clientHeight||o.offsetHeight},area:function(t,e){if(t){var a=i.box(t,e);if(D){var r=D(a[1],a[0]),n=D(a[3],a[2]);return(n.x-r.x)*(r.y-n.y)}return(a[2]-a[0])*(a[3]-a[1])}return i.width()*i.height()},mouse:function(t){dt=t},xy2xy:function(t,e){return{x:t/st-tt,y:e/st-et}},latlng2xy:function(t,e){return D?D(t,e):Wt(t,e)},xy2latlng:function(t,e,i){t=t/st-tt,e=e/st-et;var a=xt.map.padding,r=xt.map.offset,n=o.clientWidth-2*(r.x+a),s=o.clientHeight-2*(r.y+a),l=Math.PI/360,d=360/Math.PI,c=xt.map.bbox;if(xt.map.origin);else{if(!c)return{lat:void 0,lng:void 0};var p=Math.tan(c.bottom*l),h=Math.tan(c.top*l),u=(t-r.x-a)*(c.right-c.left)/n+c.left,m=Math.atan(h-(e-r.y-a)/s*(h-p))*d}return i&&c&&(u=Math.max(Math.min(u,c.right),c.left),m=Math.max(Math.min(m,c.top),c.bottom)),{lat:m,lng:u}},projection:function(t){if(t instanceof Function||!1===t)st=1,tt=0,et=0,D=t,Gt(!1);else{var e=D(xt.map.bbox.top,xt.map.bbox.left),a=(D(xt.map.bbox.bottom,xt.map.bbox.right).x-e.x)/o.clientWidth;if(a>L)return!1;C&&C.set("exponential"==xt.zoom.type?Math.ceil(Math.log(a)/Math.log(2))+2:a),p(),mt.dispatch(i,"bounds",{zoom:st,offset:{x:tt,y:et}})}return!0},listen:function(t,e){"ready"==t&&R&&F?e():ft[t]?ft[t].push(e):mt.register(t,e)},unlisten:function(t,e){if(ft[t])for(var i=ft[t].length-1;i>=0;i--)ft[t][i]===e&&ft[t].splice(i,1);else mt.remove(t,e)},toggleClass:function(t,e){e?-1==r.className.indexOf(t)&&(r.className+=" "+t):r.className=r.className.replace(" "+t,"")},edit:function(t){if(B=t){if(!U)return void alert("Map needs to be resized to enable edit mode");for(var e in mw.support.attachEvent(document.body,"mousedown",Bt),mw.support.attachEvent(a,"mousemove",Dt),o.classList.add("map-editing"),o.setAttribute("caption",bt),_)vt[e]={dx:0,dy:0};le(xt.map.nodata,!0)}else if(mw.support.removeEvent(document.body,"mousedown",Bt),mw.support.removeEvent(a,"mousemove",Dt),o.classList.remove("map-editing"),o.setAttribute("caption",""),xt.events.move){var i={},r=!1;for(var e in vt){var n=vt[e];(n.dx||n.dy)&&(i[e]=n,r=!0)}r&&xt.events.move(i)}}}}function Dt(t){t=t||window.event;var e=ge(h(t));e!=H&&(o.setAttribute("caption",e?l?l.geoitems[e].label:e:bt),H=e)}function Bt(t){var e=!1,a=!1;function r(t){return gt[t]?xt.map.selected:xt.map.nodata}var n=(t=t||window.event).clientX,s=t.clientY,l=(o.clientWidth,o.clientHeight,void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),d=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,c=document.createElement("div");c.className="drag-rectangle",c.style.border="border: 1px dotted #2a78b8",c.style.backgroundColor="rgba(42,120,184,0.2)",c.style.position="absolute",c.style.zIndex=1e6,c.style.left=n+l+"px",c.style.top=s+d+"px";var p=ge(h(t));function u(t){if(p){var i=(t.clientX-n)/xt.map.scale,o=(t.clientY-s)/xt.map.scale;for(var h in gt)gt[h]&&_[h].scale&&(vt[h].dx+=i,vt[h].dy+=o,_[h].scale.to.dx+=i,_[h].scale.to.dy+=o,a=!0);le(r,!0),n=t.clientX,s=t.clientY}else{var u=Math.abs(t.clientX-n),m=Math.abs(t.clientY-s);t.clientX<n&&(c.style.left=t.clientX+l+"px"),t.clientY<s&&(c.style.top=t.clientY+d+"px"),c.style.width=u+"px",c.style.height=m+"px"}e=!0,mw.support.preventDefault(t)}p?t.shiftKey?gt[p]=!0:t.ctrlKey?gt[p]=!gt[p]:gt[p]=!0:(gt={},document.body.appendChild(c)),le(r,!0),mw.support.attachEvent(document.body,"mousemove",u),mw.support.attachEvent(document.body,"mouseup",function t(n){if(e&&!p){var s=mw.support.offset(c),l=mw.support.offset(o),d=s.left-l.left,h=s.top-l.top,m=d+c.clientWidth,f=h+c.clientHeight;for(var g in V[0]){var v=V[0][g],b=i.center(v);gt[v]=b.x>d&&b.y>h&&b.x<m&&b.y<f}}else n.ctrlKey||n.shiftKey||(gt={});le(r,!0),c.parentNode&&c.parentNode.removeChild(c),mw.support.removeEvent(document.body,"mousemove",u),mw.support.removeEvent(document.body,"mouseup",t),mw.support.preventDefault(n),a&&mt.dispatch(i,"modified")})}function Ht(){function t(t){t&&(t.hasOwnProperty("color")||(t.color="#fff"),t.hasOwnProperty("width")||(t.width=1),t.hasOwnProperty("patterns")||(t.patterns={}))}if(xt.borders instanceof Array)for(var e=0;e<xt.borders.length;e++)for(var i=0;i<xt.borders[e].length;i++)t(xt.borders[e][i]);else t(xt.borders)}function Rt(){if(xt.zoom){var t=document.createElement("div");t.className="zoom-slider",r.appendChild(t),mw.support.attachEvent(t,"mouseover",ce),mw.support.attachEvent(t,"touchend",function e(){r.className+=" has-touched",mw.support.removeEvent(t,"touchend",e)});var e={orientation:xt.zoom.orientation||"vertical",inverted:!0,handle:xt.zoom.handle,labels:0,range:{minimum:xt.zoom.minimum,step:0,maximum:xt.zoom.maximum}};L="linear"==xt.zoom.type?xt.zoom.maximum:Math.pow(2,xt.zoom.maximum-1),xt.zoom.trigger&&(e.trigger=xt.zoom.trigger),(C=new mw.Slider(t,e)).set(st),C.listen("update",function(t){var e=t;"exponential"==xt.zoom.type&&(e=Math.pow(2,Math.round(t)-1)),ot=ye(e,o.clientWidth/2,o.clientHeight/2,0,0,!0),"exponential"==xt.zoom.type&&C.set(t),se()})}else L=xt.zoom.maximum}function Ft(t){var e=o.clientWidth||o.offsetWidth,i=o.clientHeight||o.offsetHeight,a={left:[.1,0],top:[0,.1],right:[-.1,0],bottom:[0,-.1]}[t.target.getAttribute("data-pan")];rt=tt,nt=et,we(tt+a[0]*e,et+a[1]*i),r.click()}function Wt(t,e){var i=xt.map.padding,a=xt.map.offset,r=o.clientWidth-2*(a.x+i),n=o.clientHeight-2*(a.y+i);if(xt.map.origin){var s=Math.PI/180;e*=s,t*=s;var l=xt.map.origin.x+.1592582840510242*r*e,d=xt.map.origin.y-.3844835092762494*r*Math.tan(t/2)}else{if(!xt.map.bbox)return{x:void 0,y:void 0};var c=Math.PI/360,p=xt.map.bbox;e<p.left&&(e+=360);var h=Math.tan(p.bottom*c),u=Math.tan(p.top*c);l=(e-p.left)/(p.right-p.left)*r+a.x+i,d=(u-Math.tan(t*c))/(u-h)*n+a.y+i}return{x:st*(l+tt),y:st*(d+et)}}function Xt(){if(d.aspect&&xt.map.aspect){var t=a.clientWidth/d.aspect,e=window.getComputedStyle(o,null),n=parseInt(e.getPropertyValue("max-height"));n>0&&(t=Math.min(n,t)),o.style.height=t+"px"}if(m){Lt.width=o.clientWidth||o.offsetWidth,Lt.height=o.clientHeight||o.offsetHeight;var s=xt.map.retina||1;m.width=Et.width=s*Lt.width,m.height=Et.height=s*Lt.height}D||Gt(!1);for(var l=r.getBoundingClientRect().top,c=o.getBoundingClientRect().top,h=0;h<r.children.length;h++)r.children[h]!==o&&(r.children[h].style.top=c-l+"px");p&&p(),f&&ne(f,g),mt.dispatch(i,"size",{width:o.clientWidth||o.offsetWidth,height:o.clientHeight||o.offsetHeight})}function Gt(t){var e=xt.map.padding,a=xt.map.padding;if(t||(j=[]),!t||!xt.map.scale){var r=(o.clientWidth||xt.map.width)-2*e,n=(o.clientHeight||xt.map.height)-2*a,s=r/n,l=d.aspect||s;if(l>s)var c=(p=r)/l;else var p=(c=n)*l;xt.map.scale=Math.max(p/200,c/200),xt.map.offset={x:(r-p)/2,y:(n-c)/2},e+=xt.map.offset.x,a+=xt.map.offset.y}var h=Math.pow(2,30);for(var u in d.items){if((H=d.items[u]).m){for(var m=99999,f=-99999,g=99999,v=-99999,b=99999,x=-99999,y=99999,w=-99999,k=[],M=0,T=H.m.length;M<T;M++){if(B=d.masses[H.m[M]].poly){for(var S,C=[1==d.masses[H.m[M]].scale],A=0,L=B.length;A<L;A++){var E=B[A][0]*xt.map.scale+e,z=B[A][1]*xt.map.scale+a;if(D)S=[E=(R=i.xy2latlng(E,z)).lng,z=R.lat];else S=[E,z];m=Math.min(m,E),g=Math.min(g,z),f=Math.max(f,E),v=Math.max(v,z),C[0]&&(b=Math.min(b,E),y=Math.min(y,z),x=Math.max(x,E),w=Math.max(w,z)),C.push(S)}k.push(C)}}var P=H.ldx?parseFloat(H.ldx):0,O=H.ldy?parseFloat(H.ldy):0;P>200&&(P-=h),O>200&&(O-=h);var I=parseFloat((m+f)/2+P*(D?1:xt.map.scale)),N=parseFloat((g+v)/2+O*(D?1:xt.map.scale));D||(x-b<1&&x++,w-y<1&&w++),t&&(_[u]={values:{},scale:{from:{scale:1,dx:0,dy:0}},color:xt.map.nodata},V[0].push(u)),_[u].coords=k,_[u].bbox=[m,g,f,v],_[u].sbox=[b,y,x,w],_[u].ldx=P,_[u].ldy=O,_[u].cx=I,_[u].cy=N}}for(var u in Vt(),d.borders){var B,H=d.borders[u];if(B=d.borders[u].poly){for(k=[],A=0,L=B.length;A<L;A++){var R;E=B[A][0]*xt.map.scale+e,z=B[A][1]*xt.map.scale+a;if(D)S=[(R=i.xy2latlng(E,z)).lng,R.lat];else S=[E,z];k.push(S)}j.push({geo1:H.geo1,geo2:H.geo2,type:H.type,coords:k})}}if(d.bbox){var F=d.bbox.split(" "),W=F[0].split(","),X=F[1].split(",");xt.map.bbox={top:parseFloat(W[0]),bottom:parseFloat(X[0]),left:parseFloat(W[1]),right:parseFloat(X[1])},xt.map.bbox.right<xt.map.bbox.left&&(xt.map.bbox.right+=360)}else d.cx&&(xt.map.origin={x:d.cx*xt.map.scale+e,y:d.cy*xt.map.scale+a})}function Yt(t){if("complete"==document.readyState){if("string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t)),"string"==typeof t||"object"==typeof t&&t.documentElement){if("string"==typeof t){if(void 0!==window.DOMParser)var e=(new window.DOMParser).parseFromString(t,"text/xml");else if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){(e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)}}else e=t;t={items:{},masses:{},borders:{}};var i=e.documentElement;"app"==i.localName&&(i=i.getElementsByTagName("data")[0]);var r=i.getAttribute("bbox");if(r)t.bbox=r;else{var n=i.getAttribute("cx"),s=i.getAttribute("cy");(n||s)&&(t.cx=parseFloat(n),t.cy=parseFloat(s))}var l=i.getAttribute("aspect");l&&(t.aspect=parseFloat(l));for(var c=e.getElementsByTagName("i"),p=0,h=c.length;p<h;p++){for(var f=c[p],b={},x=0,y=f.childNodes.length;x<y;x++){for(var w=f.childNodes[x],k=(w.textContent||w.innerText||w.text).split(","),M=0,T=k.length;M<T;M++)k[M]=parseInt(k[M]);1==w.nodeType&&(b[w.localName||w.nodeName]=k)}for(var S in{ldx:1,ldy:1})(z=f.getAttribute(S))&&(b[S]=parseFloat(z));t.items[f.getAttribute("id")]=b}for(var C in{masses:1,borders:1})for(var A=e.getElementsByTagName(C)[0].getElementsByTagName("p"),L=0,E=A.length;L<E;L++){var z,P=A[L];b={poly:[]};for(var S in{type:1,geo1:1,geo2:1,scale:1})(z=P.getAttribute(S))&&(b[S]=z);for(var O=(P.textContent||P.innerText||P.text).split(" "),I=0,N=O.length;I<N;I++){var D=O[I].split(",");""!=D[0]&&b.poly.push([parseFloat(D[0]),parseFloat(D[1])])}t[C][P.getAttribute("id")]=b}}var B=xt.map.height?xt.map.height:o.clientHeight;if(m){var H=window.getComputedStyle(o,null);B-=parseInt(H.getPropertyValue("padding-top"))+parseInt(H.getPropertyValue("padding-bottom"))}if(!B&&t.aspect){var F=a.clientWidth/t.aspect;if(o.style.height=F+"px",m){var W=xt.map.retina||1;v.canvas.height=F,g.canvas.height=W*F,m.height=W*F}}if(d=t,Gt(!0),xt.values&&Zt(xt.values),u){I=mw.Map.HITCOLORSTEP;for(var X in _){Y[I]=X;var G=I.toString(16);_[X].hitcolor="#000000".slice(0,7-G.length)+G,I+=mw.Map.HITCOLORSTEP}}R=!0,_t()}else setTimeout(function(){Yt(t)},100)}function jt(t){if(dt&&!pt&&!ct){t=t||window.event;for(var e=ft[t.type].length-1;e>=0;e--)if(ft[t.type][e](t)){"mousemove"==t.type&&(E=null),mw.support.preventDefault(t);break}}}function _t(){R&&F&&(m&&!m.height&&Xt(),xt.busy&&(xt.busy.style.display="none"),function(){var t=l?l.geoitems:_;function e(e){if(!e)return e;for(var i=e instanceof Array?e:e.split(","),a=0,r=i.length;a<r;a++)if(t[i[a]]||q[i[a]])return i[a]}for(var i in t){var a=t[i];if(_[i]){_[i].regions=[];for(var r=e(a.region);r;)(r=q[r])&&(_[i].regions.push(r.id),r=e(r.region))}}Vt(),Z&&p(!0)}(),function(){for(var t=0,e=xt.layers.length;t<e;t++)xt.layers[t]&&(xt.layers[t]instanceof Function&&(xt.layers[t]=new xt.layers[t]({})),qt(xt.layers[t])?r.appendChild(xt.layers[t]):xt.layers[t].init&&xt.layers[t].init(i),xt.events.hover&&xt.layers[t].listen&&xt.layers[t].listen("hover",function(t){mt.dispatch(i,"hover",t)}));y&&mt.dispatch(i,"year",y);x&&mt.dispatch(i,"indicator",x)}(),mt.dispatch(i,"bounds",{zoom:1,offset:{x:0,y:0}}),"string"==typeof xt.color?xt.color.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i)?le(null,!0):xt.state.indicator?s.set("indicator",xt.color):l&&l.load(xt.color,function(){$t(xt.color)}):xt.color?le(null,!0):xt.legend&&xt.values?le(null,!0):xt.state.indicator&&$t(s.get("indicator")),a.className=a.className.replace(" map-loading",""),mt.dispatch(i,"ready"))}function qt(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function Vt(){for(var t in q)q[t].bbox=[999,999,0,0];for(var t in _){var e=_[t];if(e.regions)for(var i=0,a=e.regions.length;i<a;i++){(r=q[e.regions[i]]).bbox[0]=Math.min(r.bbox[0],e.bbox[0]),r.bbox[1]=Math.min(r.bbox[1],e.bbox[1]),r.bbox[2]=Math.max(r.bbox[2],e.bbox[2]),r.bbox[3]=Math.max(r.bbox[3],e.bbox[3])}}for(var t in q){var r;(r=q[t]).bbox&&(r.cx=(r.bbox[0]+r.bbox[2])/2+r.ldx,r.cy=(r.bbox[1]+r.bbox[3])/2+r.ldy,D||(r.cx=parseInt(r.cx),r.cy=parseInt(r.cy)))}}function Ut(t){y=t,U?i.resize(U):p&&w&&le(w,!0),mt.dispatch(i,"year",t)}function Kt(t){"zoom"==xt.events.click?A==t?i.zoom():i.zoom(t):mt.dispatch(i,"click",{target:i,geoitem:t})}function $t(t){if(t){xt.busy&&(xt.busy.style.display="block");var e=l.indicators[t];if(e.values){var a=l.parseLegend(t);for(var r in a.length&&(xt.legend=a),mt.dispatch(i,"legend",a),k=e.statistics.range.from,M=e.statistics.range.to,_)_[r].values={};for(var r in e.values){var n=e.values[r],o=_[r]?_[r]:q[r];if(o)for(var s in n)o.values[s]=n[s]}xt.busy&&(xt.busy.style.display="none"),x=t,a.length&&le(null,!0),mt.dispatch(i,"indicator",t)}}}function Zt(t,e,i){if(void 0===e&&void 0===i?(e=t,t=(new Date).getFullYear()):"boolean"==typeof e&&void 0===i?(i=e,e=t,t=(new Date).getFullYear()):(k=k?Math.min(k,t):t,M=M?Math.max(M,t):t),e instanceof Function)for(var a in _)_[a].values[t]=e(a);else{for(var a in xt.values=e,_)_[a].values[t]={};for(var a in e)_[a]?_[a].values[t]=e[a]:(q[a]||(q[a]={id:a,values:{},ldx:0,ldy:0,bbox:[999,999,0,0]}),q[a].values[t]=e[a])}i||(xt.state.year?s.set("year",t):Ut(t))}function Qt(t){var e,a=xt.legend;if(!a)return xt.map.nodata;!y&&xt.state.year&&(y=s.get("year"))&&mt.dispatch(i,"year",y);var r,n=0;if(Z){if(Q)for(var o=_[t].regions,l=Q==Z&&Z<o.length-1?0:1,d=Z-l;d>=0;d--){var c=o[d];if(J[c]){if(0==d){e=_[t].values,J[c]&&n++;break}n++}else q[c]&&(e=q[c].values)}if(n!=Q&&xt.explode.siblings)return xt.explode.siblings;if(!e)if(c=_[t].region)e=q[c].values;else{if(xt.map.noregion)return xt.map.noregion;e=_[t].values}}else{if(Q){c=0;for(var p=(o=_[t].regions).length;c<p;c++)J[o[c]]&&n++;if(!n)return xt.explode.siblings}e=_[t].values}xt.latest?r=mw.support.latest(e,y,xt.latest).value:r=e[y];var h=mw.support.legendColor(a,r);return h&&xt.map.opacity<1?((h=mw.support.css2rgb(h))[3]=xt.map.opacity,mw.support.rgb2css(h)):h}function Jt(t){if(l)if(U instanceof Object)var e=U;else if(l.indicators[U])e=l.indicators[U].scale;else{e={};U=!1}else if(U instanceof Object)e=U;return e&&(e=e[t]),e&&void 0==e.scale&&(e=e[y]),e}function te(t,e){if(!(pt&&D||ut)){f.clearRect(0,0,m.width,m.height),e||(e=!(0==$||1==$)),e||v.clearRect(0,0,m.width,m.height);var i=xt.map.fillgaps&&Z&&!U&&1==$,a=xt.map.offset.x+xt.map.padding,r=xt.map.offset.y+xt.map.padding,n=xt.map.highlight,o=n instanceof Function,s=xt.map.retina||1;for(var l in _){var d=_[l];if(K||U){var c=d.scale.from,p=d.scale.to,h=-1==c.scale?0:c.scale,u=h+((-1==p.scale?0:p.scale)-h)*$,g=c.dx+(p.dx-c.dx)*$,b=c.dy+(p.dy-c.dy)*$;d.scale.current={scale:u,dx:g,dy:b}}if(E==l&&n)var x=(o?n(l):n)||d.color;else x=d.color;void 0==x&&(x=xt.map.nodata),f.lineWidth=i?1:0,f.fillStyle=x,f.strokeStyle=x,e||(v.fillStyle=d.hitcolor),f.beginPath(),e||v.beginPath();for(var y=!1,w=0,k=d.coords.length;w<k;w++){var M=d.coords[w];if(!(U||$<1)||M[0])for(var T=1,S=M.length;T<S;T++){var C=M[T][0],A=M[T][1];if(c&&(C=(C-a)*u+xt.map.scale*g+a,A=(A-r)*u+xt.map.scale*b+r,y=xt.circles&&c&&1==$&&0==p.scale),D)C=(V=D(A,C)).x,A=V.y;else C=st*(C+tt),A=st*(A+et);y?(f.lineWidth=.25,f.arc(s*C,s*A,2,0,360,!1),v.arc(s*C,s*A,2,0,360,!1)):(f[1==T?"moveTo":"lineTo"](s*C,s*A),e||v[1==T?"moveTo":"lineTo"](C,A))}}y||f.fill(),x&&(i||y)&&f.stroke(),e||v.fill()}if(!K&&!U)for(var L=xt.borders[Z]||xt.borders,z=0,P=j.length;z<P;z++){var O=j[z],I=_[O.geo1],N=_[O.geo2];if(I&&N){var B=void 0;if(!Q&&L instanceof Array){if(I.regions)for(u=L.length;u>0;u--)if(I.regions[u-1]!=N.regions[u-1]){B=L[u];break}if(B||(B=L[0]),!B)continue}else if(Z)if(Q){for(var H=_[O.geo1].regions,R=_[O.geo2].regions,F=Z-1;F>=0;F--){var W=H[F];if(W!=R[F]){B=L;break}if(!J[W])break;0==F&&(B=L)}if(B instanceof Array){for(;!B[++F];);B=B[F]}if(!B)continue}else{if(I.region&&I.region==N.region)continue;B=L}else B=L instanceof Array?L[0]:L;var X,G,Y=O.type||"regular",q=(M=O.coords,B.patterns[Y]);f.setLineDash&&f.setLineDash(q||[]),f.beginPath(),B instanceof Function&&(B=B(O.geo1,O.geo2)),f.strokeStyle=B.color,f.lineWidth=B.width;for(T=0,S=M.length;T<S;T++){var V;C=M[T][0],A=M[T][1];if(D)C=(V=D(A,C)).x,A=V.y;else C=st*(C+tt),A=st*(A+et);0==T?f.moveTo(s*C,s*A):!q||f.setLineDash?f.lineTo(s*C,s*A):f.dashedLineTo(s*X,s*G,s*C,s*A,q),X=C,G=A}f.stroke()}}}}function ee(t){var e=Math.round,i=mw.Map.VMLSUBPIXEL,a=xt.map.offset.x+xt.map.padding,r=xt.map.offset.y+xt.map.padding,n=xt.map.fillgaps&&Z&&!U&&1==$?"true":"false",s=xt.map.highlight,l=s instanceof Function;for(var d in _){var c=_[d];if(E==d&&s)var h=l?s(d):s;else h=c.color;for(var u=[],m=[],f=0,g=c.coords.length;f<g;f++)for(var v=c.coords[f],b=1,x=v.length;b<x;b++)v[0]?u.push(1==b?" m ":" l ",e(i*(v[b][0]-a)),",",e(i*(v[b][1]-r))):m.push(1==b?" m ":" l ",e(i*(v[b][0]-a)),",",e(i*(v[b][1]-r)));if(u.length){var y='<v:shape id="'+d+'" filled="true" stroked="true" style="left: '+a+"px; top: "+r+'px; position:absolute; width:10px; height:10px"';y+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+u.join("")+'"><v:fill color="'+h+'"></v:fill><v:stroke on="'+n+'" color="'+h+'"></v:stroke></v:shape>',o.insertAdjacentHTML("BeforeEnd",y)}if(m.length){y='<v:shape id="'+d+'" class="noscale" filled="true" stroked="true" style="left: '+a+"px; top: "+r+'px; position:absolute; width:10px; height:10px"';y+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+m.join("")+'"><v:fill color="'+h+'"></v:fill><v:stroke on="'+n+'" color="'+h+'"></v:stroke></v:shape>',o.insertAdjacentHTML("BeforeEnd",y)}}ie(!1),t&&Z&&(ie(!0),document.getElementById("borders-geo").style.display="none"),p=ae}function ie(t){for(var e=Math.round,i=mw.Map.VMLSUBPIXEL,a={},r={},n=xt.borders[Z]||xt.borders,s=0,l=j.length;s<l;s++){var d=j[s],c=_[d.geo1],p=_[d.geo2];if(c&&p){var h=void 0;if(!Q&&n instanceof Array){if(c.regions)for(var u=n.length;u>0;u--)if(c.regions[u-1]!=p.regions[u-1]){h=n[u];break}if(h||(h=n[0]),!h)continue}else if(Z)if(Q){for(var m=_[d.geo1].regions,f=_[d.geo2].regions,g=Z-1;g>=0;g--){var v=m[g];if(v!=f[g]){h=n;break}if(!J[v])break;0==g&&(h=n)}if(h instanceof Array){for(;!h[++g];);h=h[g]}if(!h)continue}else{if(c.region&&c.region==p.region)continue;h=n}else h=n instanceof Array?n[0]:n;var b=d.type||"regular",x=d.coords;a[b]||(a[b]=[]);for(var y=0,w=x.length;y<w;y++)t&&c.region==p.region||a[b].push(0==y?" m ":" l ",e(i*x[y][0]),",",e(i*x[y][1]));r[b]=h}}s='<v:group id="borders-'+(t?"region":"geo")+'" coordorigin="0 0" coordsize="100 100" style="position:absolute; width:100px; height:100px">';for(var b in a){var k=(h=r[b]).color,M=h.width,T=h.patterns[b];s+='<v:shape filled="false" stroked="true" style="position:absolute; width:10px; height:10px"',s+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+a[b].join("")+'"><v:stroke weight="'+M+'" color="'+k+'"',T&&(s+=' dashstyle="'+i*T[0]+" "+i*T[1]+'"'),s+="></v:stroke></v:shape>"}s+="</v:group>",o.insertAdjacentHTML("BeforeEnd",s)}function ae(t){for(var e=mw.Map.VMLSUBPIXEL,i=xt.map.fillgaps&&Z&&!U&&1==$?"true":"false",a=xt.map.highlight,r=a instanceof Function,n=0,s=o.childNodes.length;n<s;n++){var l=o.childNodes[n],d=l.id,c=_[d];if(c){if(K||U){var p=c.scale.from,h=c.scale.to;if(h&&-1!=h.scale&&"noscale"!=l.className){var u=p.scale+(h.scale-p.scale)*$,m=p.dx+(h.dx-p.dx)*$,f=p.dy+(h.dy-p.dy)*$;c.scale.current={scale:u,dx:m,dy:f};var g=e*-m*$/u*xt.map.scale,v=e*-f*$/u*xt.map.scale;l.style.display="block",l.coordsize=10*e/u+" "+10*e/u,l.coordorigin=g+" "+v}else l.style.display="none"}else l.style.display="block";if(E==d&&a)var b=r?a(d):a;else b=c.color;l.childNodes[0].color=b,l.childNodes[1].color=b,l.childNodes[1].on=i}}var x=document.getElementById("borders-region");t&&Z&&(x&&x.parentNode.removeChild(x),ie(!0)),document.getElementById("borders-geo").style.display=U||$<1||Z?"none":"block",document.getElementById("borders-region")&&(document.getElementById("borders-region").style.display=!p&&Z?"block":"none")}function re(t,e,i){for(var a={},r=xt.borders[Z]||xt.borders,n=xt.map.offset.x+xt.map.padding,o=xt.map.offset.y+xt.map.padding,s=0,l=j.length;s<l;s++){var d=j[s],c=_[d.geo1],p=_[d.geo2];if(c&&p){var h=void 0;if(!Q&&r instanceof Array){if(c.regions)for(var u=r.length;u>0;u--)if(c.regions[u-1]!=p.regions[u-1]){h=r[u];break}if(h||(h=r[0]),!h)continue}else if(Z)if(Q){for(var m=_[d.geo1].regions,f=_[d.geo2].regions,g=Z-1;g>=0;g--){var v=m[g];if(v!=f[g]){h=r;break}if(!J[v])break;0==g&&(h=r)}if(h instanceof Array){for(;!h[++g];);h=h[g]}if(!h)continue}else{if(c.region&&c.region==p.region)continue;h=r}else h=r;var b=d.type||"regular",x=d.coords;a[b]||(a[b]=[]);for(var y=0,w=x.length;y<w;y++)if(!t||c.region!=p.region){var k=x[y][0],M=x[y][1];i&&(k-=n,M-=o),k=st*(k+tt),M=st*(M+et),a[b].push(0==y?"M":"L",Math.round(k*e)/e,",",Math.round(M*e)/e)}}}var T=mw.support.stripAlpha(h.color),S=h.width/(xt.map.retina||1),C='<g id="'+(t?"region":"country")+'-borders">';for(var b in a){var A=h.patterns[b];C+='<path id="'+b+'" fill="none" stroke-width="'+S+'" stroke="'+T.color+'" d="'+a[b].join("")+'"',T.opacity&&(C+=' stroke-opacity="'+T.opacity+'" '),A&&(C+=' style="stroke-dasharray: '+A[0]+","+A[1]+'"'),C+=i?'><animateTransform attributeName="transform" attributeType="XML" dur="0.1s" repeatCount="1" fill="freeze" type="scale" from="1" to="0"/></path>':"/>"}return C+="</g>"}function ne(t,e){if(m.width&&m.height)if(t===f&&st>1){var i=st,a=tt,r=et,n=f;st=1,tt=et=0,f=g,te(0,!0),st=i,tt=a,et=r,f=n}else{var o=t.getImageData(0,0,m.width,m.height);e.putImageData(o,0,0)}}function oe(){u&&ne(g,f),de(ot,tt,et,!1),lt=!1}function se(){p(),u&&de(1,0,0,!1)}function le(t,e){var i,a=xt.legend&&xt.values||l;if(xt.color instanceof Function&&t!==w?i=xt.color:a&&(i=Qt),t||(w&&Qt!==w?t=w:"string"==typeof xt.color&&xt.color.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i)?t=xt.color:(t=i,a&&(i=Qt))),w=!1,t instanceof Function)for(var r in w=t,_){var n=t(r);!n&&i&&(n=i(r)),!n&&a&&(n=Qt(r)),_[r].color=n}else if("string"==typeof t){if(t.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i))for(var r in _)_[r].color=t;else if(!xt.state.indicator&&l)return void l.load(t,function(){$t(t)})}else for(var r in _)_[r].color=t&&t[r]?t[r]:xt.map.nodata;e&&R&&p(),u&&ne(f,g)}function de(t,e,a,r){var n=mw.Map.VMLSUBPIXEL,s=Math.abs;if(s(t)<.01&&(t=0),s(e)<.01&&(e=0),s(a)<.01&&(a=0),r&&mt.dispatch(i,"bounds",{zoom:t,offset:{x:e,y:a}}),u&&c)m.style[c]=G?"scale3d("+t+","+t+",1) translate("+e+"px,"+a+"px)":"scale("+t+","+t+") translate("+e+"px,"+a+"px)";else if(b)for(var l=0,d=o.childNodes.length;l<d;l++){var p=o.childNodes[l];"borders-"==p.id.substr(0,8)&&(p.coordorigin=(t-1)*(xt.map.offset.x+xt.map.padding)+" "+(t-1)*(xt.map.offset.y+xt.map.padding),p=p.childNodes[0]);var h=t-1+1;p.coordsize=10*n/h+" "+10*n/h;var f=n*-e,g=n*-a;p.coordorigin=f+" "+g}}function ce(t){mt.dispatch(i,"hover",null)}function pe(t){var e=mw.support.mousepos(t);if(2==t.touches.length&&xt.zoom&&xt.zoom.pinch)if(pt=!0,it=e.x,at=e.y,"ongesturechange"in window)mw.support.attachEvent(window,"gesturechange",me),mw.support.attachEvent(window,"gestureend",fe),mw.support.removeEvent(window,"touchmove",he),mw.support.removeEvent(window,"touchend",ue);else{var i=t.touches[0],a=t.touches[1],r=i.clientX-a.clientX,n=i.clientY-a.clientY;z=Math.sqrt(r*r+n*n)/st,mw.support.attachEvent(window,"touchmove",function(t){o&&clearTimeout(o),o=setTimeout(function(){he(t)},5)}),mw.support.attachEvent(window,"touchend",ue)}else if(1==t.touches.length){var o;rt=e.x,nt=e.y,mw.support.attachEvent(window,"touchmove",function(t){o&&clearTimeout(o),o=setTimeout(function(){he(t)},5)}),mw.support.attachEvent(window,"touchend",ue)}t.touches.length&&(lt=!0)}function he(t){if(dt){var e=(t=t||window.event).target||t.srcElement;if(!m||e==m||X)if(t.touches&&t.touches.length>1){var i=t.touches[0],a=t.touches[1],r=i.clientX-a.clientX,n=i.clientY-a.clientY;t.scale=Math.sqrt(r*r+n*n)/z,me(t)}else if(mw.support.preventDefault(t),u&&lt&&oe(),mw.performance<=40&&se(),u){var o=mw.support.mousepos(t);we(o.x,o.y)}else b&&we(t.screenX,t.screenY)}}function ue(t){dt&&(t=t||window.event,mw.support.preventDefault(t),ct&&se(),I&&(document.getElementsByTagName("body")[0].style[I]=N),"touchend"==t.type?(pt?(fe(t),ot=st):ct&&(clearTimeout(P),P=null),mw.support.removeEvent(window,"touchmove",he),mw.support.removeEvent(window,"touchend",ue)):(!ct&&xt.events.click&&be(t),mw.support.removeEvent(document,"mousemove",he),mw.support.removeEvent(document,"mouseup",ue),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault)),ct=!1,null!==ht&&(le(ht,!0),ht=null))}function me(t){mw.support.preventDefault(t),lt&&oe(),ye(t.scale*ot,it,at,0,0,!0)}function fe(t){mw.support.preventDefault(t),se(),mw.support.removeEvent(window,"gesturechange",me),mw.support.removeEvent(window,"gestureend",fe),pt=!1,null!==ht&&(le(ht,!0),ht=null)}function ge(t){if(Z&&t)if(Q)for(var e=_[t].regions,i=Z-1;i>=0;i--){var a=e[i];if(!J[a])return a}else if(_[t]&&(_[t].region||xt.map.noregion))return _[t].region;return t}function ve(t){if(t&&!B&&((t.target||t.srcElement).parentNode===o||X)){var e;t&&"mouseout"!==t.type&&(e=ge(h(t)));var a=_[e]?_[e]:q[e],r="follow"==xt.events.hover;if(E!=e||e&&r){var n;if(e&&a)if(n={target:i,geoitem:e,indicator:!1!==xt.color&&x?x:"string"==typeof U?U:void 0},r)if(!u&&b){if(n.x=t.x,n.y=t.y,t.y==t.clientY){var s=mw.support.offset(o);n.y-=s.top}}else{var l=mw.support.mousepos(t);n.x=l.x,n.y=l.y}else{var d=i.center(e);n.x=d.x,n.y=d.y}else n=null;(E!=e||r&&E)&&mt.dispatch(i,"hover",n);var c=xt.map.highlight;if(c&&E!=e){var m,f=c instanceof Function;if(E&&!u&&b)(m=document.getElementById(E))&&(m.childNodes[0].color=m.childNodes[1].color=_[E].color);if(!u&&b){if(e)(m=document.getElementById(e))&&(m.childNodes[0].color=m.childNodes[1].color=f?c(e):c)}else E=e,p()}E=e}}}function be(t){if(!B){var e=t.target||t.srcElement,i=e.parentNode==o||e==o;i||"Microsoft Internet Explorer"!=navigator.appName||(i=e.parentNode.parentNode==o.parentNode);var a=ge(h(t));(void 0==t.button||t.button<=1)&&i&&(xt.state.geoitem?s.set("geoitem",a):Kt(a))}}function xe(t,e,i,a){t=Math.max(xt.zoom.minimum,Math.min(L,t));var r=Math.min(o.clientWidth,Math.max(0,e)),n=Math.min(o.clientHeight,Math.max(0,i)),s=r/t-(r/st-tt),l=n/t-(n/st-et);return a||(s=Math.max((1-t)*o.clientWidth/t,Math.min(0,s)),l=Math.max((1-t)*o.clientHeight/t,Math.min(0,l))),[t,s,l]}function ye(t,e,a,n,o,s,l){var d=xe(t,e,a,l);st=d[0],tt=d[1],et=d[2],de(st,tt-n,et-o,s);var c="exponential"==xt.zoom.type?Math.ceil(Math.log(st)/Math.log(2))+1:st;return C&&C.set(c),r.className=r.className.replace(/ ?map-zoom-\d+/,""),r.className+=" map-zoom-"+Math.round(c),s&&mt.dispatch(i,"zoomend"),st}function we(t,e){t==rt&&e==nt||(ct=!0,(tt||et)&&mt.dispatch(i,"pan",{x:t-rt,y:e-nt}),tt+=(t-rt)/ot,et+=(e-nt)/ot,tt=Math.max((1-ot)*o.clientWidth/ot,Math.min(0,tt)),et=Math.max((1-ot)*o.clientHeight/ot,Math.min(0,et)),de(ot,tt,et,!0),(mw.performance<=40||X)&&se(),rt=t,nt=e)}function ke(t,e){var i='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o.clientWidth+'px" height="'+o.clientHeight+'px" viewBox="0 0 '+o.clientWidth+" "+o.clientHeight+'">';i+=function(t,e,i){var a=U;i&&(U=i);var r=xt.map.fillgaps&&Z&&!U&&1==$,n='<animateTransform attributeName="transform" attributeType="XML" repeatCount="1" fill="freeze" ',o=xt.speed.resize,s=xt.map.offset.x+xt.map.padding,l=xt.map.offset.y+xt.map.padding,d=xt.map.highlight,c=d instanceof Function,p='<g id="map">';for(var h in _){var u=_[h],m=!1;if(i){var f=Jt(h)||{scale:0,dx:0,dy:0};m=xt.circles&&0==f.scale}else if(K||U){var g=u.scale.from,v=u.scale.to;if(g&&-1==g.scale||v&&-1==v.scale)continue;m=xt.circles&&g&&1==$&&0==v.scale}if(p+='<g id="'+h+'">',E==h&&d)var b=c?d(h):d;else b=u.color;void 0==b&&(b=xt.map.nodata),b=mw.support.stripAlpha(b);t:for(var x=0,y=u.coords.length;x<y;x++){var w=[],k=u.coords[x];if(i||!(U||$<1)||k[0]){for(var M,T,S=1,C=k.length;S<C;S++){var A=k[S][0],L=k[S][1];if(g&&v){var z=g.scale+(v.scale-g.scale)*$,P=g.dx+(v.dx-g.dx)*$,O=g.dy+(v.dy-g.dy)*$;A=(A-s)*z+xt.map.scale*P+s,L=(L-l)*z+xt.map.scale*O+l}else i&&(A-=s,L-=l);if(A=st*(A+tt),L=st*(L+et),A=Math.round(A*e)/e,L=Math.round(L*e)/e,m){p+='<circle cx="0" cy="0" transform="translate('+A+" "+L+')" r="2" ',p+='stroke-width="1" fill="none" stroke="'+b.color+'"',b.opacity&&(p+=' stroke-opacity="'+b.opacity+'"'),p+=i?">"+n+'dur="'+o+'s" additive="sum" type="scale" from="0" to="1"/></circle>':"/>";break t}1!=S&&M&&T?(P=Math.round((A-M)*e)/e,O=Math.round((L-T)*e)/e,0==P?w.push("v",O):0==O?w.push("h",P):(P>=0&&P<1&&(P=String(P).substr(1)),O>=0&&O<1&&(O=String(O).substr(1)),P<0&&P>-1&&(P="-"+String(P).substr(2)),O<0&&O>-1&&(O="-"+String(O).substr(2)),w.push("l",P,",",O))):w.push(1==S?"M":"L",A,",",L),M=A,T=L}i&&(p+="<g>"),p+='<path fill="'+b.color+'" '+(r?'stroke="'+b.color+'" ':""),b.opacity&&(p+=' opacity="'+b.opacity+'" '),p+='d="'+w.join("")+'Z"',p+=i?">"+n+'dur="'+(k[0]?o:.01)+'s" type="scale" from="1" to="'+(k[0]&&-1!=f.scale?f.scale:0)+'"/></path>':"/>",i&&(p+=n+'dur="'+o+'s" type="translate" from="0 0" to="'+xt.map.scale*f.dx+" "+xt.map.scale*f.dy+'"/>',p+="</g>")}}p+="</g>"}return U&&!i||(p+=re(!!Z,e,i)),U=a,p+="</g>"}(0,Math.pow(10,t),e);for(var a=0,r=xt.layers.length;a<r;a++){var n=xt.layers[a];if(n&&n.exportSVG){var s=n.exportSVG();s&&(i+=s)}}return i+="</svg>"}a.innerHTML="This browser supports neither &lt;canvas&gt; nor VML."},mw.Map.HITCOLORSTEP=4001,mw.Map.VMLSUBPIXEL=100,mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.BELOW=1,mw.map.layers.ABOVE=2,mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Arrows=function(t){var e,i,a,r,n,o,s,l,d,c,p,h,u,m={},f={},g={},v={},b=0,x=1,y={},w=new mw.Dispatcher,k=mw.support.extend(t||{},{indicator:!1,color:{incoming:"rgba(255,0,0,0.5)",outgoing:"rgba(0,0,255,0.5)"},stroke:{width:1,incoming:"rgb(255,255,255)",outgoing:"rgb(255,255,255)"},incoming:!0,outgoing:!0,items:null,count:{number:5,type:"countries"},bend:3,gap:5,symmetry:.7,minwidth:2,maxwidth:40,maximum:"dataset",arrowhead:{minimum:2,fraction:.02,maximum:40,serif:!1},offset:{minimum:5,fraction:.2,maximum:100},events:{hover:!1,click:!0},visible:!0});return e={init:function(t){i=t,(a=document.createElement("div")).className="map-arrow-layer",a.style.position="absolute",a.style.top=0,a.style.left=0,u=t.settings.busy,k.visible?i.toggleClass("arrow-layer-active",!0):a.style.display="none";k.parent?k.parent.appendChild(a):i.panes().appendChild(a);switch(k.latest=i.settings().latest,l=i.state(),d=l.data(),i.type()){case"canvas":o=R,s=F,(c=document.createElement("canvas")).width=i.width(),c.height=i.height(),c.style.position="absolute",c.style.pointerEvents="none",p=c.getContext("2d"),a.appendChild(c);var f=document.createElement("canvas");f.width=c.width,f.height=c.height,(h=f.getContext("2d")).lineWidth=0;break;case"vml":o=X,s=G}i.listen("bounds",z),i.listen("size",E),i.listen("region",P),i.listen("year",M),!0===k.indicator?l.listen("indicator",function(t){L(t)}):k.indicator&&L(k.indicator);i.listen("resizestart",function(){a.style.display="none",b++}),i.listen("resizeend",T),mw.performance>40&&(i.listen("zoomstart",function(){a.style.display="none",b++}),i.listen("zoomend",T));if(k.events.hover){var g;i.listen("mouseout",function(t){if("none"!=a.style.display)return g?(w.dispatch(e,"hover",null),g=null,!0):void 0}),i.listen("mousemove",function(t){if("none"!=a.style.display){var o=s(t),l="follow"==k.events.hover;if(g!=o||o&&l){var d;if(o){if(d={target:e,from:o.from,to:o.to},o.from==n){var p=m[o.from];p.outgoing[r]&&p.outgoing[r][o.to]&&(d.value=p.outgoing[r][o.to])}else{var p=m[o.to];p.incoming[r]&&p.incoming[r][o.from]&&(d.value=p.incoming[r][o.from])}if(l){var h=mw.support.mousepos(t);d.x=h.x+(c?0:currentScale*(p.bbox[0]+offsetX)),d.y=h.y+(c?0:currentScale*(p.bbox[1]+offsetY))}else{var u=i.center(d.from),f=i.center(d.to);d.x=(u.x+f.x)/2,d.y=(u.y+f.y)/2}}else d=null;w.dispatch(e,"hover",d),g=o}return o&&g==o}})}k.events.click&&i.listen("mousedown",function(t){var i=s(t);if(i)return w.dispatch(e,"click",{target:e,from:i.from,to:i.to}),!0})},toggle:function(t){if(void 0===t&&(t=!("none"!=a.style.display)),k.visible!=t)return k.visible=t,a&&(a.style.display=t?"block":"none",t&&o&&H()),i.toggleClass("arrow-layer-active",t),t},set:function(t){mw.support.extend(t,k),o&&H()},incoming:function(t){return void 0===t&&(t=!(!0===k.incoming)),k.incoming=t,o&&H(),t},outgoing:function(t){return void 0===t&&(t=!(!0===k.outgoing)),k.outgoing=t,o&&H(),t},show:function(t){n!=t&&(n=t,o&&H())},destroy:function(){w.destroy()},values:function(t,e){void 0==t&&void 0==e?A():function(t,e){e||(e=t,t=(new Date).getFullYear());var a=k.visible&&t==r||!r;r||(r=t);if(e instanceof Function){A(t);for(var n=k.items||i.items(),s=0,l=n.length;s<l;s++){var d=n[s];m[d]||(m[d]=S(d));var c=e(d);for(var p in c)m[d].outgoing[t][p]=c[p],m[p].incoming[t][d]=c[p]}k.latest&&C(v[t]),a&&o&&(O(),H())}else if("string"==typeof e)L(e);else{for(var d in A(t),e)for(var p in m[d]||(m[d]=S(d)),e[d])m[p]||(m[p]=S(p)),m[d].outgoing[t]||(m[d].outgoing[t]={}),m[p].incoming[t]||(m[p].incoming[t]={}),m[d].outgoing[t][p]=e[d][p],m[p].incoming[t][d]=e[d][p];k.latest&&C(v[t]),a&&o&&(O(),H())}v[t]=!0}(t,e)},listen:function(t,e){w.register(t,e)},unlisten:function(t,e){w.remove(t,e)},exportPNG:function(t){k.visible&&c&&t.drawImage(c,0,0)},exportSVG:function(){var t=o;o=W;var e=H();return o=t,e}};function M(t){r=t,o&&(O(),H())}function T(){b=Math.max(0,b-1),k.visible&&!b&&(a.style.display="block"),H()}function S(t){var e=!!i&&i.box(t),a=e instanceof Array?Math.min(e[2]-e[0],e[3]-e[1])*k.offset.fraction:0;return{incoming:{},outgoing:{},r:a=Math.min(k.offset.maximum,Math.max(k.offset.minimum,a))}}function C(t){for(var e in t&&(g={},v={}),m){g[e]={};var i=m[e];for(var a in{incoming:1,outgoing:1}){g[e][a]={};var r=i[a];for(var n in r)for(var o in r[n])g[e][a][o]=!0}}}function A(t){for(var e in t?(f[t]=+k.maximum,isNaN(f[t])&&(f[t]=0)):f={},m)t?(m[e].incoming[t]&&(m[e].incoming[t]={}),m[e].outgoing[t]&&(m[e].outgoing[t]={})):(m[e].incoming={},m[e].outgoing={})}function L(t){A(),d&&(u&&(u.style.display="block"),d.load(t,function(){u&&(u.style.display="none");var e=d.indicators[t];if(e){for(var i in e.values)for(var a in m[i]||(m[i]=S(i)),m[i].outgoing=e.values[i],e.values[i]){var r=e.values[i][a];for(var n in r)m[n]||(m[n]=S(n)),m[n].incoming[a]||(m[n].incoming[a]={}),m[n].incoming[a][i]=r[n]}if("dataset"==k.maximum)for(var s=e.statistics.range.from;s<=e.statistics.range.to;s++)f[s]=e.statistics.range.max;k.latest&&C(!0),O(),o&&H()}}))}function E(t){c&&(c.width=t.width,h.canvas.width=t.width,c.height=t.height,h.canvas.height=t.height),H&&H()}function z(t){x=t.zoom,H()}function P(t){O(),H()}function O(){f[r]||(f[r]=+k.maximum,isNaN(f[r])&&(f[r]=0));for(var t=k.items||i.items(),e=0,a=t.length;e<a;e++){var n=t[e],o=m[n];if(o&&(o.sorted=[],k.latest||o.incoming[r]||o.outgoing[r])){for(var s in{incoming:1,outgoing:1}){var l,d=o[s];if(l=k.latest?g[n][s]:d[r])for(var c in l){var p=void 0;if(k.latest){for(var h=r;h>=r-k.latest&&(void 0==(p=d[h])||void 0==(p=p[c]));h--);if(void 0==p)continue}else p=l[c];var u={value:p};u[s]=c,"year"!=k.maximum&&"dataset"!=k.maximum||(f[r]=Math.max(f[r],p)),o.sorted.push(u)}}o.sorted.sort(function(t,e){return t.value>e.value?-1:1})}}}function I(t,e){return Math.sqrt(t*t+e*e)}function N(t,e,i,a,r,n,o,s){s=s||0;var l=t+(i-t)*o,d=e+(a-e)*o,c=i+(r-i)*o-l,p=a+(n-a)*o-d,h=l+c*o,u=d+p*o,m=I(c,p);return[h-s*(p/=m),u+s*(c/=m)]}function D(t,e,i,a,r,n,o,s,l,d){var c=[];if(d>0){var p=k.maxwidth instanceof Array?k.maxwidth[0]:d/2;p<1&&(p*=d);var h=d/2,u=I(t-r,e-n),m=u*(s-o),f=k.arrowhead.fraction*m,g=(f=Math.min(k.arrowhead.maximum,Math.max(k.arrowhead.minimum,f)))/m,v=10/u;s-g<0&&(g=s/2),o>s-g&&(o=s-g);for(var b=o;b<s-g;b+=v){var x=(b-o)/(s-g-o)*(h-p)+p;c.push(N(t,e,i,a,r,n,b,l+x))}for(c.push(N(t,e,i,a,r,n,s-g,l+h)),k.arrowhead.serif&&c.push(N(t,e,i,a,r,n,s-g,l+d)),c.push(N(t,e,i,a,r,n,s,l)),k.arrowhead.serif&&c.push(N(t,e,i,a,r,n,s-g,l-d)),b=s-g;b>o;b-=v){x=(b-o)/(s-g-o)*(h-p)+p;c.push(N(t,e,i,a,r,n,b,l-x))}c.push(N(t,e,i,a,r,n,o,l-p)),c.push(N(t,e,i,a,r,n,o,l+p))}return c}function B(t,e,a,n,o,s,l,d){var c=f[r],p=k.maxwidth instanceof Array?k.maxwidth[1]:k.maxwidth;(l=l/c*(p-k.minwidth))&&(l+=k.minwidth),(d=d/c*(p-k.minwidth))&&(d+=k.minwidth);var h=k.symmetry,u=i.height(),m=I(t-a,e-n),g=m<50?0:k.bend,v=h*t+(1-h)*a,b=h*e+(1-h)*n+Math.abs(t-a)*((e/u-.5)*g),x=l+d+(l*d?k.gap:0),y=(x-l)/2,w=(x-d)/2,M=o+s>m?0:Math.sqrt(o*o)/m,T=o+s>m?0:Math.sqrt(s*s)/m;return[D(a,n,v,b,t,e,T,1-M,y,l),D(t,e,v,b,a,n,M,1-T,w,d)]}function H(){if("none"!=a.style.display){var t=[];if(n)var e=m[n];if(e&&e.sorted){for(var r=k.count.type,s=k.count.number,l={incoming:"value1",outgoing:"value2"},d={arrows:0,neighbours:0,incoming:0,outgoing:0},p={},h=0,u=e.sorted.length;h<u;h++){var f=e.sorted[h];for(var g in l)if(k[g]&&f[g]){if("overall"==r)var v=d.arrows<s;else if("countries"==r)v=d.neighbours<s||p[f[g]];else v=d[g]<s;v&&(p[f[g]]||(p[f[g]]={value1:0,value2:0},d.neighbours++),p[f[g]][l[g]]=f.value,d.arrows++,d[g]++)}}var b=0;y={};var w=i.center(n);for(var M in p){var T=m[M],S=i.center(M),C=B(w.x,w.y,S.x,S.y,x*e.r,x*T.r,p[M].value1,p[M].value2);if(b+=mw.Map.HITCOLORSTEP,y[b]={to:n,from:M},c){var A=b.toString(16);C[0].push("#000000".slice(0,7-A.length)+A)}else C[0].push(b);if(b+=mw.Map.HITCOLORSTEP,y[b]={to:M,from:n},c){A=b.toString(16);C[1].push("#000000".slice(0,7-A.length)+A)}else C[1].push(b);t.push(C)}}return o(t)}}function R(t){p.clearRect(0,0,c.width,c.height),h.clearRect(0,0,c.width,c.height);for(var e=0,i=t.length;e<i;e++)for(var a=0;a<2;a++){var r=t[e][a];if(r.length){p.fillStyle=k.color[a?"outgoing":"incoming"],p.strokeStyle=k.stroke[a?"outgoing":"incoming"],h.fillStyle=r.pop(),p.beginPath(),h.beginPath();for(var n=0,o=r.length;n<o;n++){var s=r[n][0],l=r[n][1];p[0==n?"moveTo":"lineTo"](s,l),h[0==n?"moveTo":"lineTo"](s,l)}p.fill(),h.fill(),k.stroke.width&&p.stroke()}}}function F(t){for(var e=mw.support.mousepos(t),i=h.getImageData(e.x-2,e.y-2,5,5),a=i.data,r=4*(2*i.width+3),n=0;n<=r;n+=4){var o=a[e=r+n]<<16|a[e+1]<<8|a[e+2];if(y[o])return y[o];if(n&&(o=a[e=r-n]<<16|a[e+1]<<8|a[e+2],y[o]))return y[o]}}function W(t){for(var e='<g id="arrows">',i=0,a=t.length;i<a;i++)for(var r=0;r<2;r++){var n=t[i][r];if(n.length){var o=n.pop();o=parseInt(o.substr(1),16);for(var s=mw.support.stripAlpha(k.color[r?"outgoing":"incoming"]),l=mw.support.stripAlpha(k.stroke[r?"outgoing":"incoming"]),d=[],c=0,p=n.length;c<p-1;c++)d.push(0==c?"M":"L",n[c][0],",",n[c][1]);var h=y[o].from+"-"+y[o].to;d.length&&(e+='<path id="'+h+'" fill="'+s.color+'" stroke="'+l.color+'" ',s.opacity&&(e+=' fill-opacity="'+s.opacity+'"'),l.opacity&&(e+=' stroke-opacity="'+l.opacity+'"'),e+=' d="'+d.join("")+'Z"/>')}}return e+="</g>"}function X(t){var e=mw.Map.VMLSUBPIXEL,i=Math.round;a.innerHTML="";for(var r=0,n=t.length;r<n;r++)for(var o=0;o<2;o++){var s=t[r][o];if(s.length){var l=s.pop(),d=k.color[o?"outgoing":"incoming"];if("rgba"==d.substr(0,4)){var c=d.lastIndexOf(",");d="rgb"+d.substr(4,c-4)+')" opacity="'+d.substr(c+1,d.length-c-2)}var p=k.stroke[o?"outgoing":"incoming"];if("rgba"==p.substr(0,4)){c=p.lastIndexOf(",");p="rgb"+p.substr(4,c-4)+')" opacity="'+p.substr(c+1,p.length-c-2)}for(var h=[],u=(c=0,s.length);c<u-1;c++)h.push(0==c?" m ":" l ",i(e*s[c][0]),",",i(e*s[c][1]));var m='<v:shape id="'+(y[l].from+y[l].to)+'" filled="true" ';k.stroke.width&&(m+='stroked="true" '),m+='style="position:absolute; width:10px; height:10px" ',m+='coordorigin="0 0" coordsize="'+10*e+" "+10*e+'" path="'+h.join("")+'">',m+='<v:fill color="'+d+'"/>',k.stroke.width&&(m+='<v:stroke color="'+p+'"/>'),m+="</v:shape>",a.insertAdjacentHTML("BeforeEnd",m)}}}function G(t){if(t.srcElement.parentNode==a){var e=t.srcElement.id;return{from:e.substr(0,e.length/2),to:e.substr(e.length/2)}}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Circles=function(t){var e,i,a,r,n,o,s,l,d,c,p,h,u,m,f,g,v={},b=0,x={},y=!1,w=(y=!1,new mw.Dispatcher),k=mw.support.extend(t||{},{color:"rgba(255,255,255,0.5)",size:!1,nodata:"#d5d7da",stroke:{width:1,color:"rgb(255,255,255)"},speed:{play:5},events:{hover:"follow",click:!1},items:null,sizefactor:10,totalsurface:1500,maximum:"dataset",visible:!0});return e={init:function(t){i=t,d=t.settings.busy,(a=document.createElement("div")).className="map-circle-layer",a.style.position="absolute",a.style.top=0,a.style.left=0,k.visible?i.toggleClass("circle-layer-active",!0):a.style.display="none";k.latest=i.settings().latest,window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:window.msRequestAnimationFrame?window.msRequestAnimationFrame:function(t){setTimeout(t,20)};k.parent?k.parent.appendChild(a):i.panes().appendChild(a);switch(s=i.state(),l=s.data(),i.type()){case"canvas":c=N,p=D,(h=document.createElement("canvas")).width=i.width(),h.height=i.height(),h.style.position="absolute",h.style.pointerEvents="none","Microsoft Internet Explorer"==navigator.appName&&mw.support.attachEvent(h,"click",function(t){mw.support.fireEvent(h.parentNode,t)}),u=h.getContext("2d"),a.appendChild(h);var r=document.createElement("canvas");r.width=h.width,r.height=h.height,(m=r.getContext("2d")).lineWidth=0;break;case"vml":c=B,p=H}!0===k.color?s.listen("indicator",function(t){L(t,"colors")}):k.color&&A(k.color);!0===k.indicator?s.listen("indicator",function(t){L(t,"sizes")}):k.indicator&&L(k.indicator,"sizes");i.listen("bounds",E),i.listen("size",T),i.listen("region",z),i.listen("year",M),i.listen("resizestart",function(){a.style.display="none",b++}),i.listen("resizeend",S),mw.performance>40&&(i.listen("zoomstart",function(){a.style.display="none",b++}),i.listen("zoomend",S));if(k.events.hover){var n;i.listen("mouseout",function(t){if("none"!=a.style.display)return n?(w.dispatch(e,"hover",null),n=null,!0):void 0}),i.listen("mousemove",function(t){if("none"!=a.style.display){var r=p(t),o="follow"==k.events.hover;if(n!=r||r&&o){if(r){var s={target:e,geoitem:r,indicator:k.indicator};if(o){var l=mw.support.mousepos(t);s.x=l.x+(h?0:currentScale*(d.bbox[0]+offsetX)),s.y=l.y+(h?0:currentScale*(d.bbox[1]+offsetY))}else{var d=i.center(r);s.x=d.x,s.y=d.y}w.dispatch(e,"hover",s)}else w.dispatch(e,"hover",null);return n=r,!0}}})}k.events.click&&i.listen("mousedown",function(t){var i=p(t);if(i)return w.dispatch(e,"click",{target:e,geoitem:i}),!0})},lock:function(){y=!0},unlock:function(t){y=!1,t&&I()},toggle:function(t){if(void 0===t&&(t=!("none"!=a.style.display)),k.visible!=t)return k.visible=t,a&&(a.style.display=t?"block":"none"),t&&!r&&O(),t&&I&&I(),i&&i.toggleClass("circle-layer-active",t),t},set:function(t,e){mw.support.extend(t,k),(e||void 0===e)&&I&&(O(),I())},color:function(t){A(t)},size:function(t,e){void 0==t&&void 0==e?function(){for(var t in v)v[t].sizes={}}():function(t,e){e||(e=t,t=(new Date).getFullYear());var a=k.visible&&(t==o||!o);o||(o=t);if(e instanceof Function){for(var r=k.items||i.items(),n=0,s=r.length;n<s;n++){var l=r[n];v[l]||(v[l]={color:"",sizes:{}}),v[l].sizes[t]=e(l)}a&&I&&(O(),I())}else if("string"==typeof e)L(e,"sizes");else{for(var l in e)v[l]||(v[l]={color:"",sizes:{}}),v[l].sizes[t]=e[l];a&&I&&(O(),I())}}(t,e)},animate:function(t){r||O();for(var i=1,a=r.slice(),n=0;n<a.length&&a[n].radius;n++);t=t||(l.meta.speed?l.meta.speed:k.speed.play),t/=n,w.dispatch(e,"animationstart"),function o(){i<n?(r=a.slice(0,i++),I(),g=setTimeout(o,1e3*t)):(r=a,w.dispatch(e,"animationend"))}()},stop:function(){clearTimeout(g)},listen:function(t,e){w.register(t,e)},unlisten:function(t,e){w.remove(t,e)},exportPNG:function(t){k.visible&&h&&t.drawImage(h,0,0)},exportSVG:function(){return function(){if("none"==a.style.display)return;for(var t="",e=k.stroke&&k.stroke.width?k.stroke.color||"#ffffff":null,n=0,o=r.length;n<o;n++){var s=r[n],l=v[s.id].color,d=i.center(s.id),c=mw.support.stripAlpha(l||k.color),p=mw.support.stripAlpha(e);t+='<circle id="c-'+s.id+'" cx="'+d.x+'" cy="'+d.y+'" r="'+s.pxradius+'" ',t+='fill="'+c.color+'" stroke="'+p.color+'"',c.opacity&&(t+=' fill-opacity="'+c.opacity+'"'),p.opacity&&(t+=' stroke-opacity="'+p.opacity+'"'),t+="/>"}return'<g id="circles">'+t+"</g>"}()}};function M(t){o=t,I&&(O(),A(k.legend?C:k.color))}function T(t){h&&(h.width=t.width,m.canvas.width=t.width,h.height=t.height,m.canvas.height=t.height),r&&k.sizefactor instanceof Function&&P(),I&&I()}function S(){b=Math.max(0,b-1),k.visible&&!b&&(a.style.display="block"),I&&(O(),I())}function C(t){var e,i=k.legend,a=v[t].colors;return a&&i?(e=k.latest?(e=mw.support.latest(a,o,k.latest)).value:a[o],mw.support.legendColor(i,e)):k.nodata}function A(t){if(t instanceof Function||"string"==typeof t)for(var e=k.items||(i?i.items():[]),a=0,r=e.length;a<r;a++){var n=e[a];v[n]||(v[n]={color:"",sizes:{}}),v[n].color=t instanceof Function?t(n):t}else for(var n in t)v[n]&&(v[n].color=t[n]);I&&I()}function L(t,e){d&&(d.style.display="block"),l.load(t,function(){d&&(d.style.display="none");var i=l.indicators[t];if(i){for(var a in"colors"==e&&(k.legend=l.parseLegend(t)),i.values)v[a]||(v[a]={color:"",sizes:{}}),v[a][e]=i.values[a];"sizes"==e&&O(),I&&A(k.legend?C:k.color)}})}function E(t){I()}function z(t){O(),I()}function P(){for(var t=Math.sqrt,e=k.sizefactor instanceof Function?k.sizefactor():k.sizefactor,i=0,a=r.length;i<a;i++)r[i].pxradius=t(r[i].radius/n*e*k.totalsurface)}function O(){if(i){var t=Math.max;r=[],n=0;for(var e={},a=k.items||i.items(),s=0,l=a.length;s<l;s++){var d=a[s];if(h=v[d])for(var c in h.sizes)e[c]?e[c]+=h.sizes[c]:e[c]=h.sizes[c]}if(isNaN(+k.maximum))if("year"==k.maximum)if(k.latest){var p=mw.support.latest(e,o,k.latest);n=p.value}else n=e[o];else for(var c in e)n=t(n,e[c]);else n=+k.maximum;for(s=0,l=a.length;s<l;s++){var h;d=a[s];if(h=v[d]){var u;if(k.latest&&h.sizes)u=(p=mw.support.latest(h.sizes,o,k.latest)).value||0;else u=h.sizes&&h.sizes[o]?h.sizes[o]:0;var m={id:d,radius:u};r.push(m)}}r.sort(function(t,e){return t.radius>e.radius?-1:1}),P()}}function I(){if(c&&"none"!=a.style.display&&r&&!y){h?(u.clearRect(0,0,h.width,h.height),m.clearRect(0,0,h.width,h.height)):a.innerHTML="",f=0,x={};for(var t=k.stroke&&k.stroke.width?k.stroke.color||"#ffffff":null,e=0,n=r.length;e<n;e++){var o=r[e],s=o.id,l=i.center(s),d=v[s].color;c(s,t,d||k.color,l.x,l.y,o.pxradius)}}}function N(t,e,i,a,r,n){e&&(u.strokeStyle=k.stroke.color||"#ffffff",u.lineWidth=1),f+=mw.Map.HITCOLORSTEP,x[f]=t,u.fillStyle=i;var o=f.toString(16);m.fillStyle="#000000".slice(0,7-o.length)+o,u.beginPath(),m.beginPath(),u.arc(a,r,n,0,2*Math.PI,!0),u.closePath(),m.arc(a,r,n,0,2*Math.PI,!0),m.closePath(),e&&u.stroke(),u.fill(),m.fill()}function D(t){for(var e=mw.support.mousepos(t),i=m.getImageData(e.x-2,e.y-2,5,5),a=i.data,r=4*(2*i.width+3),n=0;n<=r;n+=4){var o=a[e=r+n]<<16|a[e+1]<<8|a[e+2];if(x[o])return x[o];if(n&&(o=a[e=r-n]<<16|a[e+1]<<8|a[e+2],x[o]))return x[o]}}function B(t,e,i,r,n,o){var s=Math.round,l=mw.Map.VMLSUBPIXEL;if("rgba"==i.substr(0,4)){var d=i.lastIndexOf(",");i="rgb"+i.substr(4,d-4)+')" opacity="'+i.substr(d+1,i.length-d-2)}var c="ae "+s(l*r)+","+s(l*n)+" "+s(l*o)+" "+s(l*o)+" 0 23592960 x e",p='<v:shape id="'+t+'" filled="true"';e&&(p+=' stroked="true"'),p+=' style="position:absolute;width:10px;height:10px"',p+=' coordorigin="0 0" coordsize="'+10*l+" "+10*l+'" path="'+c+'">',p+='<v:fill color="'+i+'"/>',e&&(p+='<v:stroke color="'+e+'"/>'),p+="</v:shape>",a.insertAdjacentHTML("BeforeEnd",p)}function H(t){if(t.srcElement.parentNode==a){var e=t.srcElement.id;return{from:e.substr(0,e.length/2),to:e.substr(e.length/2)}}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Highlight=function(options){var me,map,layer,tooltip,settings=mw.support.extend(options||{},{constrain:!0,persist:!1,template:"<div class='label'>{GEOITEM}</div><div class='value'>{VALUE}</div>"}),currentYear,currentIndicator,currentEvent,currentHoverKey,datamanager,adx,ady;return{init:initialize,toggle:function(t){return void 0===t&&(t=!("none"!=tooltip.style.display)),tooltip.style.display=t?"block":"none",t},show:function(t,e,i){currentHoverKey=null,tooltip.innerHTML='<div class="map-tooltip-anchor"></div><div class="map-tooltip-tip"></div>'+i,tooltip.className="map-tooltip",position(t,e)},hide:function(){currentHoverKey=null,tooltip&&(tooltip.className=tooltip.className.replace("map-tooltip","map-hidden-tooltip map-tooltip"))},set:function(t){mw.support.extend(t,settings)}};function position(t,e){var i=tooltip.firstChild;if(i&&settings.constrain){void 0==adx&&(adx=1-i.offsetLeft/tooltip.clientWidth,ady=i.offsetTop/tooltip.clientHeight);var a=tooltip.clientWidth*adx,r=tooltip.clientHeight*ady,n=tooltip.parentNode.clientWidth||tooltip.parentNode.parentNode.clientWidth,o="map-tooltip ";e-r<0&&(o+="anchor-top "),t-a<0?o+="anchor-left":t+a>n&&(o+="anchor-right"),tooltip.className=o}i&&(t-=i.offsetLeft,e-=i.offsetTop),tooltip.style.left=t+"px",tooltip.style.top=e+"px"}function onHover(e){if(e){var item1=datamanager?datamanager.geoitems[e.geoitem||e.from]:{},item2=datamanager?datamanager.geoitems[e.to]:{},hasdm=datamanager&&datamanager.value instanceof Function,geokey=(e.geoitem||e.from)+"-"+e.to,indic=e.indicator||currentIndicator,year=e.year||currentYear,t;if(geokey+"-"+year+"-"+indic!=currentHoverKey){if(t=settings.template instanceof Function?settings.template.call(tooltip,e):settings.template,!1===t)return onHover(null);var val=e.value;if(!val&&hasdm){var latest;if(settings.format)settings.latest?(latest=mw.support.latest(datamanager.tag("values",indic,e.geoitem),year,settings.latest),val=latest.value):val=datamanager.tag("values",indic,e.geoitem,year),void 0!=val&&(val=mw.support.format(settings.format,val),settings.latest&&year!=latest.year&&-1==t.indexOf("{YEAR}")&&(val+=" ("+latest.year+")"),settings.latest&&(year=latest.year));else if(settings.latest){var latest=datamanager.latest(indic,e.geoitem,year,datamanager.meta.nodata,settings.latest);val=latest.value,year!=latest.year&&void 0!=val&&-1==t.indexOf("{YEAR}")&&(val+=" ("+latest.year+")"),year=latest.year}else val=datamanager.value(indic,e.geoitem,year);void 0==val&&(val=datamanager.meta.nodata?datamanager.meta.nodata:"")}for(var pattern=/\{([^}]+)\}/g,replacements={},match;match=pattern.exec(t);)if("FROM"==match[1]&&item1)replacements[match[0]]=item1.label;else if("TO"==match[1]&&item2)replacements[match[0]]=item2.label;else if("INDICATOR"==match[1])replacements[match[0]]=datamanager.indicators[indic].label;else if("GEOITEM"==match[1].substr(0,7)&&item1){var g=match[1].split(":");replacements[match[0]]=item1[g[1]||"label"],item2&&(replacements[match[0]]+=" - "+item2[g[1]||"label"])}else if("YEAR"==match[1])replacements[match[0]]=year;else if("VALUE"==match[1].substr(0,5)){var iid=match[1].split(":");if(2==iid.length){var v=datamanager.value(iid[1],e.geoitem,year,0);settings.format&&(v=mw.support.format(settings.format,v)),replacements[match[0]]=v}else replacements[match[0]]=val}else if("UNIT"==match[1])replacements[match[0]]=indic?datamanager.indicators[indic].unit:"";else if("PERCENT"==match[1])replacements[match[0]]=e.hasOwnProperty("percent")?mw.support.format(e.percent):"";else if("TOTAL"==match[1])replacements[match[0]]=e.hasOwnProperty("total")?mw.support.format(e.total):"";else if("NOTE"==match[1])replacements[match[0]]=datamanager.tag("notes",indic,e.geoitem,year)||"no note";else if(e.geoitem&&hasdm){for(var indics=/[A-Za-z0-9_\.]+/g,expr=match[1];match2=indics.exec(match[1]);){var v=datamanager.value(match2[0],e.geoitem,year,0);if(settings.format&&(v=mw.support.format(settings.format,v)),expr=expr.replace(match2[0],v),match[1]==match2[0])break}match2&&match[1]==match2[0]?replacements[match[0]]=expr:replacements[match[0]]=eval(expr)}for(var key in replacements)t=t.replace(key,void 0===replacements[key]?"":replacements[key])}else t=!0;currentEvent=e,currentHoverKey=geokey+"-"+year+"-"+indic,!0!==t&&(tooltip.innerHTML='<div class="map-tooltip-anchor"></div><div class="map-tooltip-tip"></div>'+t,tooltip.className="map-tooltip"),position(e.x,e.y)}else settings.persist||(currentHoverKey&&(tooltip.className=tooltip.className.replace("map-tooltip","map-hidden-tooltip map-tooltip")),currentEvent=currentHoverKey=null)}function initialize(t){map=t,(layer=document.createElement("div")).className="map-highlight-layer",layer.style.position="absolute",layer.style.top=0,layer.style.left=0,(tooltip=document.createElement("div")).className="map-hidden-tooltip map-tooltip",tooltip.style.position="absolute",tooltip.style.pointerEvents="none",layer.appendChild(tooltip),datamanager=map.state().data(),settings.parent?settings.parent.appendChild(layer):map.panes().appendChild(layer),settings.latest=map.settings().latest,map.listen("indicator",function(t){var e=datamanager.indicators[t];e&&e.hover_label&&(settings.template=e.hover_label),currentIndicator=t}),map.listen("year",function(t){currentYear=t,"none"!=tooltip.style.display&&currentEvent&&onHover(currentEvent)}),map.listen("bounds",function(){currentHoverKey=currentEvent=null,tooltip.className="map-hidden-tooltip map-tooltip"}),map.listen("hover",onHover)}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Info=function(t){var e,i,a,r,n={},o={},s=0,l=[],d=1,c=0,p=0,h=0,u=0,m={resizing:!1,zooming:!1,resized:!1},f=new mw.Dispatcher,g=mw.support.extend(t||{},{pin:"<div class='pin'></div>",events:{click:!0,hover:!1,add:!1,delete:!1,move:!1},visible:!0,width:null,height:null});return e={init:function(t){i=t,(a=document.createElement("div")).className="map-info-layer",a.style.position="absolute",a.style.top=0,a.style.left=0,t.settings.busy,g.visible||(a.style.display="none");g.events.click&&mw.support.attachEvent(a,"click",b);g.events.hover&&(mw.support.attachEvent(a,"mouseout",y),mw.support.attachEvent(a,"mouseover",x));g.parent?g.parent.appendChild(a):i.panes().appendChild(a);i.listen("bounds",k),i.listen("size",w),i.listen("ready",function(){for(var t in l)T(l[t])}),i.listen("resizestart",function(t){m.resizing=!0,m.resized=!1!==t,m.resized&&(a.style.display="none")}),i.listen("resizeend",function(t){m.resizing=!1,!g.visible||m.resized||m.zooming||(a.style.display="block")}),i.listen("zoomstart",function(){m.zooming=!0,a.style.display="none"}),i.listen("zoomend",function(){m.zooming=!1,!g.visible||m.resizing||m.resized||(a.style.display="block")})},toggle:function(t){return void 0===t&&(t=!g.visible),g.visible=t,a&&(a.style.display=t?"block":"none"),t},set:function(t){mw.support.extend(t,g)},destroy:function(){f.destroy(),g.events.click&&mw.support.removeEvent(a,"click",b),g.events.hover&&(mw.support.removeEvent(a,"mouseover",x),mw.support.removeEvent(a,"mouseout",y))},add:T,clear:function(){a&&(a.innerHTML=""),n={},o={},l=[]},listen:function(t,e){f.register(t,e)},unlisten:function(t,e){f.remove(t,e)},edit:function(t){t?(a||console.log("Info-layer: cannot enable editing on un-initialized layer"),a&&mw.support.attachEvent(a,"mousedown",v),a.style.width="100%",a.style.height="100%"):(a&&mw.support.removeEvent(a,"mousedown",v),a.style.width="",a.style.height="")}};function v(t){var e=(t=t||window.event).target||t.srcElement,r=e.id;if("map-info-layer"==e.className){if(g.events.add instanceof Function){var s=i.xy2xy(t.offsetX,t.offsetY);mw.support.extend(i.xy2latlng(t.offsetX,t.offsetY),s),g.events.add({position:s},i)}}else if(t.ctrlKey)n[r]&&g.events.delete instanceof Function&&(g.events.delete(n[r]),i&&(a.removeChild(o[r]),delete o[r],delete n[r]));else if(g.events.move instanceof Function){var l=o[r],d=t.pageX-l.offsetLeft-t.offsetX,c=t.pageY-l.offsetTop-t.offsetY;function p(t){t=t||window.event,l.style.left=t.pageX-d+"px",l.style.top=t.pageY-c+"px",mw.support.preventDefault(t)}mw.support.attachEvent(document,"mousemove",p),mw.support.attachEvent(document,"mouseup",function t(e){e=e||window.event,mw.support.removeEvent(document,"mousemove",p),mw.support.removeEvent(document,"mouseup",t),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault),mw.support.preventDefault(e);var a=n[r],o=e.pageX-d,s=e.pageY-c;a.position=a.position.hasOwnProperty("lat")?i.xy2latlng(o,s):i.xy2xy(o,s),g.events.move(a,i)}),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault)}}function b(t){var i=(t=t||window.event).target||t.srcElement;if(i!=a){var r=i.getAttribute("id");f.dispatch(e,"click",r)}}function x(t){var i=(t=t||window.event).target||t.srcElement;if(i!=a){var n=i.getAttribute("id"),o="follow"==g.events.hover;if(n!=r||n&&o){var s={target:e,pin:n};if(o){var l=mw.support.mousepos(t);s.x=l.x,s.y=l.y}else s.x=i.offsetLeft+.5*i.offsetWidth,s.y=i.offsetTop+.5*i.offsetHeight;f.dispatch(e,"hover",s),r=n}}}function y(t){r=null,f.dispatch(e,"hover",null)}function w(){0==h&&(h=g.width||i.width(),u=g.height||i.height());var t=i.width(),e=i.height();for(var a in n){var r=n[a],s=o[a];if(r.position.x)var l={x:d*(r.position.x/h*t+c),y:d*(r.position.y/u*e+p)};else l=i.latlng2xy(r.position.lat,r.position.lng||r.position.lon);s.style.display=l.x>0&&l.y>0&&l.x<t&&l.y<e?"block":"none",s.style.left=l.x+"px",s.style.top=l.y+"px"}}function k(t){d=t.zoom,c=t.offset.x,p=t.offset.y,w()}function M(t){for(var e in t)T(t[e])}function T(t){if(i&&i.ready())if("string"!=typeof t){var e=t.pin||g.pin,r=document.createElement("div");if(r.innerHTML=e,1!=r.firstChild.nodeType?a.appendChild(r):a.appendChild(r=r.firstChild),r.id=t.id||"pin"+s++,t.title&&(r.title=t.title),r.style.position="absolute",t.position.x)r.style.left=d*(t.position.x+c)+"px",r.style.top=d*(t.position.y+p)+"px";else{var h=i.latlng2xy(t.position.lat,t.position.lng||t.position.lon);r.style.left=h.x+"px",r.style.top=h.y+"px"}n[r.id]=t,o[r.id]=r}else mw.support.ajax({url:t,success:M});else l.push(t)}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Labels=function(t){var e,i,a,r={},n={resizing:!1,zooming:!1,resized:!1},o=mw.support.extend(t||{},{type:"width",items:null,sizes:[100,150],visible:!0});return{init:function(t){a=(e=t).state().data(),(i=document.createElement("div")).className="map-label-layer",i.style.position="absolute",i.style.top=0,i.style.left=0,o.visible||(i.style.display="none");o.parent?o.parent.appendChild(i):e.panes().appendChild(i);e.listen("bounds",l),e.listen("size",l),e.listen("region",s),e.listen("ready",s),e.listen("resizestart",function(t){n.resizing=!0,n.resized=!1!==t,i.style.display="none"}),e.listen("resizeend",function(t){n.resizing=!1,o.visible&&!n.zooming&&(l(),i.style.display="block")}),e.listen("zoomstart",function(){n.zooming=!0,i.style.display="none"}),e.listen("zoomend",function(){n.zooming=!1,o.visible&&!n.resizing&&(i.style.display="block")})},toggle:function(t){return void 0===t&&(t=!o.visible),o.visible=t,i&&(i.style.display=t?"block":"none"),t},set:function(t){mw.support.extend(t,o)}};function s(){var t=o.items||e.items();i.innerHTML="",r={};for(var n=0;n<t.length;n++){var s=t[n],l=a?a.geoitems[s]:{label:s},d=document.createElement("div");d.className="map-label",d.style.position="absolute",d.style.pointerEvents="none",d.setAttribute("data-label",l.label),d.setAttribute("data-id",s),i.appendChild(d),r[s]=d}}function l(t){var i=e.width(),a=e.height(),n=o.sizes,s=n.length,l=o.type instanceof Function?o.type:e[o.type];for(var d in r){var c=r[d],p=e.center(d),h=l(d);c.style.display=!isNaN(h)&&!1!==h&&void 0!==h&&p.x>0&&p.y>0&&p.x<i&&p.y<a?"block":"none";for(var u=0;u<s&&!(n[u]>h);u++);c.setAttribute("data-size",u),c.style.left=p.x+"px",c.style.top=p.y+"px"}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Legend=function(t){var e;return{init:function(i){(e=document.createElement("div")).className="map-legend",t.parent?t.parent.appendChild(e):i.panes().appendChild(e),i.listen("legend",function(t){var i="";for(var a in t){if(t[a].label&&""!=t[a].label)i+='<div class="map-legend-item"><div class="map-legend-swatch"',i+=' style="background-color: '+(t[a].color||t[a].cssColour)+'"></div>',i+=t[a].label,i+="</div>"}e.innerHTML=i})}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Slider=function(t){"ontouchstart"in document.documentElement||navigator.maxTouchPoints;var e,i,a,r=t&&t.hasOwnProperty("range"),n=mw.support.extend(t||{},{indicator:!0,orientation:"horizontal",play:!1,padding:{before:0,after:0},range:{minimum:1980,maximum:(new Date).getFullYear()}});return{init:function(t){var o,s;if((e=document.createElement("div")).className="year-slider",a=t.state().data(),n.parent?n.parent.appendChild(e):t.panes().appendChild(e),i=new mw.Slider(e,n),n.play){function l(){var e=!0===n.play?5:n.play;if("play-button"==o.className){if(t.play)t.play();else{if(n.range.minimum==1/0)return;n.value==n.range.maximum&&(n.value=n.range.minimum-1),function a(){n.value<n.range.maximum?(n.value++,t.year(n.value),i.set(n.value),s=setTimeout(a,1e3*e)):o.className="play-button"}()}o.className="stop-button"}else t.stop?t.stop():clearTimeout(s),o.className="play-button"}(o=document.createElement("div")).className="play-button",e.appendChild(o),mw.support.attachEvent(o,"mousedown",l),mw.support.attachEvent(o,"touchstart",l)}i.listen("update",function(e){t.year(e)}),n.value?t.year(n.value):t.year(i.value()),n.indicator&&t.listen("indicator",function(t){var e=a.indicators[t];if(e){var o=n.range.minimum,s=n.range.maximum,l=1;(!r||e.statistics.range.from<o)&&(o=e.statistics.range.from),(!r||e.statistics.range.to>s)&&(s=e.statistics.range.to),e.statistics.frequency>1&&(l=4==e.statistics.frequency?"Q":"M"),i.range(o,s,l)}}),t.listen("year",function(t){i.set(t),o&&t==n.range.maximum&&(o.className="play-button")})},range:function(t,e,a){n.range.minimum=t,n.range.maximum=e,a&&(n.range.step=a),i&&i.range(t,e,a)},value:function(){return i?i.value():n.range.maximum},destroy:function(){i.destroy(),e&&(e.parentNode&&e.parentNode.removeChild(e),delete e)}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Tiles=function(t){var e,i,a,r,n,o=0,s={x:0,y:0},l=new mw.Dispatcher,d=mw.support.extend(t||{},{visible:!0,zoom:2,style:null,fade:!0,background:"#b3d1ff",center:{lat:0,lng:0}});return{init:function(t){e=t,(i=document.createElement("div")).className="map-tile-layer",i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="100%",i.style.height="100%",a=e.settings("speed").zoom,d.visible?(e.toggleClass("tile-layer-active",!0),p()):i.style.display="none"},toggle:function(t){if(void 0===t&&(t=!("none"!=i.style.display)),d.visible!=t)return d.visible=t,i&&(i.style.display=t?"block":"none"),e&&(e.toggleClass("tile-layer-active",t),e.set({speed:{zoom:d.visible?.001:a}}),d.visible?r?(e.projection(c),g()):p():e.projection(!1)),t},set:function(t){mw.support.extend(t,d)},listen:function(t,e){l.register(t,e)},unlisten:function(t,e){l.remove(t,e)}};function c(t,e){var i=Math.sin(t*Math.PI/180);i<-.9999&&(i=-.9999),i>.9999&&(i=.9999);var a=o+e*(2*o/360),r=o+.5*Math.log((1+i)/(1-i))*(-2*o/(2*Math.PI));return{x:a-s.x,y:r-s.y}}function p(){r=new google.maps.Map(i,{disableDefaultUI:!0,backgroundColor:d.background,minZoom:1,center:d.center,zoom:d.zoom}),d.style&&(d.style instanceof Object?(r.mapTypes.set("custom",new google.maps.StyledMapType(d.style,{name:"Custom"})),r.setMapTypeId("custom")):mw.support.ajax({url:d.style,success:function(t){"string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t)),r.mapTypes.set("custom",new google.maps.StyledMapType(t,{name:"Custom"})),r.setMapTypeId("custom")}})),(n=new WrapOverlay).setMap(r),google.maps.event.addListenerOnce(r,"bounds_changed",h),google.maps.event.addListener(r,"resize",function(){setTimeout(function(){h(!0)},0)}),e.set({speed:{zoom:d.visible?.001:a}}),e.projection(c),d.parent?d.parent.appendChild(i):e.panes(mw.map.layers.BELOW).appendChild(i),e.listen("zoomstart",m),e.listen("zoomend",g),e.listen("pan",u)}function h(t){if(d.visible){o=256*Math.pow(2,r.getZoom()-1),s={x:0,y:0};var a=r.getBounds();if(a){s=c(a.getNorthEast().lat(),a.getSouthWest().lng());var l=n.getProjection();if(l){var p=l.getWorldWidth(),u=l.fromLatLngToContainerPixel(a.getSouthWest()).x,m=l.fromLatLngToContainerPixel(a.getNorthEast()).x;u<0&&s.x+i.clientWidth>p?s.x-=p:p<i.clientWidth&&(m+p>i.clientWidth&&u>p/2&&(m-=p),s.x-=m)}e.projection()?t||google.maps.event.trigger(r,"resize"):(r.setZoom(r.getZoom()-1),google.maps.event.addListenerOnce(r,"bounds_changed",h))}}}function u(t){r.panBy(-t.x,-t.y),s.x-=t.x,s.y-=t.y}function m(){d.visible&&d.fade&&(e.panes().style.opacity=0)}function f(t){var a,n;if(t){var o=e.box(t);a={lat:o[3],lng:o[0]},n={lat:o[1],lng:o[2]}}else a=e.xy2latlng(0,i.clientHeight,!0),n=e.xy2latlng(i.clientWidth,0,!0);a=new google.maps.LatLng(a.lat,a.lng,!0),n=new google.maps.LatLng(n.lat,n.lng,!0);var s=new google.maps.LatLngBounds(a,n),l=s.getCenter();r.setCenter(l),r.setZoom(function(t,e){var a=256,r=256;function n(t){var e=Math.sin(t*Math.PI/180),i=Math.log((1+e)/(1-e))/2;return Math.max(Math.min(i,Math.PI),-Math.PI)/2}function o(t,e,i){return Math.floor(Math.log(t/e/i)/Math.LN2)}var s=t.getNorthEast(),l=t.getSouthWest(),d=Math.abs((n(s.lat())-n(l.lat()))/Math.PI),c=s.lng()-l.lng(),p=(c<0?c+360:c)/360,h=o(i.clientHeight,a,d),u=o(i.clientWidth,r,p);return Math.min(h,u,21)}(s)),h(),d.fade&&google.maps.event.addListenerOnce(r,"idle",function(){e.panes().style.opacity=1})}function g(t){setTimeout(function(){f(t)},0)}},window.google instanceof Object){function WrapOverlay(){}WrapOverlay.prototype=new google.maps.OverlayView,WrapOverlay.prototype.onAdd=function(){},WrapOverlay.prototype.draw=function(){},WrapOverlay.prototype.onRemove=function(){}}mw=window.mw||{},mw.chart=mw.chart||{},mw.Chart=function(t,e){var i,a,r,n,o,s,l,d,c,p,h,u,m,f,g,v,b,x,y,w,k,M,T,S=!0,C=!1,A={},L={},E={x:{},y:{}},z={title:null,exporting:{enabled:!1},chart:{animation:!1,spacingTop:10,spacingRight:12,spacingBottom:25},credits:{enabled:!1},tooltip:{enabled:!1},legend:{enabled:!1},plotOptions:{pie:{},column:{minPointLength:1},series:{center:["50%","50%"],connectNulls:!0,dataLabels:{enabled:!1},stickyTracking:!1,states:{},marker:{enabled:!1},point:{events:{mouseOver:j,mouseOut:j}}}},xAxis:{title:null,startOnTick:!1,endOnTick:!1,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,minorTickInterval:null,tickWidth:0,labels:{enabled:!1}},yAxis:{title:null,startOnTick:!1,reversedStacks:!1,endOnTick:!1,lineWidth:0,gridLineWidth:0,tickWidth:0,labels:{enabled:!1}}},P={line:"line",bar:"bar",column:"column",donut:"pie",pie:"pie",pyramid:"bar",bubble:"bubble"},O=new mw.Dispatcher,I=mw.support.extend(mw.chart.defaults||{});I=mw.support.extend(e||{},I);var N=mw.support.extend(I,{type:"line",indicator:!1,geoitem:!1,year:!1,legend:!1,hover:"<div class='label'>{LABEL}</div><div class='value'>{VALUE}</div>",format:"%.02w",state:{manager:void 0,data:void 0,indicator:!0,year:!0,geoitem:!0},latest:!1,busy:null,background:"#ffffff",text:{charwidth:8.5,color:"#000000",font:"Arial",size:"10px",weight:"normal"},xaxis:{type:"timeseries",labels:5,multiples:!1,overlap:"hide",range:{minimum:"series",maximum:"series",extend:!0},format:null,text:null,offset:0},yaxis:{width:"auto",position:"left",labels:{prettify:!0,maximum:5,align:"default"},range:{minimum:"series",maximum:"series",zero:!0},format:null,text:null,offset:0,count:1},future:{from:!1,background:"#f0f0f0",style:"dash"},colors:!1,stacked:!1,line:{width:1,style:"solid",marker:!1,radius:3,secondary:"#cccccc",hover:{width:2,marker:"circle",radius:3}},column:{gradient:!1,hover:{color:"blue",background:"#f0f0f0"}},bar:{gradient:!1,hover:{color:"lighten",background:"#f0f0f0"}},donut:{radius:"60%"},pyramid:{},bubble:{radius:{minimum:5,maximum:"40%"},color:"region"},grid:{horizontal:{first:!0,last:!0,major:{width:1,color:"#dadada",style:"solid"},minor:{width:0,major:5,color:"#dadada",style:"solid"}},vertical:{first:!0,last:!0,major:{width:1,color:"#dadada",style:"solid"},minor:{width:0,major:10,color:"#dadada",style:"solid"}}},ticks:{width:1,color:"#dadada",length:7,major:!1,minor:!1,offset:0},export:{renderer:"https://www.mappingworlds.nl/export/",size:void 0,delay:1,template:void 0,selector:void 0,sheet:{type:"indicator",title:"id"},parameters:{}},options:{}});if(a="string"==typeof t?document.getElementById(t):t,(r=document.createElement("div")).style.position="relative",r.style.width="100%",r.style.height="100%",r.className="chart-wrapper",a.appendChild(r),a.setAttribute("data-chart-type",e.type),(n=document.createElement("div")).style.overflow="hidden",n.style.position="relative",n.className="chart-container",r.appendChild(n),N.state.manager instanceof mw.StateManager)m=N.state.manager;else{var D=N.state.data||N.data;m=D instanceof mw.StateManager?D:new mw.StateManager({data:D}),null!==N.busy||!D||D instanceof mw.DataManager||(N.busy=!0)}N.busy&&(!0===N.busy&&(N.busy=document.getElementById("busy"),N.busy||(N.busy=document.body.appendChild(document.createElement("div")),N.busy.id="busy")),N.busy.style.display="block");var B,H,R={geoitem:"indicator",indicator:"geoitem"};for(var F in R)if(("bubble"!=N.type||"indicator"!=F)&&N[F]instanceof Array){if("timeseries"==N.xaxis.type||N.xaxis.type==R[F]){for(var W=0;W<N[F].length;W++)L[N[F][W]]=!0;k=L}"string"==typeof N.hover&&(N.hover=N.hover.replace("{LABEL}","{"+F.toUpperCase()+"}"))}if(N.hover)if(N.hover.init instanceof Function)s=N.hover;else{var X={template:N.hover};N.format&&(X.format=N.format),s=new mw.map.layers.Highlight(X)}N.legend&&(N.legend.init instanceof Function?l=N.legend:((B=N.legend instanceof Object?mw.support.extend(N.legend,{}):{interactive:N.legend}).state&&(B.state=N.state),l=new mw.chart.Legend(B)));("bubble"==N.type&&("timeseries"==N.xaxis.type&&N.xaxis.type,N.grid&&(N.grid.horizontal.first=!0,N.grid.horizontal.last=!0,N.grid.vertical.first=!0,N.grid.vertical.last=!0)),N.values&&(A=N.values),"bar"!=P[N.type]&&"column"!=P[N.type]&&(N.stacked=!1),e.xaxis&&e.xaxis.labels&&N.xaxis.labels!==e.xaxis.labels&&(N.xaxis.labels=e.xaxis.labels),function(){Highcharts.setOptions({chart:{style:K(N.text)}}),"donut"==N.type&&(N.xaxis.type=N.indicator instanceof Array?"geoitem":"indicator",z.plotOptions.series.innerSize=N.donut.radius);"pyramid"==N.type&&(z.plotOptions.series.stacking="normal");"bubble"!=N.type||N.xaxis.labels instanceof Object||(N.xaxis.labels=N.yaxis.labels);!0===N.stacked&&(N.stacked="normal");var t=P[N.type];"pie"==t&&(z.chart.margin=[0,0,0,0]);if("bar"==t){var e=N.options.plotOptions?N.options.plotOptions.bar:null;e&&e.hasOwnProperty("groupPadding")||(z.plotOptions.series.groupPadding=0),e&&e.hasOwnProperty("pointPadding")||(z.plotOptions.series.pointPadding=0)}"bar"!=t&&"column"!=t||N.stacked&&(z.plotOptions[t]||(z.plotOptions[t]={}),z.plotOptions[t].stacking=N.stacked);z.plotOptions.series.borderWidths="pie"==t?.5:0,z.chart.type=t,z.chart.renderTo=n,z.chart.plotBackgroundColor=N.background,z.xAxis.type=N.xaxis.type,z.yAxis.type=N.yaxis.type,z.yAxis.opposite="right"==N.yaxis.position,"bar"==t?(z.yAxis.opposite=!z.yAxis.opposite,"bar"==N.type&&"auto"!=N.yaxis.width&&(z.xAxis.offset=N.yaxis.width)):"auto"!=N.yaxis.width&&(z.yAxis.offset=N.yaxis.width);N.xaxis.offset&&(z.xAxis.offset=N.xaxis.offset);N.yaxis.offset&&(z.yAxis.offset=N.yaxis.offset);"timeseries"!=N.xaxis.type&&(z.plotOptions.series.grouping=!1);var i=N.line.style;i instanceof Array&&(i=i[i.length-1]);z.plotOptions.series.dashStyle=i;var a=N.line.width;a instanceof Array&&(a=a[a.length-1]);"bubble"!=N.type&&(z.plotOptions.series.lineWidth=a);var r=z.plotOptions.series.marker;if("bubble"==N.type)2==N.indicator.length?(r.enabled=!0,r.symbol="circle",r.lineWidth=1,r.radius=parseInt(N.bubble.radius.minimum)):(r.lineWidth=.5,r.lineColor="#fff",r.fillOpacity=1,z.plotOptions.series.minSize=N.bubble.radius.minimum,z.plotOptions.series.maxSize=N.bubble.radius.maximum),r.states={hover:{radiusPlus:1,lineWidth:2,lineWidthPlus:0,lineColor:"#fff"}},z.plotOptions.series.states={hover:{halo:{opacity:1,size:2==N.indicator.length?9:3}}};else{N.line.marker&&(r.enabled=!0),N.line.hover&&N.line.hover.marker&&(r.states={hover:{enabled:!0,radius:N.line.hover.radius,fillColor:null}},"circle"==N.line.hover.marker&&(r.states.hover.lineWidth=a,r.states.hover.fillColor=N.background));var o=N.line.marker;!o&&N.line.hover&&(o=N.line.hover.marker),"circle"==o||"disc"==o?("circle"==o?(r.radius=N.line.radius,r.lineWidth=a/2,r.fillColor=N.background):r.radius=N.line.radius,r.symbol="circle",r.lineColor=null):r.symbol=o}N.future&&N.future.from&&(z.xAxis.plotBands=[{color:N.future.background||"#c0c0c0",from:N.future.from,to:999999}],T="line"==N.type&&N.future.style!=N.line.style&&N.future.from);if("line"==N.type&&N.line.hover){T&&(z.plotOptions.series.events={mouseOut:_});var s=N.line.hover.width;s instanceof Array&&(s=s[s.length-1]),z.plotOptions.series.states.hover={lineWidth:s}}N.ticks&&N.ticks.minor&&(z.xAxis.minorTickInterval=1,z.xAxis.minorTickWidth=1,z.xAxis.minorTickWidth=N.ticks.minor.width,z.xAxis.minorTickLength=N.ticks.minor.length,z.xAxis.minorTickColor=N.ticks.minor.color,N.ticks.length instanceof Array&&(z.xAxis=[z.xAxis,mw.support.extend(z.xAxis,{})]));2==N.yaxis.count&&(z.yAxis=[z.yAxis,mw.support.extend(z.yAxis,{})],z.yAxis[1].opposite=!z.yAxis[1].opposite);if(N.colors)if(N.colors instanceof Function);else if(N[N.type].gradient){z.colors=[];for(var l="lighten"==N[N.type].gradient?.1:-.1,d=0;d<N.colors.length;d++){var c=N.colors[d],p=mw.support.rgb2hsl(mw.support.css2rgb(c));p[2]=Math.max(0,Math.min(1,p[2]+l)),p=mw.support.rgb2css(mw.support.hsl2rgb(p)),z.colors.push({linearGradient:{x1:0,y1:0,x2:1,y2:0},stops:[[0,c],[1,p]]})}}else z.colors=N.colors;else{z.colors=[];for(var h=0;h<50;h++){var u=mw.support.hsl2rgb([Math.random(),.6,.6]);z.colors.push(mw.support.rgb2css(u))}}}(),N.state.year&&!N.year&&"bubble"!=N.type&&m.listen("year",Y),N.year&&!0!==N.year&&!N.year.init&&(g=N.year),N.state.indicator&&m.listen("indicator",q),N.state.geoitem&&m.listen("geoitem",V),(f=m.data())&&f.listen instanceof Function?(S=!1,f.listen("ready",function(t){S=!0,setTimeout($,0)})):setTimeout($,0),N.resize)&&mw.support.attachEvent(window,"resize",function(){clearTimeout(H),(n.clientWidth||n.offsetWidth)==x&&(n.clientHeight||n.offsetHeight)==y||(H=setTimeout(G,100))});return i={ready:function(){return S},destroy:function(){N.state.year&&m.unlisten("year",Y),N.state.indicator&&m.unlisten("indicator",q),N.state.geoitem&&m.unlisten("geoitem",V),O.destroy(),o&&o.destroy(),s&&s.destroy&&s.destroy(),l&&l.destroy&&l.destroy(),d&&d.destroy&&d.destroy(),a.innerHTML=""},panes:function(){return r},width:function(){return o?o.chartWidth:n.clientWidth||n.offsetWidth},height:function(){return o?o.chartHeight:n.clientHeight||n.offsetHeight},values:function(t){A=t},year:function(t){N.state.year&&!N.year&&"bubble"!=N.type?m.set("year",t):Y(t)},redraw:function(t){t&&G(!0),U()},add:function(t,e,i){var a;!0!==e&&!1!==e||void 0!==i||(i=e,e=null),a="bubble"==N.type?"geoitem":N.indicator instanceof Array&&"indicator"!=N.xaxis.type?"indicator":"geoitem",N.state[a]&&!e?m.set(a,t):(e?A[t]=e:A[t]||"indicator"!=a||(N.indicator.push(t),V(N.geoitem)),L[t]=!0,(i||void 0===i)&&U())},remove:function(t,e){L[t]=!1,O.dispatch(i,"series",L),(e||void 0===e)&&U()},series:function(t,e){var a={};for(var r in L)L[r]&&-1==t.indexOf(r)&&(a[r]=!1);for(var n=0;n<t.length;n++)a[t[n]]=!0;O.dispatch(i,"series",L=a),(e||void 0===e)&&U()},state:function(){return m},position:function(t,e){return o?{x:o.xAxis[0].toPixels(t),y:o.yAxis[0].toPixels(e)}:{x:void 0,y:void 0}},set:function(t){mw.support.extend(t,N),t.xaxis.labels&&(N.xaxis.labels=t.xaxis.labels),(t.xaxis&&t.xaxis.range||t.yaxis&&t.yaxis.range)&&(M=!1),U&&U()},settings:function(t){function e(){var t=[];for(var e in L)L[e]&&t.push(e);return t}return"geoitem"==t&&N.geoitem instanceof Array?e():"indicator"==t?N.indicator instanceof Array&&"bubble"!=N.type?"indicator"==N.xaxis.type?N[t]:e():v||N[t]:t?N[t]:N},type:function(t){return t?P[N.type]:N.type},color:function(t){if(N.legend.override&&N.legend.override[t]&&N.legend.override[t].color)return N.legend.override[t].color;if(o){var e=o.get(t);if(e){var i=e.color;return i&&"string"!=typeof i?i.stops[0][1]:i}}return"#d5d7da"},highlight:function(t,e){if(o){function i(e){if(e instanceof Array){var i=0;for(var a in L){if(a==t||i==e.length-1)break;i++}return e[i]}return e}if(c){var a=i(N.line.width);if("line"==N.type)(d=o.get(c))&&d.graph&&(d.graph.attr("stroke",d.color),d.graph.attr("stroke-width",d.graph.stroke==N.line.secondary?a/2:a));if(p&&p.graph&&(p.graph.attr("stroke",p.color),p.graph.attr("stroke-width",p.graph.stroke==N.line.secondary?a/2:a)),h)for(var t in h){if((d=o.get(t))&&d.graph&&(d.graph.attr("stroke",h[t]),d.graph.attr("stroke-width",a/2)),T)(d=o.get(t+"-future"))&&d.graph&&(d.graph.attr("stroke",h[t]),d.graph.attr("stroke-width",a/2))}}var r=o.get(t);if(r){c=t;var n=i(N.line.hover.width);"line"==N.type&&r.graph&&(!e||e instanceof Array||r.graph.attr("stroke",e),r.graph.attr("stroke-width",n)),T&&(p=o.get(t+"-future"))&&p.graph&&(!e||e instanceof Array||p.graph.attr("stroke",e),p.graph.attr("stroke-width",n))}if(e instanceof Array){h={};for(var l=0;l<e.length;l++){var d;t=e[l];if((d=o.get(t))&&d.graph)if(h[t]=d.graph.attr("stroke"),d.graph.attr("stroke",N.line.secondary),T)(d=o.get(t+"-future"))&&d.graph&&d.graph.attr("stroke",N.line.secondary)}}}s&&s.hide()},export:function(t,e,r){return t=t||"png",void 0==r&&e instanceof Object?(r=e,e=void 0):r=r||{},!("png"==t&&!N.export.renderer)&&("png"==t?function(t,e){var r=mw.support.extend(N.export,{});mw.support.extend(J(),r.parameters),mw.support.extend(e,r),r.download=!0,r.format="png",r.template?r.content="":(r.content="<style>"+mw.support.captureCSS(a)+"</style>",r.content+="<style>.chart-legend-input, .chart-legend-action { display: none !important }</style>");var n=a.cloneNode(!0);n.style.height=i.height()+"px",r.content+=n.outerHTML,!1===r.selector?delete r.selector:r.template||void 0!=r.selector||(r.selector=".chart-wrapper");if(t&&!0===t)return mw.support.sendToServer(!0,N.export.renderer,r),!0;r.encoding="base64";var o=mw.support.sendToServer(!1,N.export.renderer,r);if(!t)return o;var s=window.open("",t),l=s.document,d=l.createElement("img");d.src="data:image/png;base64,"+o,l.body.appendChild(d)}(e,r):"xls"==t||"xlsx"==t||"csv"==t?function(t,e){var a=mw.support.extend(N.export,{});mw.support.extend(J(),a.parameters),mw.support.extend(e,a);var r,n,o=a.sheet.type;r="bubble"==N.type?"geoitem":"geoitem"==N.xaxis.type?"indicator":"geoitem";n="geoitem"==r?"indicator":"geoitem";var s={},l=[];for(var d in L)A instanceof Function?s[d]=func(d):s[d]=A[d],l.push(d);var c={},p=i.settings(n);if(r==o)var h=l,u=p instanceof Array?p:[p];else var h=p instanceof Array?p:[p],u=l;var m=a.sheet.title,g="id"==m?"label":m;for(var v in h){var b=h[v];if(!c[b]){var x="id"!=m&&f?f[o+"s"][b][m]:b,y=f&&f[o+"s"][b]?f[o+"s"][b].label:b;c[b]={title:y||x,values:{}}}var w=r==o?n:r,k=c[b].values;for(var M in u){var T=u[M],S=f&&f[w+"s"][T]||{},x=S[g]||T;k[T]||(k[T]={values:s[r==o?b:T],title:x})}}a.content=c,a.download=!0,a.format=t,a.sheet=a.sheet.type,mw.support.sendToServer(!0,N.export.renderer,a)}(t,r):function(t,e){var i=J();e.parameters&&mw.support.extend(e.parameters,i);i.title&&(i={title:{text:i.title}});var a=o.getSVG(i);if(!0===t)return mw.support.sendToServer(!0,N.export.renderer,{format:"svg",download:!0,content:a}),!0;if(t){var r=window.open("",t),n=r.document;return n.body.innerHTML=a,!0}return a}(e,r))},listen:function(t,e){"ready"==t&&S&&C?e():O.register(t,e)},unlisten:function(t,e){O.remove(t,e)}};function G(t){if(o){var e=n.clientWidth||n.offsetWidth,i=n.clientHeight||n.offsetHeight;if(e){o.setSize(t||"height"!==N.resize?e:null,t||"width"!==N.resize?i:null,!1),x=e,y=i;var a=Q();a!==M.step&&(Z(M.step=a),o.redraw())}else clearTimeout(H),H=setTimeout(G,100)}for(var s=r.getBoundingClientRect().top,l=n.getBoundingClientRect().top,d=0;d<r.children.length;d++)r.children[d]!==n&&(r.children[d].style.top=l-s+"px")}function Y(t){g=t,"timeseries"!=N.xaxis.type&&U(),O.dispatch(i,"year",t)}function j(t){if(clearTimeout(u),"bubble-dummy"!=this.id)if("mouseOut"==t.type)u=setTimeout(function(){O.dispatch(i,"hover",null),o.xAxis[0].removePlotBand("bar-hover")},10);else{var e={x:o.plotLeft,y:o.plotTop,point:this,target:i},a=N[N.type].hover;if(a&&a.background){var r=o.xAxis[0],n=this.barX+o.plotLeft;r.addPlotBand({id:"bar-hover",color:a.background,from:r.toValue(n),to:r.toValue(n+Math.ceil(this.pointWidth+1)),zIndex:1})}if("bar"==P[N.type]?(e.x=o.plotWidth-this.plotY+o.plotLeft+(this.y<0?.5:-.5)*this.shapeArgs.height,e.y=o.plotHeight-this.barX-.5*this.pointWidth+1):this.tooltipPos?(e.x+=this.tooltipPos[0],e.y+=this.tooltipPos[1]):"column"==N.type?(e.x+=this.barX+.5*this.pointWidth+1,e.y+=this.plotY):(e.x+=this.plotX,e.y+=this.plotY),"pyramid"==N.type&&"geoitem"==N.xaxis.type?e.indicator=N[N.xaxis.type][this.y<0?0:1]:"bubble"==N.type?e.indicator=N.indicator[2]:N.indicator instanceof Array&&-1!=N.indicator.indexOf(this.category)?e.indicator=this.category:N.indicator instanceof Array&&"indicator"!=N.xaxis.type?e.indicator=this.name||this.series.name:v?e.indicator=v:N.indicator&&(e.indicator=N.indicator),"pyramid"==N.type&&"indicator"==N.xaxis.type?e.geoitem=N[N.xaxis.type][this.y<0?0:1]:N.geoitem instanceof Array&&-1!=N.geoitem.indexOf(this.category)?e.geoitem=this.category:N.geoitem instanceof Array&&"geoitem"!=N.xaxis.type?e.geoitem=this.name||this.series.name:b?e.geoitem=b:N.geoitem&&(e.geoitem=N.geoitem),"pyramid"==N.type){var s=e.indicator;e.indicator=e.geoitem,e.geoitem=s}"timeseries"==N.xaxis.type?e.year=this.year||this.x:e.year=g,this.total&&(e.total=this.total,e.percent=this.y/this.total*100),u=setTimeout(function(){O.dispatch(i,"hover",e)},10)}}function _(t){var e=this.userOptions.id,i=e.indexOf("-future"),a=o.get(-1==i?e+"-future":e.substr(0,i));a&&a.graph&&a.graph.attr("stroke-width",t.target.options.lineWidth)}function q(t){if(t)if(N.indicator instanceof Array&&"indicator"!=N.xaxis.type&&"bubble"!=N.type)L[t]=!L[t],U(),O.dispatch(i,"series",L);else{if(N.busy&&(N.busy.style.display="block"),!N.geoitem)return;f.load(t,function(){var e=f.indicators[t];if(N.busy&&(N.busy.style.display="none"),"pyramid"==N.type){A||(A={left:!1,right:!1});var i=N[N.xaxis.type];t==i[0]?A.left=e.values:A.right=e.values}else"bubble"==N.type?(A||(A=[]),N.indicator[0]==t&&(A[0]=e.values),N.indicator[1]==t&&(A[1]=e.values),N.indicator[2]==t&&(A[2]=e.values)):N.indicator instanceof Array?A[t]=e.values:A=e.values;v=t,U()})}else U()}function V(t){if(t)if(!(N.geoitem instanceof Array)||"geoitem"==N.xaxis.type&&N.indicator instanceof Array){if(!N.indicator)return;f.values({indicator:N.indicator,geoitem:t},function(e){if(N.busy&&(N.busy.style.display="none"),"pyramid"==N.type){A||(A={left:!1,right:!1});var i=N[N.xaxis.type];t==i[0]?A.left=e:(i[1]=t,A.right=e)}else N.geoitem instanceof Array?A[t]=e:A=e;b=t,U()})}else{if(t instanceof Array)for(var e=0;e<t.length;e++)L[t[e]]=!0;else L[t]=!0;U(),O.dispatch(i,"series",L)}else U()}function U(){if(A&&!w&&("pyramid"!=N.type||A.left&&A.right)&&("bubble"!=N.type||A[0]&&A[1])){if(!o){var t=mw.support.extend(N.options,z);"bubble"==t.chart.type&&2==N.indicator.length&&(t.chart.type="scatter"),f&&"bubble"==N.type&&(N.indicator[0]&&r.setAttribute("data-x-axis-title",f.indicators[N.indicator[0]].label),N.indicator[1]&&r.setAttribute("data-y-axis-title",f.indicators[N.indicator[1]].label),N.indicator[2]&&r.setAttribute("data-z-axis-title",f.indicators[N.indicator[2]].label)),(o=new Highcharts.Chart(t)).addSeries({id:"fix-empty",color:"#fff",visible:!1,data:[]}),O.dispatch(i,"initialized")}var n;if(A instanceof Function)for(var s in n=A,A={},L)A[s]=n(s);var h=1;M&&"series"!=N.xaxis.range.minimum&&"series"!=N.xaxis.range.maximum&&"series"!=N.yaxis.range.minimum&&"series"!=N.yaxis.range.maximum?M&&(h=M.step):(!function(){function t(t,e){return t?t instanceof Function?t(e):mw.support.format(t,e):e}function i(e,i,a,r){var n=!0,s=N.yaxis,l="logarithmic"==N[e.substr(0,1)+"axis"].type;if("dataset"==s.range.minimum){if(f)if("string"==typeof r){var d=f.indicators[r];(!l||s.range.minimum>0)&&(i.min=d.statistics.range.min)}else if(N.stacked&&(i.min=0,"percent"!==N.stacked))for(var c=0;c<r.length;c++){var d=f.indicators[r[c]],p=d.statistics.range.min;p<0&&p<i.min&&(i.min=p)}}else"series"!=s.range.minimum&&((!l||s.range.minimum>0)&&(i.min=s.range.minimum),0!=i.min&&(n=!1));if("dataset"==s.range.maximum){if(f)if("string"==typeof r){var d=f.indicators[r];i.max=d.statistics.range.max}else if(N.stacked)if("percent"==N.stacked)i.max=100;else{i.max=0;for(var c=0;c<r.length;c++){var d=f.indicators[r[c]];i.max+=d.statistics.range.max}}}else"series"!=s.range.maximum&&(i.max=s.range.maximum,n=!1);if(n&&s.range.zero&&"bubble"!=N.type&&(i.min>0&&!l?i.min=0:i.max<0&&(i.max=0)),"pyramid"==N.type){var h=Math.max(i.min,i.max);i={min:-h,max:h}}if(l&&i.min<=0&&(i.min=f&&f.indicators[r].statistics.range.min||.1),s.labels)if(s.labels.prettify)if(l){for(var u=mw.support.prettify_log(i.min,i.max,s.labels.maximum),c=0;c<u.length;c++)a[u[c]]=t(s.format||N.format,u[c]);i.min=u[0],i.max=u[u.length-1]}else{if(n)var u=mw.support.prettify(i.min,i.max,s.labels.maximum);else var u=[parseFloat(i.min),parseFloat(i.max),(i.max-i.min)/s.labels.maximum];if(u[2])for(var c=u[0];c<=u[1];c+=u[2]){var m="pyramid"==N.type?Math.abs(c):c;a[c]=t(s.format||N.format,m)}s.range.zero&&(a[0]=t(s.format||N.format,0)),i.min=u[0],i.max=u[1]}else if(s.labels instanceof Array)for(var c in s.labels){var m=s.labels[c];a[m]=m}else mw.support.extend(s.labels,a);"y"==e&&N.stacked&&"column"==N.type&&i.max<50&&o.update({plotOptions:{column:{minPointLength:0}}}),"bubble"!=N.type&&o[e.substr(0,1)+"Axis"]["y2"==e?1:0].setExtremes(i.min,i.max+Math.min(1,.01*i.max),!1)}E={x:{},y:{}},M={x:{min:1/0,max:-1/0},y:{min:1/0,max:-1/0}},("bubble"==N.type||2==N.yaxis.count)&&("bubble"==N.type&&(M.x2={min:1/0,max:-1/0}),M.y2={min:1/0,max:-1/0},E.y2={});var a=N.stacked&&("timeseries"==N.xaxis.type||N.indicator instanceof Array&&N.geoitem instanceof Array),r=a&&"timeseries"!=N.xaxis.type||"pyramid"==N.type||"bubble"==N.type?A:{dummy:A},n="bubble"==N.type;if(n)for(var s in L)if(L[s]){n=!1;break}var l={},c="timeseries"==N.xaxis.type;for(var p in r)if(2!=p){var h=r[p],u={},m=!1,v=0;for(var s in h){for(var b in N.stacked&&L[s]&&(u[s]=c?{}:{min:1/0,max:-1/0}),h[s]){if(c&&u[s]&&(u[s][b]={min:1/0,max:-1/0}),"dataset"==N.xaxis.range.minimum||L[s]||n){var x=parseInt(b),y="bubble"!=N.type||0==p?M.x:M.x2;x<y.min&&(y.min=x),x>y.max&&(y.max=x)}if("dataset"==N.yaxis.range.minimum||L[s]||n){var x=parseFloat(h[s][b]);if(y=N.stacked?c?u[s][b]:u[s]:"bubble"==N.type&&p>0||2==N.yaxis.count&&v>0?M.y2:M.y,N.stacked&&c){for(var w in h)w!=s&&("dataset"==N.yaxis.range.minimum||L[w])&&h[w]&&h[w][b]&&(x+=parseFloat(h[w][b]));m=!0}x<y.min&&(y.min=x),x>y.max&&(y.max=x)}}if(m)break;v++}if(N.stacked)if(y="bubble"==N.type&&p>0||2==N.yaxis.count&&v>0?M.y2:M.y,"percent"==N.stacked)y.min=0,y.max=100;else{for(var s in a&&(y={min:1/0,max:-1/0}),u)if(c)for(var b in u[s])u[s][b].min<0&&u[s][b].min<y.min&&(y.min=u[s][b].min),y.max==-1/0?y.max=u[s][b].max:y.max=Math.max(y.max,u[s][b].max);else u[s].min<0&&u[s].min<y.min&&(y.min=u[s].min),y.max==-1/0?y.max=u[s].max:a?y.max+=u[s].max:y.max=Math.max(y.max,u[s].max);y.max-Math.floor(y.max)<1e-5&&(y.max=Math.floor(y.max)),a&&(l[p]=y)}}if(a)for(var p in a&&(y={min:1/0,max:-1/0}),l){var y=l[p];y.min<0&&y.min<M.y.min&&(M.y.min=u[s].min),M.y.max=Math.max(M.y.max,y.max)}if(M.x.min==1/0||M.x2&&M.x2.min==1/0)return void(M=!1);if("timeseries"==N.xaxis.type){if("dataset"==N.xaxis.range.minimum){if(f&&"string"==typeof N.indicator){var k=f.indicators[N.indicator];M.x.min=k.statistics.range.from}}else"series"!=N.xaxis.range.minimum&&(M.x.min=N.xaxis.range.minimum);if("dataset"==N.xaxis.range.maximum){if(f&&"string"==typeof N.indicator){var k=f.indicators[N.indicator];M.x.max=k.statistics.range.to}}else"series"!=N.xaxis.range.maximum&&(M.x.max=N.xaxis.range.maximum);if(N.xaxis.labels){var T=parseInt(N.xaxis.labels);if(N.xaxis.labels instanceof Array)for(var S in N.xaxis.labels){var b=N.xaxis.labels[S];E.x[b]=b}else if(isNaN(T)&&"minmax"!=N.xaxis.labels)E.x=N.xaxis.labels;else{var C=M.x.min,z=M.x.max,O=1;C>99999?(C=Math.floor(C/100),z=Math.floor(z/100),O=12,T=1):C>9999&&(C=Math.floor(C/10),z=Math.floor(z/10),O=4,T=1),"minmax"==N.xaxis.labels?T=z-C:N.xaxis.range.extend&&(C-=C%T,M.x.min=C,z%T&&(z-=z%T-T,M.x.max=z));for(var b=C;b<=z;b+=T){var I=b;E.x[I]=N.xaxis.format?t(N.xaxis.format,b):b}N.xaxis.range.extend||E.x[M.x.max]||E.x[M.x.max-1]||N.xaxis.multiples&&M.x.max%T!=0||1==O&&(E.x[M.x.max]=N.xaxis.format?t(N.xaxis.format,M.x.max):M.x.max)}}var C=M.x.min,z=M.x.max;z>99999?(C=Math.floor(C/100)+(C%100-1)/12,z=Math.floor(z/100)+(z%100-1)/12):z>9999&&(C=Math.floor(C/10)+(C%10-1)/4,z=Math.floor(z/10)+(z%10-1)/4),o.xAxis[0].setExtremes(C,z,!1),o.xAxis.length>1&&o.xAxis[1].setExtremes(C,z,!1)}else"bubble"==N.type?(M.x.min=Math.max(M.x.min,M.x2.min),M.x.max=Math.min(M.x.max,M.x2.max)):N.xaxis.labels instanceof Object&&(E.x=N.xaxis.labels);if(N.year&&N.year.range||d){var D=d||N.year;N.xaxis.labels instanceof Array?D.range(N.xaxis.range.minimum,z=N.xaxis.range.maximum,1):D.range(M.x.min,z=M.x.max,M.x.min>99999?"M":M.x.min>9999?"Q":1),z<g&&(g=M.x.max)}if("bubble"==N.type)"dataset"!=N.xaxis.range.minimum&&"series"!=N.xaxis.range.minimum&&(M.x.min=N.xaxis.range.minimum),"dataset"!=N.xaxis.range.maximum&&"series"!=N.xaxis.range.maximum&&(M.x.max=N.xaxis.range.maximum);else if("timeseries"!=N.xaxis.type){var B=[],H=L,R="geoitem"==N.xaxis.type?"indicator":"geoitem";N.stacked&&e[R]instanceof Array&&(H=A);var F=document.createElement("textarea");for(var s in H)B.push(s),E.x.hasOwnProperty(s)||(E.x[s]=s,f&&("pyramid"==N.type||"donut"==N.type?F.innerHTML=f[R+"s"][s].label:F.innerHTML=f[N.xaxis.type+"s"][s].label,E.x[s]=F.value));o.xAxis[0].setCategories(B,!1)}"pie"!=P[N.type]&&("bubble"==N.type?(i("x",M.y,E.y,N.indicator[0]),i("y",M.y2,E.y2,N.indicator[1])):2==N.yaxis.count?(i("y",M.y,E.y,N.indicator[0]),i("y2",M.y2,E.y2,N.indicator[1])):i("y",M.y,E.y,N.indicator))}(),h=Q(),M&&(M.step=h,M.x.min>99999&&M.x.max>99999?g=mw.support.validateYear(g,12):M.x.min>9999&&M.x.max>9999?g=mw.support.validateYear(g,4):M.x.min<1e4&&M.x.max<1e4&&(g=mw.support.validateYear(g,1)),O.dispatch(i,"year",g)));var u=!1,m=!1,v=N.legend.override||{};if("timeseries"==N.xaxis.type){var b=0;for(var s in L){var x=o.get(s);if(!(bt=v[s]&&v[s].color?v[s].color:null)&&N.colors instanceof Function&&(bt=N.colors(s)),L[s]){var y=[],S=[],C=!0,I=0,D=0;if(M.x){var B=M.x.min,H=M.x.max,R=1;B>99999?(B=Math.floor(B/100),H=Math.floor(H/100),R=12):B>9999&&(B=Math.floor(B/10),H=Math.floor(H/10),R=4);for(var F=B;F<=H;F++)for(var W=1;W<=R;W++){var X=F,G=F;R>1&&(X+=(W-1)/R,G+=(12==R&&W<10?"0":"")+W);var Y=A[s]?A[s][G]:null;(!T||F<=T)&&y.push({x:+X,y:void 0==Y?null:Y,year:G}),T&&F>=T&&S.push({x:+X,y:void 0==Y?null:Y,year:G}),void 0!=Y&&null!=Y&&(C=!1,I++,D=y.length-1)}}var j={enabled:!0,symbol:"circle",radius:N.line.radius,fillColor:bt};if(x){_={zIndex:b+1};bt&&(_.color=bt),"line"==N.type&&y.length&&y.length+S.length==1&&!N.line.marker&&(y[0].marker=j),x.update(_,!1),x.setData(y,!1)}else{var _={name:s,id:s,data:y,zIndex:b+1,yAxis:2==N.yaxis.count?Math.min(1,b):0},q={};bt&&(_.color=bt),"line"==N.type&&(N.line.style instanceof Array&&b<N.line.style.length&&(_.dashStyle=N.line.style[b]),N.line.width instanceof Array&&b<N.line.width.length&&(_.lineWidth=N.line.width[b]),_.color!=N.line.secondary||N.line.width instanceof Array||(_.lineWidth=N.line.width/2),N.line.hover.width instanceof Array&&b<N.line.hover.width.length&&(q={states:{hover:{lineWidth:N.line.hover.width[b]}}},_=mw.support.extend(q,_)),y.length&&y.length+S.length==1&&!N.line.marker?y[0].marker=j:1===I&&(y[D].marker=j)),x=o.addSeries(_,!1)}if(S.length){K=o.get(s+"-future");if(y.length+S.length!=1||N.line.marker||(S[0].marker=j),K)K.setData(S,!1);else{var V=mw.support.extend(q||{},{name:s,color:bt||x.color,dashStyle:N.future.style,id:s+"-future",data:S,yAxis:2==N.yaxis.count?Math.min(1,b):0});N.line.width instanceof Array&&(V.lineWidth=N.line.width[b]),o.addSeries(V,!1)}}else if(T){(K=o.get(s+"-future"))&&K.remove()}C||!y.length&&!S.length||(u=!0),b++}else{var K;x&&(x.remove(!1),T&&(K=o.get(s+"-future"))&&K.remove(!1)),c==s&&(c=p=null),delete L[s],m=!0}}}else{!g&&M&&(g=M.x.max);var $=[],J=0;if("pyramid"==N.type){for(var s in $[0]=[],$[1]=[],L){!(bt=v[s]&&v[s].color?v[s].color:null)&&N.colors instanceof Function&&(bt=N.colors(s));var tt={id:s,name:s,y:-1*(A.left[s]instanceof Object?A.left[s][g]:A.left[s])};bt&&(tt=bt);var et={id:s,name:s,y:A.right[s]instanceof Object?A.right[s][g]:A.right[s]};bt&&(et=bt),$[0].push(tt),$[1].push(et)}($[0].length||$[1].length)&&(u=!0)}else if("bubble"==N.type){$[0]=[];for(var it={x:0,y:1,z:2},at={},rt=-1,nt=L,ot=0;ot<=1;ot++){for(var s in nt)if(nt[s]&&(1!=ot||"C"==nt[s].type)){var st={id:s,name:s,states:{hover:{}}};if(f&&1==ot&&"region"==N.bubble.color){var lt=f.geoitems[s];if(N.legend.override||(N.legend.override={}),lt.region){var dt=lt.region instanceof Array?lt.region[0]:lt.region,ct=f.geoitems[dt]||{};N.legend.override[dt]?st.color=at[dt]=N.legend.override[dt].color:(st.color=ct.color||at[dt],st.color||(N.color instanceof Function?st.color=at[dt]=N.colors(dt):st.color=at[dt]=N.colors[++rt]||"#000"),N.legend.override[dt]={color:st.color})}}else N.bubble.color&&"region"!=N.bubble.color?st.color=N.bubble.color:N.color instanceof Function?st.color=N.color(s):st.color=N.colors[++rt];for(var pt in st.states.hover.fillColor=st.color,it){var ht=it[pt];A[ht]&&A[ht][s]&&(st[pt]=A[ht][s]instanceof Object?A[ht][s][g]:A[ht][s])}3!=N.indicator.length||st.hasOwnProperty("z")&&void 0!=st.z||(st.z=0),void 0!=st.x&&void 0!=st.y&&$[0].push(st)}if(st||!f)break;nt=f.geoitems}$[0].push({id:"bubble-dummy",x:M.y.min,y:M.y2.min,z:0,color:"transparent",marker:{states:{hover:{fillColor:"transparent"}}}}),$[0].push({id:"bubble-dummy",x:1.05*M.y.max,y:M.y2.max,z:0,color:"transparent",marker:{states:{hover:{fillColor:"transparent"}}}}),3==N.indicator.length&&$[0].sort(function(t,e){return t.z>e.z?-1:1}),l&&(k=0==ot?L:at)}else{var ut=N.stacked&&("timeseries"==N.xaxis.type||N.indicator instanceof Array&&N.geoitem instanceof Array),mt=ut?A:{dummy:A},ft=0;for(var gt in mt){cvalues=mt[gt],ut||($[ft]=[]);var vt=0;for(var s in L)if(L[s]){if(N.latest)if(cvalues[s]instanceof Object)Y=mw.support.latest(cvalues[s],g,N.latest).value;else Y=cvalues[s];else Y=cvalues[s]instanceof Object?cvalues[s][g]:cvalues[s];var bt=v[s]&&v[s].color?v[s].color:null;"pie"!=P[N.type]&&(bt=N.colors instanceof Function?N.colors(s):N.colors[0]);st={id:s,name:s,y:Y||null};bt&&!ut&&(st.color=bt),ut?($.length<=vt&&($[vt]=[]),$[vt].push(st)):$[ft].push(st),J+=Y||0,void 0!==Y&&(u=!0),vt++}else delete L[s],m=!0;ft++}}if(N.percentage&&"pie"==P[N.type]){var xt=Math.max(0,Math.min(360,Math.ceil(J/100*360)));if(xt!=z.plotOptions.pie.endAngle)return z.plotOptions.pie.endAngle&&(z.plotOptions.pie.animation=!1),z.plotOptions.pie.endAngle=xt,o.destroy(),o=null,void U()}for(Y=0;Y<$.length;Y++)if(!($[Y]instanceof Array)||$[Y].length){b="series-"+(Y+1);if(x=o.get(b))x.setData($[Y],!1);else{_={id:b,data:$[Y]};o.addSeries(_,!1)}}}if(Z(h),n&&(A=n),m&&!(N.colors instanceof Function)){var yt=0;for(x=1;x<o.series.length;x++){v[s=o.series[x].name]&&v[s].color?bt=v[s].color:(yt++,bt=o.options.colors[x-1]),o.series[x].update({color:bt},!1)}o.counters&&(o.counters.color=yt)}o.redraw();var wt=-1!==a.className.indexOf("no-data");u&&wt?a.className=a.className.replace(/ ?no-data/,""):u||wt||(a.className+=" no-data"),k&&(l&&f&&"bubble"==N.type&&"region"==N.bubble.color?setTimeout(function(t){O.dispatch(i,"series",t),l.sort()}(k),0):O.dispatch(i,"series",k),k=null)}}function K(t,e){return t=t||{},e=e||{},{color:t.color||e.color||"#000",fontFamily:t.font||e.font||"Arial",fontSize:t.size||e.size||"10px",fontWeight:t.weight||e.weight||"normal"}}function $(){if(S){if(N.busy&&(N.busy.style.display="none"),s&&s.init(i),l&&l.init(i),!0===N.year?(d=new mw.map.layers.Slider).init(i):N.year&&N.year.init&&N.year.init(i),k=L,N.values)U();else if("pyramid"==N.type)"indicator"==N.xaxis.type?(q(N.indicator[0]),q(N.indicator[1])):(V(N.geoitem[0]),V(N.geoitem[1]));else if("bubble"==N.type)q(N.indicator[0]),q(N.indicator[1]),3==N.indicator.length&&q(N.indicator[2]);else{if(w=!0,"string"==typeof N.geoitem)V(N.geoitem);else if("geoitem"==N.xaxis.type)for(var t=0;t<N.geoitem.length;t++)V(N.geoitem[t]);if("string"==typeof N.indicator)q(N.indicator);else if("indicator"==N.xaxis.type)for(t=0;t<N.indicator.length;t++)q(N.indicator[t]);w=!1,U()}C=!0,O.dispatch(i,"ready")}}function Z(t){for(var e in o.xAxis[0].removePlotLine("plotline"),o.yAxis[0].removePlotLine("plotline"),E){var a="x"==e;if("bubble"==N.type){if(a)continue;a="y"==e}var r="bar"==P[N.type],n=M[e],s="bubble"==N.type?"y"==e?"x":"y":"y2"==e?"y":e,l="bubble"==N.type?0:"y2"==e?1:0,d=o[s+"Axis"][l],c=N.grid[a?"horizontal":"vertical"]||{},p=K(N[s+"axis"].text,N.text),h=a&&N.ticks?[]:null,u=N.ticks.length instanceof Array?N.ticks.length[0]:N.ticks.length,m=N[s+"axis"].offset+(h?N.ticks.offset+u:0),f=!1;if(N[s+"axis"].text)for(var g in N[s+"axis"].text)N.text.hasOwnProperty(g)||(f=!0,p[g]=N[s+"axis"].text[g]);"y"==s&&2==N.yaxis.count&&("legend"==p.color?p.color=i.color(N.indicator["y2"==e?1:0]):"legend"==p.backgroundColor&&(p.backgroundColor=i.color(N.indicator["y2"==e?1:0])));var v=a&&"timeseries"!=N.xaxis.type,b="default"==N.yaxis.labels.align?"left"==N.yaxis.position?"right":"left":N.yaxis.labels.align,x=!1,y=c.major,w=c.minor;w&&!w.major&&(w=!1);var k=0,T={},S=0;for(var C in E[e]){if(y){var A=E[e][C];if(void 0==A&&(A=""),void 0!==T[A]&&C*T[A]>0)continue;d.addPlotLine({id:"plotline",value:v?k:C,width:void 0==y.width?1:y.width,dashStyle:y.style,color:!y.width||!c.first&&C==n.min||!c.last&&C==n.max?N.background:y.color,zIndex:1,label:{text:"x"==e&&(C!=n.max||!v&&C-x<=t)&&k%t?"":A,x:(r?-5:a?-1:-10)+(a?0:m),y:(r?a?3:10:a?7+S:3)+(a&&!r?m:0),style:p,align:"y2"==e?"right":"left",useHTML:f,rotation:a&&"rotate"==N.xaxis.overlap?45:0,verticalAlign:a||r?"bottom":"top",textAlign:r?C<0?"left":"right":"x"==s?"rotate"==N.xaxis.overlap?"left":"center":"y2"==e?"left"==b?"right":"left":b}}),T[A]=C,"updown"==N.xaxis.overlap&&(S=0==S?7:0)}if(!h||!N.ticks.major||a&&k%t&&!N.ticks.minor||h.push(parseFloat(C)),M.x.min>9999){if(h&&N.ticks.minor)for(var L=M.x.min>99999?12:4,z=1;z<L;z++)h.push(A+z/L)}else if(w&&!1!==x){var O=Math.max(1,(C-x)/w.major);for(z=x+O;z<C;z+=O)w.width&&d.addPlotLine({id:"plotline",color:w.color,dashStyle:w.style,width:w.width,value:z,zIndex:1}),h&&N.ticks.minor&&h.push(z)}x=parseFloat(C),k++}if(h&&N.ticks.minor&&M&&M.x.min<9999&&x<M.x.max)for(z=x+1;z<=M.x.max;z++)h.push(z);if(h&&h.length){m={tickPositions:h,tickLength:u,tickWidth:N.ticks.width,tickColor:N.ticks.color};if(N.ticks.length instanceof Array){o.xAxis[1].update(m,!1);for(var I=(h=h.slice(0)).length-1;I>=0;I--)T[h[I]]||(h[I]=0);m={tickPositions:h,tickLength:N.ticks.length[1],tickWidth:N.ticks.width,tickColor:N.ticks.color}}d.update(m,!1)}}}function Q(){var t=0;if("auto"==N.yaxis.width)for(var e=0;e<N.yaxis.count;e++){var i=0,a="bar"==P[N.type],r=a?E.x:"bubble"==N.type||1==e?E.y2:E.y;for(var n in r){0==(d=(l=o.renderer.text(r[n]).add()).getBBox()).width&&(d.width=r[n].length*N.text.charwidth),i=Math.max(i,d.width),l.destroy()}o[a?"xAxis":"yAxis"][e].update({offset:i},!0),t+=i}else t=N.yaxis.width;var s=1;if("bubble"!=N.type&&"hide"===N.xaxis.overlap){var l,d;0==(d=(l=o.renderer.text(M.x.min).add()).getBBox()).width&&(d.width=String(M.x.min).length*N.text.charwidth);i=o.plotWidth-t;var c=0;if(N.xaxis.labels instanceof Array)c=N.xaxis.labels.length;else for(var r in E.x)c++;s=Math.ceil((d.width+1)/(i/c)),l.destroy()}return s}function J(){for(var t=a.previousSibling;t&&t.nodeType!=Node.ELEMENT_NODE;)t=t.previousSibling;var e=mw.support.extend(N.export.parameters||{},{});return t&&("H1"==t.tagName||t.className.match("mw-chart-title"))&&(e.title=t.innerHTML),e}},mw=window.mw||{},mw.chart=mw.chart||{},mw.chart.Legend=function(t){var e,i,a,r,n,o,s,l,d,c={},p=mw.support.extend(t||{},{interactive:!0,sort:!1,maximum:1/0,placeholder:{geoitems:"add a country",indicators:"add a dataset"}});return{init:function(t){n=(e=t).state().data(),(i=document.createElement("div")).className="chart-legend",(a=document.createElement("div")).className="chart-legend-items",i.appendChild(a);var d=e.settings();o="geoitem"==d.xaxis.type?"indicators":"indicator"==d.xaxis.type?"geoitems":e.settings().geoitem instanceof Array?"geoitems":"indicators";if(i.className+=" chart-"+o,p.interactive){var u=document.createElement("div");u.className="chart-legend-item chart-legend-interactive";var w=document.createElement("div");w.className="chart-legend-swatch",u.appendChild(w),(r=document.createElement("input")).className="chart-legend-input chart-legend-label",r.type="text",r.placeholder=p.placeholder[o]||p.placeholder,mw.support.attachEvent(r,"focus",g),mw.support.attachEvent(r,"blur",b),mw.support.attachEvent(r,"keydown",x),mw.support.attachEvent(r,"keyup",y),u.appendChild(r);var k=document.createElement("div");k.className="chart-legend-action chart-legend-add",u.appendChild(k),i.appendChild(u),(s=document.createElement("ul")).className="chart-legend-suggest "+o,s.style.display="none",mw.support.attachEvent(s,"mousedown",v),i.appendChild(s);var M=/\{([^}]+)\}/g,T=!0===p.interactive?"{LABEL}":p.interactive;for(var S in l={},n[o]){for(var C=T;match=M.exec(C);)C=C.replace(match[0],n[o][S][match[1].toLowerCase()]);l[S]='<li data-series="'+S+'">'+C+"</li>"}}p.parent?p.parent.appendChild(i):e.panes().appendChild(i);e.listen("series",function(t){for(var e in c)c[e]&&!t[e]&&(f(e),!0);for(var e in t)!c[e]&&t[e]&&(m(e),!0);p.sort&&h(!1),c=mw.support.extend(t,{})})},sort:h};function h(t){if(a){for(var e=[],i=a.firstChild;i;i=i.nextSibling)e.push(i);t?e.reverse():e.sort(function(t,e){return t.innerText<e.innerText?-1:1});for(i=0;i<e.length;i++)a.appendChild(e[i])}}function u(){for(var t=a.childNodes,i=0,r=t.length;i<r;i++){var n=t[i];n.firstChild.style.borderColor=e.color(n.getAttribute("data-series"))}}function m(t,i){c[t]=!0,i&&e.add(t);var r=document.createElement("div");r.className="chart-legend-item",r.setAttribute("data-series",t);var s=document.createElement("div");s.className="chart-legend-swatch chart-series-"+e.type(!0),s.style.borderColor=e.color(t),r.appendChild(s);var l=document.createElement("div"),d=p.override&&p.override[t]?p.override[t]:{};l.className="chart-legend-label",d.label?l.innerHTML=d.label:n[o][t]?l.innerHTML=n[o][t].label||t:l.innerHTML=t,r.appendChild(l);var m=!n||n[o][t];if(p.interactive&&m){var g=document.createElement("div");g.className="chart-legend-action chart-legend-remove",r.appendChild(g),mw.support.attachEvent(g,"click",function(t){f(this.parentNode.getAttribute("data-series"),!0)})}a.appendChild(r),a.childNodes.length>p.maximum&&f(a.childNodes[0].getAttribute("data-series"),!0),p.sort&&i&&h(),setTimeout(function(){u()},0)}function f(t,i){for(var r=a.childNodes,n=0,o=r.length;n<o;n++)if(r[n].getAttribute("data-series")==t){a.removeChild(r[n]),delete c[t],i&&e.remove(t,!0);break}setTimeout(function(){u()},0)}function g(t){if(this!=document.activeElement){var e=this;setTimeout(function(){e.select()},100),s.innerHTML="",s.style.display="none"}}function v(t){var e=(t=t||window.event).target||t.srcElement;if((t.clientX>=e.clientWidth||t.clientY>=e.clientHeight)&&t.preventDefault(),e!==s){for(;e&&!e.hasAttribute("data-series");)e=e.parentNode;var i=e.getAttribute("data-series");i&&!c[i]&&m(i,!0),r.value="",s.innerHTML="",s.style.display="none"}}function b(t){this.value="",s.style.display="none"}function x(t){var e=t.keyCode;if(d)if(d.className="",27==e)s.innerHTML="",s.style.display="none",mw.support.preventDefault(t);else{if(13==e){var i=d.getAttribute("data-series");return i&&!c[i]&&m(i,!0),s.innerHTML="",s.style.display="none",this.value="",void mw.support.preventDefault(t)}if(40==e||38==e){var a=d;do{d=40==e?d.nextSibling:d.previousSibling}while(d&&"none"==d.style.display);d||(d=a),mw.support.preventDefault(t)}else 36!=e&&35!=e||((d=36==e?d.firstChild:d.lastChild).scrollIntoView(36==e),mw.support.preventDefault(t))}d&&(d.className="selected")}function y(t){var i="",a=!1,r=!1,c=!1,p=this.value.toLowerCase().split(" "),h=p.length;if("geoitems"==o&&n){var u=e.settings("indicator");u instanceof Array?(u[0]&&(a=n.indicators[u[0]].values),u[1]&&(r=n.indicators[u[1]].values),u[2]&&(c=n.indicators[u[1]].values)):u&&(a=n.indicators[u].values)}var m=0,f=0,g=d?d.getAttribute("data-series"):null;for(var v in l){for(var b=l[v],x=0;x<h;x++){var y=a&&!a[v]||r&&!r[v]||c&&!c[v];if(y||(y=-1==b.toLowerCase().indexOf(p[x])&&-1==v.toLowerCase().indexOf(p[x])),y)break}if(y||(g==v&&(m=f),i+=l[v],f++),100==f){i+='<li class="note">Remaining matching items not shown...</li>';break}}s.innerHTML=i,(d=d?s.childNodes[m]:s.firstChild)&&(d.className="selected"),s.style.display="block"}},riot.mixin("imf-hierarchies",{init:function(){this.localeSort=function(t,e){return t.label<e.label?-1:1},this.localeReverseSort=function(t,e){return t.label>e.label?-1:1};try{"foo".localeCompare("bar","i")}catch(e){"RangeError"===e.name&&(this.localeSort=(t=document.documentElement.getAttribute("lang")||"en",function(e,i){return e.label.localeCompare(i.label,t)}),this.localeReverseSort=function(t){return function(e,i){return-1*e.label.localeCompare(i.label,t)}}(document.documentElement.getAttribute("lang")||"en"))}var t},hierarchies:function(t){var e=this;e.countries=[],e.groups=[],e.regions=[];var i=imf.data.datasets[e.opts.dataset],a=imf.state.get("geoitem"),r=imf.state.get("indicator"),n=imf.data.indicators[r],o=n&&n.values||{},s={regions:{},groups:{}};function l(i,r,n,l){var d=imf.data.geoitems[i],c=o.hasOwnProperty(i),p=a&&-1!=a.indexOf(i),h=d.label||i;t&&"countries"!==n?(s[n].hasOwnProperty(l)||(s[n][l]=e[n].length,e[n].push({label:imf.data.datasets[l].title,items:[],order:+imf.data.datasets[l].order})),e[n][s[n][l]].items.push({id:i,label:h,level:r,hasdata:c,selected:p})):e[n].push({id:i,label:h,level:r,hasdata:c,selected:p})}for(var d in imf.data.geoitems)"C"==imf.data.geoitems[d].type&&(i&&i.geoitems&&-1==i.geoitems.indexOf(d)||l(d,0,"countries"));for(var c in{groups:!0,regions:!0}){function p(t,e,i){for(var a in t){var r=t[a];l(r instanceof Object?r.code:r,e,c,i),r instanceof Object&&p(r[c],e+1,i)}}if(i&&i.hierarchies)p(i.hierarchies[c],0);else if(t)for(var h in imf.data.datasets)p(imf.data.datasets[h].hierarchies[c],0,h)}}});var imf=function(){var t,e,i=document.querySelector("base").getAttribute("href"),a=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),r={"#B74E4F":!1,"#3FADBF":!1,"#CB8C40":!1,"#72AA39":!1,"#9E718B":!1,"#298093":!1,"#FB594E":!1,"#018749":!1,"#895252":!1,"#969100":!1,"#FE7013":!1,"#1B6861":!1,"#D47ABA":!1,"#6BBD46":!1,"#7653A5":!1,"#6C6C6C":!1,"#ED008C":!1,"#9DCE38":!1,"#D7DF21":!1,"#D0E39A":!1,"#7F7FFF":!1,"#C4459A":!1,"#2ED883":!1,"#895F34":!1},n={},o={map:{buttons:{confirm:function(){var t=imf.state.get("settings");imf.data.indicators[imf.state.get("indicator")].legend=mw.support.extend(t.legend,{})},cancel:function(){var t=imf.state.get("settings"),e=imf.data.indicators[imf.state.get("indicator")];t.legend=e.legend=mw.support.extend(e["restore-legend"],{}),imf.state.set("settings",t)},reset:function(){var t=imf.state.get("settings"),e=imf.data.indicators[imf.state.get("indicator")];t.legend=e.legend=mw.support.extend(e["default-legend"],{}),imf.state.set("settings",t)}},settings:[{title:"map",settings:[{name:"legend",type:"legend"}]}]},chart:{settings:[{title:"chart",settings:[{name:"yaxis",type:"radio",value:"lin",disabled:function(){var t=imf.state.get("indicator"),e=imf.data.indicators[t]||{};return e.minvalue||e.maxvalue?e.minvalue>0&&e.maxvalue>0?null:"lin":e.statistics?e.statistics.range.min>0&&e.statistics.range.max>0?null:"lin":null},values:[{label:"linear",value:"lin"},{label:"logarithmic",value:"log"}]}]}]}},s={large:{ticks:{major:!0,minor:!0,color:"#77789e",offset:20,length:[5,15]},xaxis:{offset:40},yaxis:{offset:-3,labels:{align:"left"},text:{backgroundColor:"#fff"}},options:{chart:{marginTop:40,marginLeft:45,marginBottom:100,marginRight:45,events:{redraw:function(){var t=imf.chart.large.options.chart.marginBottom-40;this.axisrect&&this.axisrect.destroy(),this.axisrect=this.renderer.rect(0,this.chartHeight-t,this.chartWidth,t,0).attr({fill:"#fff",zIndex:0}).add()}}}}},small:{grid:!1,colors:["#49499e"],xaxis:{labels:!1},yaxis:{labels:!1,range:{zero:!1}},year:!0},search:{hover:!1,xaxis:{labels:!1},yaxis:{labels:{align:"right",maximum:3}},year:!0}},l="api/?meta&geoitems&indicators&datasets";if(document.body.hasAttribute("data-preload")){l+="&values=";for(var d=document.body.getAttribute("data-preload").split(","),c=0;c<d.length;c++)l+=(c>0?",":"")+d[c].split("@")[0]}var p=new mw.DataManager({data:l,ondata:function(t){return{}}}),h=new mw.StateManager({data:p,kickstart:!1});function u(t,e,i){var a;return imf.data.datasets[t]?i&&i.length?a=imf.data.datasets[t].title+" - "+imf.data.indicators[i[0]].label:t?(a=imf.data.datasets[t].title,e&&(a+=" - "+imf.data.datasets[t].hierarchies.indicators[e].label)):a=imf.data.meta.general_title:a=imf.data.meta.general_title,a}function m(t,e,i,a,r){var n=document.body.getAttribute("data-tool");("datamapper"==n||r)&&(n="");var o=n;if("profile"==n||i&&i.length){for(var s in i)o+="/"+i[s]+"@"+p.indicators[i[s]].dataset;a instanceof Array?o+="/"+a.join("/"):a&&(o+="/"+a.replace(/,/g,"/"))}else o+="datasets",t&&(o+="/"+t),e&&(o+="/"+e);return"/"==o[0]?o.substr(1):o}function f(t,a,r,n){h.set("dataset",t),h.set("group",a),h.set("indicator",r),h.set("geoitem",n),document.title=u(t,a,r),document.querySelector('meta[property="og:title"]').setAttribute("content",document.title),document.querySelector('meta[property="og:url"]').setAttribute("content",i+m(t,a,r)),document.querySelector('meta[property="og:description"]').setAttribute("content",r.length?imf.data.indicators[r[0]].description:t?imf.data.datasets[t].description:""),document.querySelector('meta[property="og:image"]').setAttribute("content",i+"images/dm-logo.png"),e||(e={dataset:t,group:a,indicators:r,geoitems:n.slice(0)})}function g(t,e,a,r,n){if(history.pushState){var o=window.location.href.substring(i.length,window.location.href.length-window.location.search.length),s=m(t,e,a,r);o!=s&&riot.route(s,u(t,e,a),n)}else f(t,e,a,r instanceof Array?r:r.split(","))}function v(){g(imf.state.get("dataset"),imf.state.get("group"),imf.state.get("indicator"),imf.state.get("geoitem"))}function b(){clearTimeout(t),t=setTimeout(v,10)}function x(t){if(t.target.classList.contains("dm-info-button")||t.target.classList.contains("dm-copyright")||t.target.classList.contains("map-disclaimer"))(function(t){var e;if(t.target.classList.contains("dm-copyright"))e=p.meta.credits_text.replace(/\n/g,"<br/>");else if(t.target.classList.contains("map-disclaimer"))e=p.meta.mapdisclaimerpopup.replace(/\n/g,"<br/>");else{if(t.target.hasAttribute("data-key")&&!t.target.hasAttribute("data-geoitem")&&!t.target.hasAttribute("data-indicator")){var i=t.target.getAttribute("data-key");t.target.setAttribute(p.geoitems[i]?"data-geoitem":"data-indicator",i)}if(t.target.hasAttribute("data-geoitem")){var a=t.target.getAttribute("data-geoitem"),r=t.target.getAttribute("data-type");if(t.target.classList.contains("dm-profile-button"))e=(e="<b>{NAME}</b><ul><li>"+p.meta.profilepage+"</li>"+("C"==r?"<li>"+p.meta.countrypage+"</li>":"")+"</ul>").replace(/{NAME}/g,p.geoitems[a].label).replace(/{ISO3}/g,a);else if("C"==t.target.getAttribute("data-type"))e=p.meta.countrypage.replace(/{NAME}/g,p.geoitems[a].label).replace(/{ISO3}/g,a);else{for(var n=p.datasets[imf.state.get("dataset")].regions[a],o=[],s=0;s<n.length;s++)o.push(p.geoitems[n[s]]?p.geoitems[n[s]].label:n[s]);o.sort(),e=o.join(", ")}}else{if(!t.target.hasAttribute("data-indicator"))return!1;var l=p.indicators[t.target.getAttribute("data-indicator")];e=l.description+"<br/><br/><i>"+imf.translate("source")+" "+l.source+"</i>"}}var d=document.getElementById("info-popup");d.innerHTML=e;var c=t.target.getBoundingClientRect();return d.style.right=window.innerWidth-c.right-20+"px",d.style.top=c.top+document.body.scrollTop+window.scrollY+"px",d.style.display="block",setTimeout(function(){d.offsetLeft<0&&(d.style.right=window.innerWidth-c.right+d.offsetLeft-30+"px"),d.offsetTop-document.body.scrollTop-window.scrollY+d.clientHeight>window.innerHeight&&(d.style.top=window.innerHeight-d.clientHeight+document.body.scrollTop+window.scrollY+"px")}),!0})(t)&&t.preventDefault();else if(t.target.classList.contains("dm-profile-button")){var e=document.querySelector("base").getAttribute("href"),i=imf.state.get("dataset"),a=e+"profile/"+t.target.getAttribute("data-key")+"/"+i;window.self===window.top?window.location.href=a:window.open(a,"_blank")}else if(t.target.classList.contains("dm-help"))window.open(imf.data.meta.helpurl,"_blank");else if(t.target.classList.contains("dm-logo")||t.target.parentNode.classList.contains("dm-logo")){e=document.querySelector("base").getAttribute("href");window.location.href=e}else if(t.target.classList.contains("dm-legend-reset"))imf.trigger("reset",!1),t.preventDefault();else if(t.target.classList.contains("dm-indicator-select"))riot.mount("#indicator-popup","imf-indicator-selector");else if(t.target.hasAttribute("data-chart")){document.getElementById("dm-main").setAttribute("data-chart",t.target.getAttribute("data-chart"))}else document.getElementById("info-popup")&&(document.getElementById("info-popup").style.display="none")}function y(){var t=document.getElementById("dm-component");if(t){for(var e=0,i=t.parentNode.firstElementChild;i;i=i.nextElementSibling)i!==t&&(e+=i.offsetHeight);if(t.style.height="calc(100% - "+e+"px)",t._tag.map){var a=t._tag.map();a&&a.listen("ready",function(){a.redraw(!0);var t=riot.route.query();t.zoom&&imf.data.geoitems[t.zoom]&&a.zoom(t.zoom,.01),t.highlight&&setTimeout(function(){a.highlight(t.highlight)},100)})}setTimeout(function(){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},0)}}function w(){riot.observable(imf),imf.on("reset",function(t){if(imf.state.set("custom-geoitems",[]),imf.state.set("exploded-regions",{}),imf.state.set("exploded-countries",[]),imf.state.set("geoitem",[]),imf.state.set("year",imf.state.get("initial-year")),t){document.body.setAttribute("data-tool","datamapper");var i="datamapper"==document.body.getAttribute("data-tool")?void 0:e.geoitems;imf.route(e.dataset,e.group,e.indicators,i)}else imf.route(imf.state.get("dataset"),imf.state.get("group"),imf.state.get("indicator"))}),riot.mount("imf-component"),h.listen("year",function(t){var e=imf.state.get("settings")||{};e.year=t,imf.state.set("settings",e)});var t,i=riot.route.query();for(var a in t=i.year&&i.year.match(/^\d{4}([QM]\d+)?$/)?i.year:(new Date).getFullYear(),h.set("initial-year",t),h.set("year",t),riot.route.start(!0),h.listen("dataset",b),h.listen("group",b),h.listen("indicator",b),h.listen("geoitem",function(t){var e=imf.data.datasets[imf.state.get("dataset")];t.length&&e&&t.join(",")!=e.initchart&&imf.state.set("custom-geoitems",t),b()}),document.body.classList.add("initialized"),imf.on("resize",y),setTimeout(y,100),p.indicators){var r=p.indicators[a];r.legend&&(r["default-legend"]=mw.support.extend(r.legend,{}))}}riot.route.base(i.substr(a.length)),riot.route(function(){var t=document.body.getAttribute("data-tool"),e=arguments.length&&arguments[0]==t?1:0,i=arguments.length;window.location.hash.substr(1)===arguments[i-1]&&i--;var a=window.location.search;"?"==a[0]&&(a=a.substr(1)),a===arguments[i-1]&&i--;var r,n,o=[],s=[],l=imf.state.get("custom-geoitems");if("datamapper"!=t||"profile"!=arguments[e]){if("search"!=t)if("profile"!=t||"datasets"!=arguments[e])if("profile"!=t||e!=i){if("datasets"==arguments[e])imf.data.datasets[arguments[++e]]&&(r=arguments[e++],imf.data.datasets[r].hierarchies.indicators[arguments[e]]&&(n=arguments[e]));else{function d(t){if(imf.data.datasets[c]){var e=imf.data.datasets[c];return g(c,void 0,[e.indicator],e.initchart)}for(var i in imf.data.datasets){if(1==(e=imf.data.datasets[i]).order)return g(i,void 0,[e.indicator],e.initchart)}}var c=arguments[e];if(""===c||-1==c.indexOf("@")&&!p.geoitems[c])return d();for(var h=e;h<i;h++)if(-1!=arguments[h].indexOf("@")){var u=arguments[h].split("@");if(!p.indicators[u[0]]||!p.indicators[u[0]].group)return d(arguments[h]);o.push(u[0]),r||(r=u[1])}else s.push(arguments[h]);if(s.length||(s=l||[]),!s.length&&"ranking"!==t)return g(r,void 0,o,imf.data.datasets[r].initchart,!0)}var m=imf.state.get("indicator");m instanceof Array&&(m=m[0]);var v=r!=imf.state.get("dataset")||n!=imf.state.get("group")||o[0]!=m;f(r,n,o,s),v&&window.scrollTo(0,0)}else f(void 0,void 0,[],[]);else{b=document.querySelector("base").getAttribute("href");window.location.href=b+[].slice.call(arguments).join("/")}}else{var b=document.querySelector("base").getAttribute("href");window.location.href=b+[].slice.call(arguments).join("/")}});var k=2;riot.compile(function(){--k||w()}),p.listen("ready",function(){for(var t in p.datasets){var e=p.datasets[t];e.description&&-1==e.description.indexOf("<p")&&(e.description="<p>"+e.description.replace(/[\r\n]+/g,"</p><p>")+"</p>")}--k||w()}),document.body.addEventListener("touchstart",x),document.body.addEventListener("click",x);var M=document.getElementById("dm-main"),T=M?M.offsetTop:Math.POSITIVE_INFINITY;return window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop;t>5?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled"),T&&(t>=T?document.body.classList.add("fixed-header"):document.body.classList.remove("fixed-header"))}),{state:h,data:p,translate:function(t){var e=p.meta;if(!(t instanceof Element))return e[t]||"{"+t+"}";for(var i=t.querySelectorAll("[data-babel]"),a=0;a<i.length;a++){var r=i[a],n=r.getAttribute("data-babel"),o=n.substr(1);if("@"==n[0]){var s=r.getAttribute(o);r.setAttribute(o,e[s]||"{"+s+"}")}else"#"==n[0]&&(r.innerHTML=e[o]||"{"+o+"}");r.removeAttribute("data-babel")}},route:g,panel:function(t){for(var e=t.target;e;e=e.parentNode){var i;if(e.hasAttribute("indicator")&&(i=[e.getAttribute("indicator")]),e.hasAttribute("dataset")){var a=e.getAttribute("dataset"),r=e.getAttribute("group");return imf.route(a,r,i,imf.state.get("geoitem"))}}},chart:s,settings:o,deeplink:function(){var t=document.body.getAttribute("data-tool"),e=i;if("profile"==t)e+="profile/"+h.get("geoitem");else{var a=h.get("indicator");a instanceof Array&&a.length&&(a=[a[0]]);var r=imf.state.get("custom-geoitems");r&&r.length||(r=h.get("geoitem")),e+=m(h.get("dataset"),h.get("group"),a,r,!0);var n=imf.state.get("settings"),o={};for(var s in n)"legend"!=s&&(o[encodeURIComponent(s)]=encodeURIComponent(n[s]));for(var l in o)e+=(-1==e.indexOf("?")?"?":"&")+l+(""!=o[l]?"="+o[l]:"")}return e},colors:{get:function(t){if(-1!=(imf.state.get("exploded-countries")||[]).indexOf(t))return"#ccc";if(!n[t]){for(var e in r)if(!r[e]){r[e]=t,n[t]=e;break}if(!n[t]){var i=mw.support.hsl2rgb([Math.random(),.6,.6]);n[t]=mw.support.rgb2css(i),r[n[t]]=t}}return n[t]},free:function(t){n[t]&&(r[n[t]]=!1),n[t]=!1}}}}();mw.chart.defaults=mw.support.extend({future:{style:"dot",background:"#fff"},line:{width:1.5,secondary:"#ccc",hover:{width:2.5}},grid:{vertical:{major:{color:"transparent"}}},colors:imf.colors.get,text:{font:"MuseoSans-300,museo-sans",color:"#575757",size:"11pt",charwidth:14}},mw.chart.defaults),riot.tag2("imf-barchart",'<button class="dm-rank-button" data-babel="#rank"></button> <div class="dm-bar-y-axis"></div> <div class="dm-bar-x-axis"></div> <div class="dm-bar-bars"></div> <div class="map-hidden-tooltip map-tooltip"> <div class="map-tooltip-anchor"></div> <div class="map-tooltip-tip"></div> <div class="label"></div> <div class="value"></div> </div>','imf-barchart,[riot-tag="imf-barchart"],[data-is="imf-barchart"]{ display: block; position: relative; margin-top: 50px; height: calc(100% - 130px); } imf-barchart .map-tooltip,[riot-tag="imf-barchart"] .map-tooltip,[data-is="imf-barchart"] .map-tooltip{ position: absolute; pointer-events: none; } imf-barchart .dm-bar-x-axis,[riot-tag="imf-barchart"] .dm-bar-x-axis,[data-is="imf-barchart"] .dm-bar-x-axis{ position: absolute; left: 40px; right: 0; border-bottom: 1.5px solid #dadada; } imf-barchart .dm-bar-y-axis,[riot-tag="imf-barchart"] .dm-bar-y-axis,[data-is="imf-barchart"] .dm-bar-y-axis{ position: absolute; top: 0; bottom: 0; } imf-barchart .dm-bar-y-axis:after,[riot-tag="imf-barchart"] .dm-bar-y-axis:after,[data-is="imf-barchart"] .dm-bar-y-axis:after{ content: ""; top: 0; bottom: 0; left: 40px; border-right: 1.5px solid #dadada; z-index: 0; display: block; position: absolute; } imf-barchart .dm-axis-label,[riot-tag="imf-barchart"] .dm-axis-label,[data-is="imf-barchart"] .dm-axis-label{ position: absolute; left: 30px; font-size: 11pt; background: #fff; color: #575757; z-index: 1; } imf-barchart .dm-axis-label:before,[riot-tag="imf-barchart"] .dm-axis-label:before,[data-is="imf-barchart"] .dm-axis-label:before{ content: ""; width: 15px; background: #fff; display: block; left: 0; top: 0; bottom: 0; position: absolute; z-index: -1; } imf-barchart .dm-rank-button,[riot-tag="imf-barchart"] .dm-rank-button,[data-is="imf-barchart"] .dm-rank-button{ position: absolute; right: 0; top: -35px; color: #fff; background: #0cafae; font-weight: 300; border: none; border-radius: 5px; display: inline-block; padding: 3px 20px; cursor: pointer; text-transform: uppercase; } imf-barchart .disabled.dm-rank-button,[riot-tag="imf-barchart"] .disabled.dm-rank-button,[data-is="imf-barchart"] .disabled.dm-rank-button{ opacity: 0.5; pointer-events: none; } imf-barchart .dm-bar-bars,[riot-tag="imf-barchart"] .dm-bar-bars,[data-is="imf-barchart"] .dm-bar-bars{ padding-left: 60px; height: 100%; } imf-barchart .dm-bar,[riot-tag="imf-barchart"] .dm-bar,[data-is="imf-barchart"] .dm-bar{ min-height: 2px; float: left; max-width: 80px; background: #0e4e98; margin: 0 10px; text-align: center; position: relative; border-top-left-radius: 3px; border-top-right-radius: 3px; transition: height 0.5s linear, top 0.5s linear; } imf-barchart .nodata.dm-bar,[riot-tag="imf-barchart"] .nodata.dm-bar,[data-is="imf-barchart"] .nodata.dm-bar{ background: #afbac6; } imf-barchart .flipping.dm-bar,[riot-tag="imf-barchart"] .flipping.dm-bar,[data-is="imf-barchart"] .flipping.dm-bar{ transition: none; } imf-barchart .dm-bar:before,[riot-tag="imf-barchart"] .dm-bar:before,[data-is="imf-barchart"] .dm-bar:before{ content: attr(data-gid); position: absolute; font-size: 10pt; text-align: center; top: -20px; width: 100px; margin-left: -50px; pointer-events: none; } imf-barchart .dm-bar[data-value^="-"]:before,[riot-tag="imf-barchart"] .dm-bar[data-value^="-"]:before,[data-is="imf-barchart"] .dm-bar[data-value^="-"]:before{ top: auto; bottom: -20px; } imf-barchart .dm-bar[data-value^="-"],[riot-tag="imf-barchart"] .dm-bar[data-value^="-"],[data-is="imf-barchart"] .dm-bar[data-value^="-"]{ border-top-left-radius: 0; border-top-right-radius: 0; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; }',"",function(t){var e,i,a,r,n,o=this;function s(t){return 100-(t-i[0])/(i[1]-i[0])*100}function l(){a=imf.state.get("year");for(var e=[],i=t.geoitems,n=0;n<i.length;n++)e.push({id:i[n],value:+imf.data.value(r,i[n],a,null,!1),html:'<div class="dm-bar" data-gid="'+i[n]+'" style="width: calc('+100/i.length+"% - "+100/i.length+'px)"></div>'});e.sort(function(t,e){return t.value===e.value?t.id<e.id?-1:1:isNaN(t.value)?1:isNaN(e.value)?-1:t.value<e.value?1:-1});for(var s="",l=0;l<e.length;l++)s+=e[l].html;o.root.querySelector(".dm-bar-bars").innerHTML=s,d()}function d(t){t=t||a,o.root.querySelector(".dm-rank-button").classList.toggle("disabled",t==a);for(var e=o.root.querySelectorAll(".dm-bar"),n=0;n<e.length;n++){var l=e[n],d=l.getAttribute("data-gid"),c=l.getAttribute("data-value"),p=imf.data.value(r,d,t,null,!1),h=p!==imf.data.meta.nodata,u=h&&(c<0&&p>0||c>0&&p<0);l.classList.toggle("flipping",u),l.classList.toggle("nodata",!h);var m=h?Math.abs(p/(i[1]-i[0])*100):0;l.style.height=m+"%",l.style.top=(p<0?s(0):s(0)-m)+"%",l.setAttribute("data-value",p)}}imf.state.listen("year",d),o.on("mount",function(){o.root.querySelector(".dm-rank-button").addEventListener("click",function(){l()}),o.root.querySelector(".dm-bar-bars").addEventListener("mouseover",function(t){var e=o.root.querySelector(".map-tooltip"),i=e.querySelector(".label"),a=e.querySelector(".value");t.target.classList.contains("dm-bar")?(i.innerHTML=imf.data.geoitems[t.target.getAttribute("data-gid")].label,a.innerHTML=t.target.getAttribute("data-value"),e.classList.remove("map-hidden-tooltip"),setTimeout(function(){e.style.top=t.target.offsetTop-e.clientHeight-30+"px",e.style.left=t.target.offsetLeft-e.clientWidth/2+t.target.clientWidth/2+"px"},0)):e.classList.add("map-hidden-tooltip")})}),o.on("update",function(){var d=t.geoitems;if(t.indicators&&t.geoitems&&t.indicators.length&&t.geoitems.length&&(t.indicators[0]!==r||d.join(",")!==n)){r=t.indicators[0],n=d.join(",");var c=imf.data.indicators[r];e=c.numberformat?c.numberformat:c.hasOwnProperty("decimalrounding")&&!isNaN(c.decimalrounding)?"%."+parseInt(c.decimalrounding)+"w":mw.support.NUMBERFORMAT||"%."+mw.support.PRECISION+"w";for(var p=1/0,h=-1/0,u=0;u<d.length;u++){var m=c.values[d[u]];for(var f in m)m[f]&&(p=Math.min(m[f],p),h=Math.max(m[f],h))}var g="";for(f=(i=mw.support.prettify(Math.min(0,p),h,5))[0];f<=i[1];f+=i[2])g+='<div class="dm-axis-label" style="top: '+s(f)+'%">'+mw.support.format(e,f)+"</div>";o.root.querySelector(".dm-bar-y-axis").innerHTML=g,o.root.querySelector(".dm-bar-x-axis").style.top=s(0)+"%",a=imf.state.get("year"),l()}})}),riot.tag2("imf-breadcrumbs",'<nav class="dm-navigation" data-crumbs="{crumbs.length}"> <div if="{!group}" class="dm-breadcrumb" each="{crumbs}"> <a data-route="{route}" data-dataset="{dataset}" data-group="{group}">{label}</a> </div> </nav>','imf-breadcrumbs,[riot-tag="imf-breadcrumbs"],[data-is="imf-breadcrumbs"]{ display: block; background-color: #287eaf; border-right: 1px solid #fff; } imf-breadcrumbs .dm-breadcrumb,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb,[data-is="imf-breadcrumbs"] .dm-breadcrumb{ display: table-cell; position: relative; padding: 0 15px; height: 55px; vertical-align: middle; border-left: 1px solid #fff; } imf-breadcrumbs .dm-breadcrumb:nth-last-child(3),[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(3),[data-is="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(3){ background-color: #13599e; } imf-breadcrumbs .dm-breadcrumb:nth-last-child(2),[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(2),[data-is="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(2){ background-color: #1c68a6; } imf-breadcrumbs .dm-breadcrumb:nth-last-child(1),[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(1),[data-is="imf-breadcrumbs"] .dm-breadcrumb:nth-last-child(1){ background-color: #287eaf !important; } imf-breadcrumbs .dm-breadcrumb:hover,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:hover,[data-is="imf-breadcrumbs"] .dm-breadcrumb:hover{ background-color: #e25426; } imf-breadcrumbs .dm-breadcrumb:last-child,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:last-child,[data-is="imf-breadcrumbs"] .dm-breadcrumb:last-child{ font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; } imf-breadcrumbs a,[riot-tag="imf-breadcrumbs"] a,[data-is="imf-breadcrumbs"] a{ display: table-cell; font-size: 14px; height: 55px; text-transform: uppercase; color: #fff; cursor: pointer; vertical-align: middle; } imf-breadcrumbs .dm-breadcrumb:last-of-type a,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:last-of-type a,[data-is="imf-breadcrumbs"] .dm-breadcrumb:last-of-type a{ cursor: default; }',"",function(t){var e,i=document.body.getAttribute("data-tool"),a=this;a.on("mount",function(){a.root.addEventListener("click",function(e){var i=e.target;i.hasAttribute("data-route")&&(t.geoitem?riot.route("profile",imf.translate("profiles")):imf.route(i.getAttribute("data-dataset"),i.getAttribute("data-group")))})}),a.on("update",function(){if("profile"==i)a.crumbs=[{label:imf.translate("profiles"),route:!0}],t.geoitem&&a.crumbs.push({label:imf.data.geoitems[t.geoitem].label});else if(a.crumbs=[{label:imf.translate("datasets"),route:!0}],t.dataset){var e=imf.data.datasets[t.dataset]||{};!t.group&&t.indicator&&(t.group=imf.data.indicators[t.indicator].group),a.crumbs.push({label:e.title,dataset:t.dataset,route:!0}),t.group&&a.crumbs.push({label:e.hierarchies.indicators[t.group].label,dataset:t.dataset,group:t.group,route:!0}),t.indicator&&a.crumbs.push({label:imf.data.indicators[t.indicator].label})}}),a.on("updated",function(){var t=a.root.querySelector(".dm-breadcrumb:last-child");t.innerHTML!=e&&(t.parentNode.scrollLeft=2*window.innerWidth,e=t.innerHTML)})}),riot.tag2("raw","","","",function(t){this.on("update",function(){this.root.innerHTML=this.opts.content})}),riot.tag2("imf-component","<yield></yield>",'imf-component,[riot-tag="imf-component"],[data-is="imf-component"]{ display: block; }','class="dm-component"',function(t){var e,i=this,a={};function r(){var t=document.body.getAttribute("data-tool"),e=imf.state.get("indicator"),a=imf.state.get("geoitem");i.show_selector="profile"==t?void 0==a||0==a.length:void 0==e||0==e.length,i.show_tool=!i.show_selector,i.deeplink=imf.deeplink(),window.requestAnimationFrame?requestAnimationFrame(i.update):i.update()}function n(){clearTimeout(e),e=setTimeout(r,10)}i.statemanager=imf.state,i.datamanager=imf.data,i.nodata=imf.data.meta.nodata||"",i.state={},i.related=[],i.property=function(t,e){var i=new RegExp("[?&](no-)?"+t+"(=([^&#])+)?").exec(location.search);return i&&i[0]?!i[1]&&"=false"!=i[2]&&(void 0==i[2]||"=true"==i[2]||i[3]):e},i.embed=i.property("embed",!1),i.header=i.property("header",!i.embed),i.footer=i.property("footer",!i.embed),i.fixedyear=i.property("year",!1),i.onYear=function(t){i.statemanager.set("year",t)},i.show_selector=!1,i.show_tool=!1,i.deeplink=imf.deeplink(),imf.state.listen("dataset",function(t){t!=a.dataset&&(i.state.dataset=a.dataset=t,i.dataset=imf.data.datasets[t]||{},n())}),imf.state.listen("group",function(t){t!=a.group&&(i.state.group=a.group=t,n())}),imf.state.listen("indicator",function(t){var e=t.toString();if(e!=a.indicators){i.state.indicators=t,a.indicators=e;var r=t instanceof Array?t[0]:t;i.state.indicator=r,i.indicator=imf.data.indicators[r]||{},i.indicator.mode=i.indicator.legend?"color":"circles";var o=i.indicator.chart||(imf.data.datasets[i.state.dataset]||{}).chart||"line";if(i.has_line="line"===o||"both"===o,i.has_bar="bar"===o||"both"===o,i.initial_chart=i.has_line?"line":"bar",i.indicator.statistics&&i.indicator.statistics.range){var s=i.indicator.statistics.range.from==i.indicator.statistics.range.to;if(document.body.classList.toggle("single-year",s),s&&(i.has_line=!1,i.has_bar=!0,i.initial_chart="bar"),"chart-component"===i.root.id){var l=riot.route.query();if(l.years){for(var d,c=(new Date).getFullYear(),p=(new Date).getMonth()+1,h=l.years.split(","),u=[],m=0;m<h.length;m++){var f=h[m];f.match(/^\d+$/)?u.push(+f):(d=f.match(/^(Y(\d*))?(([-+])(\d+))?$/))&&u.push(c+(d[2]>p?-1:0)+(d[4]?"+"==d[4]?+d[5]:-d[5]:0))}1===u.length?i.indicator.statistics.range.from=u[0]:2===u.length&&(u[0]===c&&u[1]<u[0]?i.indicator.statistics.range.to=u[1]:(i.indicator.statistics.range.from=u[0],""!==h[1]&&(i.indicator.statistics.range.to=u[1])))}}}r&&i.state.dataset&&i.indicator.group&&imf.data.datasets[i.state.dataset]&&(i.related=imf.data.datasets[i.state.dataset].hierarchies.indicators[i.indicator.group].indicators.slice(0),i.related.splice(i.related.indexOf(r),1)),n()}}),imf.state.listen("geoitem",function(t){var e=t.toString();if(e!=a.geoitems){i.state.geoitems=t,a.geoitems=e;var r=t instanceof Array?t[0]:t;if(i.state.geoitem=r,i.geoitem=imf.data.geoitems[r]||{},i.state.exploded)for(var o=0;o<t.length;o++){var s=i.state.exploded.indexOf(t[o]);-1!=s&&i.state.exploded.splice(s,1)}n()}}),imf.state.listen("year",function(t){t!=a.year&&(i.year=a.year=t,n())}),imf.state.listen("exploded-regions",function(t){imf.state.get("dataset");var e=[];for(var a in t)for(var r=t[a],o=0;o<r.length;o++)-1==i.state.geoitems.indexOf(r[o])&&e.push(r[o]);imf.state.set("exploded-countries",i.state.exploded=e),n()}),i.one("update",function(){i.root.style.visibility="visible"}),i.on("updated",function(){imf.translate(i.root)})}),riot.tag2("imf-countries-panel",'<h3 if="{countries.length}" data-babel="#relatedcountrypages"></h3> <div class="dm-country-pages"> <a each="{countries}" href="http://www.imf.org/external/country/{id}/index.htm" target="_blank" rel="noopener noreferrer" class="dm-country-page" data-geoitem="{id}">{label}</a> </div>','imf-countries-panel,[riot-tag="imf-countries-panel"],[data-is="imf-countries-panel"]{ display: block; position: relative; } imf-countries-panel h3,[riot-tag="imf-countries-panel"] h3,[data-is="imf-countries-panel"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; margin-top: 35px; padding: 10px 0; } imf-countries-panel .dm-country-pages,[riot-tag="imf-countries-panel"] .dm-country-pages,[data-is="imf-countries-panel"] .dm-country-pages{ text-align: center; } imf-countries-panel .dm-country-page,[riot-tag="imf-countries-panel"] .dm-country-page,[data-is="imf-countries-panel"] .dm-country-page{ display: inline-block; padding: 0 20px; margin-bottom: 10px; white-space: nowrap; text-decoration: none; color: #000; background: #fff; height: 54px; border-radius: 27px; border: 1px solid #c8cbce; margin-right: 20px; line-height: 54px; cursor: pointer; -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-countries-panel .dm-country-page:hover,[riot-tag="imf-countries-panel"] .dm-country-page:hover,[data-is="imf-countries-panel"] .dm-country-page:hover{ color: #1b335f; background: rgba(0, 0, 0, 0.04); } imf-countries-panel .dm-country-page img,[riot-tag="imf-countries-panel"] .dm-country-page img,[data-is="imf-countries-panel"] .dm-country-page img{ display: inline-block; height: 30px; position: relative; margin-right: 10px; top: calc(50% - 18px); }',"",function(t){var e=this;e.countries=[],e.on("update",function(){for(var i in e.countries=[],t.geoitems){var a=imf.data.geoitems[t.geoitems[i]];"C"==a.type&&e.countries.push({label:a.label,id:t.geoitems[i]})}})}),riot.tag2("imf-dataset-panel",'<h3 if="{hasdata}"> {dataset.title} <span>{count} indicator<virtual if="{count > 1}">s</virtual>, {dataset.minyear} - {dataset.maxyear}</span> <button if="{count > 4}"><span data-babel="#showall"></span></button> </h3> <div if="{hasdata}" class="indicators"> <virtual each="{indicator,index in indicators}"> <imf-indicator-panel indicator="{index < maximum ? indicator : \'\'}" geoitem="{state.geoitem}" future="{dataset.projectionyear}" on-click="{onPanelClick}"></imf-indicator-panel> </virtual> </div>','imf-dataset-panel h3,[riot-tag="imf-dataset-panel"] h3,[data-is="imf-dataset-panel"] h3{ text-transform: uppercase; color: #044e98; font-size: 14px; font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; padding: 40px 20px 10px 20px; } imf-dataset-panel h3 span,[riot-tag="imf-dataset-panel"] h3 span,[data-is="imf-dataset-panel"] h3 span{ display: inline-block; margin: 0 20px; font-family: MuseoSans-300,museo-sans,Helvetica,Arial,sans-serif; font-weight: 300; } imf-dataset-panel button,[riot-tag="imf-dataset-panel"] button,[data-is="imf-dataset-panel"] button{ float: right; border: none; display: inline-block; white-space: nowrap; padding: 4px 0; border-radius: 10px; text-align: center; font-size: 11pt; text-transform: uppercase; color: #fff; background-color: #0cafae; transition: opacity 0.5s linear; position: relative; top: -10px; } imf-dataset-panel button:focus,[riot-tag="imf-dataset-panel"] button:focus,[data-is="imf-dataset-panel"] button:focus{ outline: none; } imf-dataset-panel button:hover,[riot-tag="imf-dataset-panel"] button:hover,[data-is="imf-dataset-panel"] button:hover{ background-color: #0ba8a0; } imf-dataset-panel .indicators,[riot-tag="imf-dataset-panel"] .indicators,[data-is="imf-dataset-panel"] .indicators{ width: 100%; max-height: 302px; overflow: hidden; background: #f8f9fb; border-bottom: 20px solid #f8f9fb; } imf-dataset-panel.expanded .indicators,[riot-tag="imf-dataset-panel"].expanded .indicators,[data-is="imf-dataset-panel"].expanded .indicators{ max-height: 9999px; transition: max-height 0.5s linear; } imf-dataset-panel .indicators:after,[riot-tag="imf-dataset-panel"] .indicators:after,[data-is="imf-dataset-panel"] .indicators:after{ content: ""; display: table; clear: both; } imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ float: left; width: 25%; border-left: 6px solid #f8f9fb; border-right: 6px solid #f8f9fb; border-top: 12px solid #f8f9fb; border-bottom: 12px solid #f8f9fb; box-shadow: none; } imf-dataset-panel imf-indicator-panel:nth-child(4n + 1),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(4n + 1),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(4n + 1){ border-left: none; } imf-dataset-panel imf-indicator-panel:nth-child(4n),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(4n),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(4n){ border-right: none; } imf-dataset-panel imf-indicator-panel .geoitem,[riot-tag="imf-dataset-panel"] imf-indicator-panel .geoitem,[data-is="imf-dataset-panel"] imf-indicator-panel .geoitem{ display: none; } imf-dataset-panel imf-indicator-panel[data-indicator],[riot-tag="imf-dataset-panel"] imf-indicator-panel[data-indicator],[data-is="imf-dataset-panel"] imf-indicator-panel[data-indicator]{ cursor: pointer; } @media only screen and (min-width: 801px) and (max-width: 1080px) { imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: 33.3%; } imf-dataset-panel imf-indicator-panel:nth-child(3n + 1),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(3n + 1),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(3n + 1){ border-left: none; } imf-dataset-panel imf-indicator-panel:nth-child(3n),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(3n),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(3n){ border-right: none; } } @media only screen and (min-width: 501px) and (max-width: 800px) { imf-dataset-panel .indicators,[riot-tag="imf-dataset-panel"] .indicators,[data-is="imf-dataset-panel"] .indicators{ max-height: 585px; } imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: 50%; } imf-dataset-panel imf-indicator-panel:nth-child(2n + 1),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(2n + 1),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(2n + 1){ border-left: none; } imf-dataset-panel imf-indicator-panel:nth-child(2n),[riot-tag="imf-dataset-panel"] imf-indicator-panel:nth-child(2n),[data-is="imf-dataset-panel"] imf-indicator-panel:nth-child(2n){ border-right: none; } imf-dataset-panel h3 > span,[riot-tag="imf-dataset-panel"] h3 > span,[data-is="imf-dataset-panel"] h3 > span{ display: block !important; margin: 0 !important; } imf-dataset-panel button,[riot-tag="imf-dataset-panel"] button,[data-is="imf-dataset-panel"] button{ margin-top: -20px; } } @media only screen and (max-width: 500px) { imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: 100%; border-left: none; border-right: none; } }',"",function(t){var e=this;e.mixin("imf-hierarchies"),e.hierarchies(!1),e.maximum=4,e.expanded=!1,e.default=!1,e.onPanelClick=function(t){for(var e=t.target;"BODY"!=e.nodeName;e=e.parentNode){var i;if(e.hasAttribute("indicator")&&(i=[e.getAttribute("indicator")]),e.hasAttribute("dataset")){var a=e.getAttribute("dataset"),r=document.querySelector("base").getAttribute("href");if(!i)return;var n=imf.state.get("geoitem")[0],o=r+i+"@"+a+"/"+n;"C"==imf.data.geoitems[n].type&&(o+="?zoom="+n+"&highlight="+n),window.location.href=o}}},e.on("mount",function(){var t=e.root.querySelector("button");t&&t.addEventListener("click",function(i){var a=!e.root.classList.contains("expanded");e.root.classList.toggle("expanded"),t.style.opacity=0,setTimeout(function(){t.style.opacity=1,t.firstChild.innerHTML=a?imf.data.meta.collapse:imf.data.meta.showall,e.maximum=a?e.count:4,e.expanded=a,e.update()},500)})}),e.on("update",function(){e.dataset=imf.data.datasets[t.dataset];var i=!!t.geoitem&&imf.data.geoitems[t.geoitem].type;if(e.hasdata="C"==i,i&&"C"!=i)for(var a=0,r=e["R"==i?"regions":"groups"];a<r.length;a++)if(r[a].id==t.geoitem){e.hasdata=!0;break}for(var a in e.count=0,e.dataset.hierarchies.indicators)e.count+=e.dataset.hierarchies.indicators[a].indicators.length;if(t.default&&!e.default){e.root.classList.add("default"),e.root.classList.add("expanded"),e.maximum=e.count;var n=e.root.querySelector("button");n&&(n.firstChild.innerHTML=imf.data.meta.collapse,e.default=!0)}if(e.dataset.profile)e.indicators=e.dataset.profile.split(/\s*,\s*/);else for(var a in e.indicators=[],e.dataset.hierarchies.indicators)for(var o=0;o<e.dataset.hierarchies.indicators[a].indicators.length;o++)e.indicators.push(e.dataset.hierarchies.indicators[a].indicators[o])});var i=2;e.on("updated",function(){0==--i&&e.update()})}),riot.tag2("imf-dataset-selector",'<div class="dm-component-header"> <h1>{label}</h1> <div class="dm-description" data-role="description"></div> </div> <div if="{groups}" class="dm-panels"> <imf-group-panel each="{group in groups}" dataset="{dataset}" group="{group}"></imf-group-panel> </div> <virtual if="{indicators}"> <div class="dm-panels A"> <h3> {geoitem.label} <a class="dm-profile-button" href="profile/{gid}/{opts.dataset}" data-babel="#profile"></a> </h3> <imf-indicator-panel each="{item in indicators}" load-indicator="{true}" class="swiper-slide" dataset="{parent.dataset}" indicator="{item}" future="{parent.future}" on-click="{imf.panel}"></imf-indicator-panel> </div> <div if="{more.length}" class="dm-related-datasets darkblue">Z <h3 if="{more.length != 1}"><span data-babel="#moregroupspre"></span> {more.length} <span data-babel="#moregroupspost"></span>: {moretitle}</h3> <h3 if="{more.length == 1}"><span data-babel="#othergroup"></span>: {moretitle}</h3> <swiper-panel items="{more}"> <imf-group-panel dataset="{item.dataset}" group="{item.group}" on-click="{imf.panel}"></imf-group-panel> </swiper-panel> </div> </virtual> <div if="{datasets && !groups}" class="dm-panels"> <h3 if="{groups}"><span data-babel="#moredatasetspre"></span> {datasets.length} <span data-babel="#moredatasetspost"></span></h3> <div if="{datasets}" class="dm-related-datasets"> <swiper-panel class="{disabled: !groups}" items="{datasets}"> <imf-group-panel dataset="{item}" on-click="{imf.panel}"></imf-group-panel> </swiper-panel> </div> </div>','imf-dataset-selector,[riot-tag="imf-dataset-selector"],[data-is="imf-dataset-selector"]{ display: block; } imf-dataset-selector h3,[riot-tag="imf-dataset-selector"] h3,[data-is="imf-dataset-selector"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; padding: 10px 0; margin-top: 35px; position: relative; min-height: 40px; } imf-dataset-selector .dm-panels:first-of-type h3 > span,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span{ position: absolute; top: 0; } imf-dataset-selector .dm-panels:first-of-type h3 > span:first-child,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:first-child,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:first-child{ left: 20px; } imf-dataset-selector .dm-panels:first-of-type h3 > span:last-child,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:last-child,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:last-child{ right: 20px; } imf-dataset-selector[dataset] .dm-component-header,[riot-tag="imf-dataset-selector"][dataset] .dm-component-header,[data-is="imf-dataset-selector"][dataset] .dm-component-header{ background-image: url(images/dotted-world.svg); background-size: 80%; background-position: center 50px; background-repeat: no-repeat; } imf-dataset-selector[group] .dm-component-header,[riot-tag="imf-dataset-selector"][group] .dm-component-header,[data-is="imf-dataset-selector"][group] .dm-component-header{ background-image: none; } imf-dataset-selector .dm-description p,[riot-tag="imf-dataset-selector"] .dm-description p,[data-is="imf-dataset-selector"] .dm-description p{ padding: 10px 70px; line-height: 20pt; white-space: pre-line; max-width: 1000px; margin: 0 auto; font-size: 13pt; text-align: justify; } imf-dataset-selector a,[riot-tag="imf-dataset-selector"] a,[data-is="imf-dataset-selector"] a,imf-dataset-selector a:visited,[riot-tag="imf-dataset-selector"] a:visited,[data-is="imf-dataset-selector"] a:visited{ color: #0cafae; text-decoration: none; transition: background-color 0.5s linear; } imf-dataset-selector a:hover,[riot-tag="imf-dataset-selector"] a:hover,[data-is="imf-dataset-selector"] a:hover{ background-color: rgba(0,0,0,0.04); } imf-dataset-selector font,[riot-tag="imf-dataset-selector"] font,[data-is="imf-dataset-selector"] font{ font-family: inherit !important; font-weight: bold; } imf-dataset-selector .dm-panels,[riot-tag="imf-dataset-selector"] .dm-panels,[data-is="imf-dataset-selector"] .dm-panels{ padding-bottom: 40px; } imf-dataset-selector .darkblue,[riot-tag="imf-dataset-selector"] .darkblue,[data-is="imf-dataset-selector"] .darkblue{ background-color: #19345f; } imf-dataset-selector .darkblue.dm-panels,[riot-tag="imf-dataset-selector"] .darkblue.dm-panels,[data-is="imf-dataset-selector"] .darkblue.dm-panels{ padding-bottom: 0; } imf-dataset-selector .darkblue > h3,[riot-tag="imf-dataset-selector"] .darkblue > h3,[data-is="imf-dataset-selector"] .darkblue > h3{ color: #fff; } imf-dataset-selector .dm-panels .swiper-slide,[riot-tag="imf-dataset-selector"] .dm-panels .swiper-slide,[data-is="imf-dataset-selector"] .dm-panels .swiper-slide{ float: left; border: 4px solid #fff; } imf-dataset-selector[dataset] .dm-panels .swiper-slide,[riot-tag="imf-dataset-selector"][dataset] .dm-panels .swiper-slide,[data-is="imf-dataset-selector"][dataset] .dm-panels .swiper-slide{ border: 2px solid #fff; } imf-dataset-selector .dm-panels:after,[riot-tag="imf-dataset-selector"] .dm-panels:after,[data-is="imf-dataset-selector"] .dm-panels:after{ content: ""; clear: both; display: table; } imf-dataset-selector .dm-related-datasets,[riot-tag="imf-dataset-selector"] .dm-related-datasets,[data-is="imf-dataset-selector"] .dm-related-datasets{ } imf-dataset-selector .dm-related-datasets:after,[riot-tag="imf-dataset-selector"] .dm-related-datasets:after,[data-is="imf-dataset-selector"] .dm-related-datasets:after{ content: ""; clear: both; display: table; } imf-dataset-selector .more,[riot-tag="imf-dataset-selector"] .more,[data-is="imf-dataset-selector"] .more{ padding-bottom: 50px; position: relative; } imf-dataset-selector .more:before,[riot-tag="imf-dataset-selector"] .more:before,[data-is="imf-dataset-selector"] .more:before{ content: attr(data-more); width: 100px; position: absolute; bottom: 0; left: 50%; margin-left: -50px; background: #0cafae; padding: 10px; border-radius: 5px; color: #fff; cursor: pointer; display: inline-block; text-transform: uppercase; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-dataset-selector .more:hover:before,[riot-tag="imf-dataset-selector"] .more:hover:before,[data-is="imf-dataset-selector"] .more:hover:before{ background-color: #0ba8a0; } imf-dataset-selector .opened.more:before,[riot-tag="imf-dataset-selector"] .opened.more:before,[data-is="imf-dataset-selector"] .opened.more:before{ content: attr(data-less); } imf-dataset-selector .more > p,[riot-tag="imf-dataset-selector"] .more > p,[data-is="imf-dataset-selector"] .more > p{ display: none; } imf-dataset-selector .opened.more > p,[riot-tag="imf-dataset-selector"] .opened.more > p,[data-is="imf-dataset-selector"] .opened.more > p{ display: block; }',"",function(t){var e=this,i=!1,a=!1;e.on("update",function(){if(i!=t.dataset||a!=t.group){delete e.indicators,delete e.groups,delete e.more,delete e.datasets;var r=imf.data.datasets;if(r){var n=r[t.dataset];if(n&&(e.gid=n.initchart.split(",")[0],e.geoitem=imf.data.geoitems[e.gid]),t.group){var o=n.hierarchies.indicators[t.group];for(var s in e.label=o.label,e.description=n["group"+t.group+"long"]||"",e.dataset=t.dataset,e.future=n.projectionyear,e.moretitle=n.title,e.indicators=o.indicators,e.more=[],n.hierarchies.indicators)s!=t.group&&e.more.push({dataset:t.dataset,group:s})}else if(t.dataset){var l=n.hierarchies.indicators;for(var s in e.label=n.title,e.description=n.description,e.dataset=t.dataset,e.groups=[],l)e.groups.push(s)}else e.label=imf.translate("datasets"),e.description=imf.translate("datasetsdescription");if(!t.group){for(var d in e.datasets=[],r)d!=t.dataset&&e.datasets.push(d);e.datasets.sort(function(t,e){return+r[t].order<+r[e].order?-1:1})}var c=e.root.querySelector('[data-role="description"]');if(c){-1==e.description.indexOf("<p")?c.innerHTML="<p>"+e.description+"</p>":c.innerHTML=e.description;window.innerWidth;c.style.display=""!=e.description?"block":"none"}i=t.dataset,a=t.group}}}),e.on("updated",function(){imf.translate(e.root)})}),riot.tag2("imf-geoitem-selector",'<div class="dm-popup-header" data-babel="#add"></div> <radio-group> <div class="dm-popup-pane" data-babel="@data-title" data-title="country"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.countries}">{label}</div> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="region"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.regions}">{label}</div> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="group"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.groups}">{label}</div> </div> </radio-group> <div class="dm-popup-footer"> <div class="dm-button-wrapper"> <button class="cancel" data-babel="#cancel"></button> </div> <div class="dm-button-wrapper"> <button class="add" data-babel="#ok"></button> </div> </div>','imf-geoitem-selector,[riot-tag="imf-geoitem-selector"],[data-is="imf-geoitem-selector"]{ display: none; position: absolute; left: 0; right: 0; top: 0; color: #fff; z-index: 2000; background: #0e4e98; height: 560px; padding: 0 30px; } imf-geoitem-selector.opened,[riot-tag="imf-geoitem-selector"].opened,[data-is="imf-geoitem-selector"].opened{ display: block; } imf-geoitem-selector radio-group,[riot-tag="imf-geoitem-selector"] radio-group,[data-is="imf-geoitem-selector"] radio-group{ height: calc(100% - 160px); } imf-geoitem-selector .dm-popup-header,[riot-tag="imf-geoitem-selector"] .dm-popup-header,[data-is="imf-geoitem-selector"] .dm-popup-header,imf-geoitem-selector .dm-popup-footer,[riot-tag="imf-geoitem-selector"] .dm-popup-footer,[data-is="imf-geoitem-selector"] .dm-popup-footer{ padding: 20px 0; font-size: 16px; margin-right: 30px; text-transform: uppercase; } imf-geoitem-selector .dm-popup-header,[riot-tag="imf-geoitem-selector"] .dm-popup-header,[data-is="imf-geoitem-selector"] .dm-popup-header{ border-bottom: 1px solid #fff; margin-bottom: 20px; } imf-geoitem-selector .dm-popup-footer,[riot-tag="imf-geoitem-selector"] .dm-popup-footer,[data-is="imf-geoitem-selector"] .dm-popup-footer{ height: 80px; border-top: 1px solid #fff; } imf-geoitem-selector .dm-popup-pane,[riot-tag="imf-geoitem-selector"] .dm-popup-pane,[data-is="imf-geoitem-selector"] .dm-popup-pane{ text-align: left; margin-top: 10px; height: calc(100% - 45px); overflow: auto; } imf-geoitem-selector .dm-button-wrapper,[riot-tag="imf-geoitem-selector"] .dm-button-wrapper,[data-is="imf-geoitem-selector"] .dm-button-wrapper{ width: 49%; display: inline-block; margin: 0 auto; } imf-geoitem-selector .dm-button-wrapper:last-of-type,[riot-tag="imf-geoitem-selector"] .dm-button-wrapper:last-of-type,[data-is="imf-geoitem-selector"] .dm-button-wrapper:last-of-type{ text-align: right; } imf-geoitem-selector button,[riot-tag="imf-geoitem-selector"] button,[data-is="imf-geoitem-selector"] button{ border: none; font-size: 10pt; cursor: pointer; padding: 10px 20px; min-width: 100px; text-transform: uppercase; border-radius: 5px; } imf-geoitem-selector button.cancel,[riot-tag="imf-geoitem-selector"] button.cancel,[data-is="imf-geoitem-selector"] button.cancel{ background: #fff; } imf-geoitem-selector button.add,[riot-tag="imf-geoitem-selector"] button.add,[data-is="imf-geoitem-selector"] button.add{ background: #0cafae; color: #fff; } imf-geoitem-selector button.add:hover,[riot-tag="imf-geoitem-selector"] button.add:hover,[data-is="imf-geoitem-selector"] button.add:hover{ background-color: #0ba8a0; } imf-geoitem-selector .dm-radio-buttons,[riot-tag="imf-geoitem-selector"] .dm-radio-buttons,[data-is="imf-geoitem-selector"] .dm-radio-buttons{ margin: 0; background: inherit; } imf-geoitem-selector .dm-radio-buttons > label,[riot-tag="imf-geoitem-selector"] .dm-radio-buttons > label,[data-is="imf-geoitem-selector"] .dm-radio-buttons > label{ background: #fff; } imf-geoitem-selector .dm-geoitem,[riot-tag="imf-geoitem-selector"] .dm-geoitem,[data-is="imf-geoitem-selector"] .dm-geoitem{ position: relative; cursor: pointer; padding: 5px 0; } imf-geoitem-selector .selected.dm-geoitem,[riot-tag="imf-geoitem-selector"] .selected.dm-geoitem,[data-is="imf-geoitem-selector"] .selected.dm-geoitem{ background: #1b6f94; } imf-geoitem-selector .selected.dm-geoitem:after,[riot-tag="imf-geoitem-selector"] .selected.dm-geoitem:after,[data-is="imf-geoitem-selector"] .selected.dm-geoitem:after{ position: absolute; right: 20px; content: "\\2713"; } imf-geoitem-selector .disabled.dm-geoitem,[riot-tag="imf-geoitem-selector"] .disabled.dm-geoitem,[data-is="imf-geoitem-selector"] .disabled.dm-geoitem{ opacity: 0.5; pointer-events: none; } imf-geoitem-selector .dm-geoitem:hover,[riot-tag="imf-geoitem-selector"] .dm-geoitem:hover,[data-is="imf-geoitem-selector"] .dm-geoitem:hover{ background: #1b6f94; } imf-geoitem-selector [data-level="1"],[riot-tag="imf-geoitem-selector"] [data-level="1"],[data-is="imf-geoitem-selector"] [data-level="1"]{ padding-left: 20px; } imf-geoitem-selector [data-level="2"],[riot-tag="imf-geoitem-selector"] [data-level="2"],[data-is="imf-geoitem-selector"] [data-level="2"]{ padding-left: 40px; }',"",function(t){var e=this;function i(t){var i=t.target,a=i.classList,r=imf.state.get("geoitem")||[];if("BUTTON"==i.nodeName)a.contains("add")&&imf.state.set("geoitem",r),e.root.classList.remove("opened");else if(i.hasAttribute("data-geoitem")){var n=i.getAttribute("data-geoitem");a.contains("selected")?(r.splice(r.indexOf(n),1),a.remove("selected")):(r.push(n),a.add("selected"))}}e.mixin("imf-hierarchies"),e.root.addEventListener("mouseover",function(t){imf.state.set("highlight",t.target.getAttribute("data-geoitem"))}),e.on("mount",function(){imf.translate(e.root),e.root.classList.add("opened"),e.root.addEventListener("click",i)}),e.on("unmount",function(){e.root.removeEventListener("click",i)}),e.on("mount",function(){e.root.style.top="";var t=e.root.getBoundingClientRect();t.height>window.innerHeight?(e.root.style.top=window.innerHeight-t.top+"px",e.root.style.height=window.innerHeight+"px"):t.top+t.height>window.innerHeight&&(e.root.style.top=window.innerHeight-t.top-t.height+"px")}),e.on("update",function(){e.hierarchies(),e.countries.sort(e.localeSort)})}),riot.tag2("imf-group-panel",'<h1> {label} <span if="{!ccount}" class="numindics"> {icount} <span data-babel="#indicators"></span>, {first} - {last} </span> </h1> <swiper-panel if="{!ccount}" items="{indicators}"> <div class="indicator-panel" indicator="{item.indicator}" onclick="{imf.panel}"> <div class="inner-panel"> <span>{item.label}</span> <span>{item.unit}</span> </div> </div> </swiper-panel> <table if="{ccount}"> <tr><td data-babel="#indicators"></td><td align="right"><span class="highlight">{icount}</span></td></tr> <tr><td data-babel="#timerange"></td><td align="right">{first} - {last}</td></tr> <tr><td data-babel="#countries"></td><td align="right">{ccount}</td></tr> <tr><td data-babel="#regionsandgroups"></td><td align="right">{gcount}</td></tr> </table>','imf-group-panel,[riot-tag="imf-group-panel"],[data-is="imf-group-panel"]{ display: block; color: #fff; font-size: 11pt; line-height: 17pt; background-color: #19345f; padding: 15px 30px; position: relative; height: 260px; } imf-group-panel[group],[riot-tag="imf-group-panel"][group],[data-is="imf-group-panel"][group]{ color: #000; background-color: #fff; height: 245px; } imf-group-panel h1,[riot-tag="imf-group-panel"] h1,[data-is="imf-group-panel"] h1,imf-group-panel .indicator-panel span:first-child,[riot-tag="imf-group-panel"] .indicator-panel span:first-child,[data-is="imf-group-panel"] .indicator-panel span:first-child{ font-size: 16px; font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; text-align: center; text-overflow: ellipsis; overflow: hidden; display: block; line-height: 18px; } imf-group-panel h1,[riot-tag="imf-group-panel"] h1,[data-is="imf-group-panel"] h1{ height: 45px; } imf-group-panel[group] h1,[riot-tag="imf-group-panel"][group] h1,[data-is="imf-group-panel"][group] h1{ text-transform: uppercase; color: #044e98; font-size: 14px; font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; height: 35px; } imf-group-panel .swiper-slide,[riot-tag="imf-group-panel"] .swiper-slide,[data-is="imf-group-panel"] .swiper-slide{ border: none !important; } imf-group-panel .indicator-panel,[riot-tag="imf-group-panel"] .indicator-panel,[data-is="imf-group-panel"] .indicator-panel{ border-top: 18px solid #f8f9fb; border-bottom: 18px solid #f8f9fb; border-left: 9px solid #f8f9fb; border-right: 9px solid #f8f9fb; height: 175px; } imf-group-panel .inner-panel,[riot-tag="imf-group-panel"] .inner-panel,[data-is="imf-group-panel"] .inner-panel{ position: relative; padding: 0 10px; width: 100%; height: 100%; } imf-group-panel .swiper-slide:first-child .indicator-panel,[riot-tag="imf-group-panel"] .swiper-slide:first-child .indicator-panel,[data-is="imf-group-panel"] .swiper-slide:first-child .indicator-panel{ border-left: 18px solid #f8f9fb; } imf-group-panel .swiper-slide:last-child .indicator-panel,[riot-tag="imf-group-panel"] .swiper-slide:last-child .indicator-panel,[data-is="imf-group-panel"] .swiper-slide:last-child .indicator-panel{ border-right: 18px solid #f8f9fb; } imf-group-panel swiper-panel.no-pagination .swiper-wrapper,[riot-tag="imf-group-panel"] swiper-panel.no-pagination .swiper-wrapper,[data-is="imf-group-panel"] swiper-panel.no-pagination .swiper-wrapper{ transform: none !important; } imf-group-panel .indicator-panel span:first-child,[riot-tag="imf-group-panel"] .indicator-panel span:first-child,[data-is="imf-group-panel"] .indicator-panel span:first-child{ padding-top: 10px; } imf-group-panel .indicator-panel span:last-child,[riot-tag="imf-group-panel"] .indicator-panel span:last-child,[data-is="imf-group-panel"] .indicator-panel span:last-child{ display: block; position: absolute; top: 65px; left: 10px; right: 10px; text-align: center; font-size: 11pt; } imf-group-panel table,[riot-tag="imf-group-panel"] table,[data-is="imf-group-panel"] table{ width: 100%; border-spacing: 0; } imf-group-panel td,[riot-tag="imf-group-panel"] td,[data-is="imf-group-panel"] td{ padding: 3px 0; white-space: nowrap; } imf-group-panel .highlight,[riot-tag="imf-group-panel"] .highlight,[data-is="imf-group-panel"] .highlight{ padding: 5px 10px; background: #0cafae; color: #fff; } imf-group-panel .highlight:hover,[riot-tag="imf-group-panel"] .highlight:hover,[data-is="imf-group-panel"] .highlight:hover{ background-color: #0ba8a0; } imf-group-panel p,[riot-tag="imf-group-panel"] p,[data-is="imf-group-panel"] p{ line-height: 18pt; height: 50px; text-align: center; } imf-group-panel:after,[riot-tag="imf-group-panel"]:after,[data-is="imf-group-panel"]:after{ content: ""; position: absolute; left: 0; right: 0; bottom: 0; top: 0; pointer-events: none; background-color: rgba(0,0,0,0); -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-group-panel .numindics,[riot-tag="imf-group-panel"] .numindics,[data-is="imf-group-panel"] .numindics{ font-family: MuseoSans-300,museo-sans,Helvetica,Arial,sans-serif; font-weight: 300; padding-left: 40px; } imf-group-panel .indicator-panel:hover div,[riot-tag="imf-group-panel"] .indicator-panel:hover div,[data-is="imf-group-panel"] .indicator-panel:hover div{ -webkit-box-shadow: 0px 1px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 1px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 1px 2.91px 0.09px rgba(0, 0, 0, 0.4); }',"",function(t){var e=this;e.mixin("imf-hierarchies"),e.on("mount",function(){t.onClick&&e.root.addEventListener("click",t.onClick)}),e.on("update",function(){if(!imf.state.get("show_tool")){var i=imf.data.datasets[t.dataset];e.label=i.title,e.description=t.group?i["group"+t.group+"short"]:i.shortdescription,e.icount=0,e.first=Number.MAX_VALUE,e.last=Number.MIN_VALUE;var a=[];for(var r in i.hierarchies&&(a=t.group?[i.hierarchies.indicators[t.group]]:i.hierarchies.indicators),e.indicators=[],a){var n=a[r];if(n.indicators){e.icount+=n.indicators.length;for(var o=0;o<n.indicators.length;o++){var s=imf.data.indicators[n.indicators[o]];e.first=Math.min(e.first,s.minyear||i.minyear),e.last=Math.max(e.last,s.maxyear||i.maxyear),e.indicators.push({indicator:n.indicators[o],label:s.label,unit:s.unit})}t.group&&(e.label=n.label)}}t.group||(e.regions||e.hierarchies(),e.ccount=i.numcountries,e.gcount=e.regions.length+e.groups.length)}})}),riot.tag2("imf-indicator-panel",'<div class="header"> <h1>{indicator.label || iid}</h1> <div class="unit">{indicator.unit || \'\'}</div> </div> <div class="value">{value || nodata}</div> <div class="wordify">{wordify}</div> <mw-chart name="chart" datamanager="{datamanager}" indicators="{[iid]}" geoitems="{[gid]}" year="{year}" on-year="{onYear}" future="{future}" options="{chartoptions}"></mw-chart> <div class="geoitem"> {geoitem.label || gid} </div>','imf-indicator-panel,[riot-tag="imf-indicator-panel"],[data-is="imf-indicator-panel"]{ display: block; height: 300px !important; background-color: #fff; padding: 15px 30px; text-align: center !important; box-shadow: inset 0 0 0 1px #dedfe1; cursor: pointer; } imf-indicator-panel .header,[riot-tag="imf-indicator-panel"] .header,[data-is="imf-indicator-panel"] .header{ height: 65px; } imf-indicator-panel h1,[riot-tag="imf-indicator-panel"] h1,[data-is="imf-indicator-panel"] h1{ font-size: 105%; font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; max-height: 65px; text-overflow: ellipsis; overflow: hidden; } imf-indicator-panel p,[riot-tag="imf-indicator-panel"] p,[data-is="imf-indicator-panel"] p{ height: 45px; overflow: hidden; } imf-indicator-panel .unit,[riot-tag="imf-indicator-panel"] .unit,[data-is="imf-indicator-panel"] .unit{ font-style: italic; font-size: 13px; } imf-indicator-panel .geoitem,[riot-tag="imf-indicator-panel"] .geoitem,[data-is="imf-indicator-panel"] .geoitem{ font-size: 13px; margin-top: 20px; } imf-indicator-panel .value,[riot-tag="imf-indicator-panel"] .value,[data-is="imf-indicator-panel"] .value{ margin-top: 10px; font-size: 35px; height: 40px; font-weight: 200; color: #1b335f; } imf-indicator-panel .wordify,[riot-tag="imf-indicator-panel"] .wordify,[data-is="imf-indicator-panel"] .wordify{ font-size: 14px; color: #1b335f; height: 16px; } imf-indicator-panel .chart-container,[riot-tag="imf-indicator-panel"] .chart-container,[data-is="imf-indicator-panel"] .chart-container{ height: 100px; pointer-events: none; } imf-indicator-panel mw-chart,[riot-tag="imf-indicator-panel"] mw-chart,[data-is="imf-indicator-panel"] mw-chart{ clear: both; height: 100px; } imf-indicator-panel .year-slider,[riot-tag="imf-indicator-panel"] .year-slider,[data-is="imf-indicator-panel"] .year-slider{ position: relative; left: 4px; width: calc(100% + 28px); } imf-indicator-panel .year-slider[data-frequency="1"],[riot-tag="imf-indicator-panel"] .year-slider[data-frequency="1"],[data-is="imf-indicator-panel"] .year-slider[data-frequency="1"]{ width: calc(100% + 18px); } imf-indicator-panel .slider-handle,[riot-tag="imf-indicator-panel"] .slider-handle,[data-is="imf-indicator-panel"] .slider-handle{ position: relative; top: -25px; padding: 5px; } imf-indicator-panel .slider-handle > span,[riot-tag="imf-indicator-panel"] .slider-handle > span,[data-is="imf-indicator-panel"] .slider-handle > span{ display: inline-block; white-space: nowrap; width: 56px; padding: 3px 8px; margin-left: -28px; border-radius: 4px; text-align: center; font-size: 11pt; color: #fff; background-color: #0cafae; -webkit-box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); -moz-box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); } imf-indicator-panel .slider-handle:hover > span,[riot-tag="imf-indicator-panel"] .slider-handle:hover > span,[data-is="imf-indicator-panel"] .slider-handle:hover > span{ background-color: #0ba8a0; } imf-indicator-panel [data-frequency="M"] .slider-handle > span,[riot-tag="imf-indicator-panel"] [data-frequency="M"] .slider-handle > span,[data-is="imf-indicator-panel"] [data-frequency="M"] .slider-handle > span,imf-indicator-panel [data-frequency="Q"] .slider-handle > span,[riot-tag="imf-indicator-panel"] [data-frequency="Q"] .slider-handle > span,[data-is="imf-indicator-panel"] [data-frequency="Q"] .slider-handle > span{ width: 80px; margin-left: -40px; } imf-indicator-panel .slider-handle > div,[riot-tag="imf-indicator-panel"] .slider-handle > div,[data-is="imf-indicator-panel"] .slider-handle > div{ position: absolute; border-left: 1px solid #aeaeae; } imf-indicator-panel .slider-handle > div:before,[riot-tag="imf-indicator-panel"] .slider-handle > div:before,[data-is="imf-indicator-panel"] .slider-handle > div:before{ content: ""; position: absolute; top: -5px; left: -5px; width: 10px; height: 10px; background-color: #132c55; border-radius: 5px; } imf-indicator-panel:hover,[riot-tag="imf-indicator-panel"]:hover,[data-is="imf-indicator-panel"]:hover{ color: #1b335f; background-color: #f5f5f5; } imf-indicator-panel:hover rect,[riot-tag="imf-indicator-panel"]:hover rect,[data-is="imf-indicator-panel"]:hover rect,imf-indicator-panel:hover path[fill="#fff"],[riot-tag="imf-indicator-panel"]:hover path[fill="#fff"],[data-is="imf-indicator-panel"]:hover path[fill="#fff"]{ fill: #f5f5f5; } imf-indicator-panel .chart-wrapper,[riot-tag="imf-indicator-panel"] .chart-wrapper,[data-is="imf-indicator-panel"] .chart-wrapper{ cursor: auto; }',"",function(t){var e,i,a,r=this;function n(){var t=r.tags.chart.chart();if(t&&r.year){var e=r.indicator.values[r.gid];if(!e)return;var i=t.position(r.year,e[r.year]),n=r.root.querySelector(".slider-handle");n&&("DIV"!=n.lastChild.nodeName&&n.appendChild(document.createElement("div")),n.lastChild.style.display=isNaN(i.y)?"none":"block",n.lastChild.style.top=i.y-a+25+"px",n.lastChild.style.height=a-20-i.y+"px")}}r.datamanager=imf.data,r.chartoptions=mw.support.extend(imf.chart.small,{}),r.year=(new Date).getFullYear(),r.onYear=function(t){r.year!==t&&(r.year=t,r.update())},r.on("mount",function(){var a;t.onClick&&(r.root.addEventListener("mousedown",function(t){a=!1;for(var e=t.target;"IMF-INDICATOR-PANEL"!=e.nodeName;e=e.parentNode)(e.classList.contains("year-slider")||e.classList.contains("dm-profile-button"))&&(a=!0)},!0),r.root.addEventListener("mouseup",function(e){a||t.onClick(e)}));function n(){if(i!==r.root.offsetWidth){i=r.root.offsetWidth;var t=r.tags.chart.chart();t&&t.redraw()}}function o(){clearTimeout(e),e=setTimeout(n,250)}i=r.root.offsetWidth,window.addEventListener("resize",o),window.addEventListener("orientationchage",o)}),r.on("update",function(){if(r.isMounted){if(t.loadIndicator&&t.indicator!=r.iid&&r.one("updated",function(){imf.data.load(t.indicator,function(){r.tags.chart.update(),n()})}),r.future=t.future,r.iid=t.indicator,r.gid=t.geoitem,!r.gid){var e=imf.data.datasets[t.dataset];e&&(r.gid=e.initchart.split(",")[0])}if(r.iid&&r.gid){if(r.indicator=imf.data.indicators[r.iid],r.geoitem=imf.data.geoitems[r.gid],!r.indicator.statistics)return r.indicator.statistics={},void imf.data.load(r.iid,function(){r.update()});var i=imf.data.latest(r.iid,r.gid,r.year);-1==i.value.indexOf(" ")||i.value==imf.data.meta.nodata?(r.value=r.indicator.statistics?i.value:"",r.wordify=""):(r.value=String(i.value).replace(/(.*)\s+(\w+)/,"$1"),r.wordify=String(i.value).replace(/(.*)\s+(\w+)/,"$2")),i.value==imf.data.meta.nodata&&imf.data.load(r.iid,function(){!imf.data.indicators[r.iid].values[r.gid]&&r.indicator.defaultgeoitem&&(t.geoitem=r.indicator.defaultgeoitem,r.update())})}}}),r.on("updated",function(){if(!a){var t=r.root.querySelector(".chart-container");t&&(a=t.clientHeight)}a&&r.indicator&&r.indicator.values&&n()})}),riot.tag2("imf-indicator-selector",'<div class="dm-popup-header" data-babel="#add"></div> <div class="dm-popup-pane"> <div each="{indicators}"> <div class="group-label">{label}</div> <div data-indicator="{id}" class="{dm-indicator: true, selected: selected}" each="{indicators}">{label}</div> </div> </div> <div class="dm-popup-footer"> <div class="dm-button-wrapper"> <button class="cancel" data-babel="#cancel"></button> </div> <div class="dm-button-wrapper"> <button class="add" data-babel="#ok"></button> </div> </div>','imf-indicator-selector,[riot-tag="imf-indicator-selector"],[data-is="imf-indicator-selector"]{ display: none; position: absolute; left: 0; right: 0; top: 0; bottom: 0; color: #fff; z-index: 5000; background: #0e4e98; padding: 0 30px; } imf-indicator-selector.opened,[riot-tag="imf-indicator-selector"].opened,[data-is="imf-indicator-selector"].opened{ display: block; } imf-indicator-selector .dm-popup-header,[riot-tag="imf-indicator-selector"] .dm-popup-header,[data-is="imf-indicator-selector"] .dm-popup-header,imf-indicator-selector .dm-popup-footer,[riot-tag="imf-indicator-selector"] .dm-popup-footer,[data-is="imf-indicator-selector"] .dm-popup-footer{ padding: 20px 0; font-size: 16px; text-transform: uppercase; } imf-indicator-selector .dm-popup-header,[riot-tag="imf-indicator-selector"] .dm-popup-header,[data-is="imf-indicator-selector"] .dm-popup-header{ border-bottom: 1px solid #fff; margin-bottom: 20px; } imf-indicator-selector .dm-popup-footer,[riot-tag="imf-indicator-selector"] .dm-popup-footer,[data-is="imf-indicator-selector"] .dm-popup-footer{ height: 80px; border-top: 1px solid #fff; } imf-indicator-selector .dm-popup-pane,[riot-tag="imf-indicator-selector"] .dm-popup-pane,[data-is="imf-indicator-selector"] .dm-popup-pane{ text-align: left; margin-top: 10px; height: calc(100% - 155px); overflow: auto; } imf-indicator-selector .dm-button-wrapper,[riot-tag="imf-indicator-selector"] .dm-button-wrapper,[data-is="imf-indicator-selector"] .dm-button-wrapper{ width: 49%; display: inline-block; margin: 0 auto; } imf-indicator-selector .dm-button-wrapper:last-of-type,[riot-tag="imf-indicator-selector"] .dm-button-wrapper:last-of-type,[data-is="imf-indicator-selector"] .dm-button-wrapper:last-of-type{ text-align: right; } imf-indicator-selector button,[riot-tag="imf-indicator-selector"] button,[data-is="imf-indicator-selector"] button{ border: none; font-size: 10pt; cursor: pointer; padding: 10px 20px; min-width: 100px; text-transform: uppercase; border-radius: 5px; } imf-indicator-selector button.cancel,[riot-tag="imf-indicator-selector"] button.cancel,[data-is="imf-indicator-selector"] button.cancel{ background: #fff; } imf-indicator-selector button.add,[riot-tag="imf-indicator-selector"] button.add,[data-is="imf-indicator-selector"] button.add{ background: #0cafae; color: #fff; } imf-indicator-selector button.add:hover,[riot-tag="imf-indicator-selector"] button.add:hover,[data-is="imf-indicator-selector"] button.add:hover{ background-color: #0ba8a0; } imf-indicator-selector .dm-indicator,[riot-tag="imf-indicator-selector"] .dm-indicator,[data-is="imf-indicator-selector"] .dm-indicator,imf-indicator-selector .group-label,[riot-tag="imf-indicator-selector"] .group-label,[data-is="imf-indicator-selector"] .group-label{ position: relative; cursor: pointer; padding: 5px 0; user-select: none; } imf-indicator-selector .group-label,[riot-tag="imf-indicator-selector"] .group-label,[data-is="imf-indicator-selector"] .group-label{ font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; } imf-indicator-selector .dm-indicator,[riot-tag="imf-indicator-selector"] .dm-indicator,[data-is="imf-indicator-selector"] .dm-indicator{ padding-left: 20px; } imf-indicator-selector .selected.dm-indicator,[riot-tag="imf-indicator-selector"] .selected.dm-indicator,[data-is="imf-indicator-selector"] .selected.dm-indicator{ background: #1b6f94; } imf-indicator-selector .selected.dm-indicator:after,[riot-tag="imf-indicator-selector"] .selected.dm-indicator:after,[data-is="imf-indicator-selector"] .selected.dm-indicator:after{ position: absolute; right: 20px; content: "\\2713"; } imf-indicator-selector .dm-indicator:hover,[riot-tag="imf-indicator-selector"] .dm-indicator:hover,[data-is="imf-indicator-selector"] .dm-indicator:hover{ background: #1b6f94; }',"",function(t){var e=this;e.mixin("imf-hierarchies");var i=imf.state.get("indicator")||[];function a(a){var r=a.target,n=r.classList;if("BUTTON"==r.nodeName)n.contains("add")&&imf.state.set("indicator",i),e.root.classList.remove("opened");else if(r.hasAttribute("data-indicator")){var o=r.getAttribute("data-indicator");t.multiple?n.contains("selected")?(i.splice(i.indexOf(o),1),n.remove("selected")):(i.push(o),n.add("selected")):(e.root.querySelectorAll("[data-indicator].selected").forEach(function(t){t.classList.remove("selected")}),i=[o],n.add("selected"))}}e.on("mount",function(){imf.translate(e.root),e.root.classList.add("opened"),e.root.addEventListener("click",a),e.root.style.top="";var t=e.root.getBoundingClientRect();t.height>window.innerHeight?(e.root.style.top=window.innerHeight-t.top+"px",e.root.style.height=window.innerHeight+"px"):t.top+t.height>window.innerHeight&&(e.root.style.top=window.innerHeight-t.top-t.height+"px")}),e.on("unmount",function(){e.root.removeEventListener("click",a)}),e.on("update",function(){var i=imf.data.datasets[t.dataset].hierarchies.indicators,a=imf.state.get("indicator");for(var r in t.multiple||(a=[a[0]]),e.indicators=[],i){for(var n=[],o=i[r],s=0;s<o.indicators.length;s++)n.push({id:o.indicators[s],label:imf.data.indicators[o.indicators[s]].label,selected:a.indexOf(o.indicators[s])>-1});e.indicators.push({label:o.label,indicators:n})}})}),riot.tag2("imf-legend",'<ul class="dm-legend-container"> <li each="{items}" class="dm-legend-item" data-key="{id}"> <div class="dm-legend-swatch" riot-style="background-color: {color}"></div> <div class="dm-legend-label"> <span data-code="{id}">{label}</span><div data-type="{type}" data-key="{id}" title="{help.profiles}" class="dm-profile-button"></div><div data-type="{type}" data-key="{id}" title="{help.explode}" class="{explode}"></div><div data-type="{type}" data-key="{id}" title="{help.countries}" class="dm-info-button"></div> </div> <div class="dm-legend-value">{value}</div> </li> <div class="dm-legend-item"> <button class="dm-legend-add" data-babel="#addtochart"></button> <span class="dm-legend-reset" data-babel="#reset"></span> <div id="geoitem-popup"></div> </div> </ul>','imf-legend,[riot-tag="imf-legend"],[data-is="imf-legend"]{ display: block; background: #fff; } imf-legend .dm-legend-container,[riot-tag="imf-legend"] .dm-legend-container,[data-is="imf-legend"] .dm-legend-container{ padding: 0; margin: 0; } imf-legend .dm-legend-container:after,[riot-tag="imf-legend"] .dm-legend-container:after,[data-is="imf-legend"] .dm-legend-container:after{ content: ""; clear: both; display: table; } imf-legend .dm-legend-item,[riot-tag="imf-legend"] .dm-legend-item,[data-is="imf-legend"] .dm-legend-item{ display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; position: relative; padding: 0 0 5px 20px; margin: 0; list-style: none; } imf-legend .dm-legend-swatch,[riot-tag="imf-legend"] .dm-legend-swatch,[data-is="imf-legend"] .dm-legend-swatch{ position: absolute; left: 0; top: 5px; } imf-legend .dm-legend-swatch:before,[riot-tag="imf-legend"] .dm-legend-swatch:before,[data-is="imf-legend"] .dm-legend-swatch:before{ content: ""; width: 14px; height: 14px; position: absolute; left: 0; top: -2px; border-radius: 50%; background-color: inherit; } imf-legend.indicators .dm-legend-swatch:before,[riot-tag="imf-legend"].indicators .dm-legend-swatch:before,[data-is="imf-legend"].indicators .dm-legend-swatch:before{ border-radius: 0; top: 5px; height: 4px; } imf-legend .dm-legend-swatch:after,[riot-tag="imf-legend"] .dm-legend-swatch:after,[data-is="imf-legend"] .dm-legend-swatch:after{ content: ""; width: 10px; height: 10px; position: absolute; left: 2px; top: 0; cursor: pointer; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20width%3D\'10\'%20height%3D\'10\'%20viewBox%3D\'0%200%2018%2018\'%3E%3Cpath%20d%3D\'M0%2C0l18%2C18M0%2C18L18%2C0\'%20stroke-width%3D\'2\'%20stroke%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } imf-legend[interactive="false"] .dm-legend-swatch:after,[riot-tag="imf-legend"][interactive="false"] .dm-legend-swatch:after,[data-is="imf-legend"][interactive="false"] .dm-legend-swatch:after{ cursor: auto; content: none; } imf-legend .dm-legend-label,[riot-tag="imf-legend"] .dm-legend-label,[data-is="imf-legend"] .dm-legend-label{ display: inline-block; width: 100%; position: relative; z-index: 0; line-height: 22px; } imf-legend .dm-legend-label:after,[riot-tag="imf-legend"] .dm-legend-label:after,[data-is="imf-legend"] .dm-legend-label:after{ border-bottom: 1px dotted #7a7a7a; width: 100%; display: block; position: absolute; bottom: 9px; content: ""; z-index: -1; } imf-legend .dm-legend-label > span,[riot-tag="imf-legend"] .dm-legend-label > span,[data-is="imf-legend"] .dm-legend-label > span{ background: #fff; padding-right: 10px; } imf-legend .dm-legend-value,[riot-tag="imf-legend"] .dm-legend-value,[data-is="imf-legend"] .dm-legend-value{ display: inline-block; text-align: right; white-space: nowrap; position: absolute; bottom: 7px; right: 0; background: #fff; padding-left: 10px; } imf-legend .dm-legend-add,[riot-tag="imf-legend"] .dm-legend-add,[data-is="imf-legend"] .dm-legend-add{ color: #fff; background: #0cafae; font-weight: 300; border: none; border-radius: 5px; display: inline-block; padding: 3px 20px; position: relative; cursor: pointer; text-transform: uppercase; } imf-legend .dm-legend-add:hover,[riot-tag="imf-legend"] .dm-legend-add:hover,[data-is="imf-legend"] .dm-legend-add:hover{ background-color: #0ba8a0; } imf-legend .dm-explode-button,[riot-tag="imf-legend"] .dm-explode-button,[data-is="imf-legend"] .dm-explode-button{ display: inline-block; cursor: pointer; width: 16px; height: 16px; background-color: #fff; border: 2px solid #fff; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%2716%27%20height%3D%2716%27%3E%3Cpath%20d%3D%27M0%2C8h16M8%2C0v16%27%20stroke-width%3D%273%27%20stroke%3D%27%230cafae%27%2F%3E%3C%2Fsvg%3E"); background-size: contain; position: relative; top: 2px; } imf-legend .exploded.dm-explode-button,[riot-tag="imf-legend"] .exploded.dm-explode-button,[data-is="imf-legend"] .exploded.dm-explode-button{ background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%2716%27%20height%3D%2716%27%3E%3Cpath%20d%3D%27M0%2C8h16%27%20stroke-width%3D%273%27%20stroke%3D%27%230cafae%27%2F%3E%3C%2Fsvg%3E"); } imf-legend.indicators .dm-explode-button,[riot-tag="imf-legend"].indicators .dm-explode-button,[data-is="imf-legend"].indicators .dm-explode-button{ display: none; } imf-legend .dm-explode-button[data-type="C"],[riot-tag="imf-legend"] .dm-explode-button[data-type="C"],[data-is="imf-legend"] .dm-explode-button[data-type="C"],imf-legend .dm-explode-button[data-key*="WORLD"],[riot-tag="imf-legend"] .dm-explode-button[data-key*="WORLD"],[data-is="imf-legend"] .dm-explode-button[data-key*="WORLD"]{ display: none; }',"",function(t){var e,i,a,r=this,n=0;r.root.addEventListener("mouseover",function(t){var e=t.target;if(e.hasAttribute("data-key")||(e=e.parentNode),e.hasAttribute("data-key")){var i=e.getAttribute("data-key");i!=a&&(imf.state.set("highlight",i),a=i)}}),r.root.addEventListener("mouseout",function(t){imf.state.set("highlight",a=null)}),r.on("mount",function(){imf.translate(r.root),imf.on("reset",function(){e="",r.update()})}),r.on("update",function(){if(t.geoitems&&t.indicators){if(void 0==i){document.body.getAttribute("data-tool");if((i=t.indicators.length>1)&&(r.root.setAttribute("interactive","false"),t.interactive="false"),r.root.classList.add(i?"indicators":"geoitems"),"false"==t.interactive){var a=r.root.querySelector("ul");a.removeChild(a.lastElementChild)}else r.root.addEventListener("click",function(t){var e=t.target;if(e.classList.contains("dm-legend-swatch")){var i=e.parentNode.getAttribute("data-key");(r=imf.state.get("geoitem")).splice(r.indexOf(i),1),delete(o=imf.state.get("exploded-regions")||{})[i],imf.state.set("geoitem",r),imf.state.set("exploded-regions",o)}else if(e.classList.contains("dm-explode-button")){i=e.getAttribute("data-key");var a=imf.state.get("dataset"),r=imf.data.datasets[a].regions[i],n=!t.target.classList.contains("exploded"),o=imf.state.get("exploded-regions")||{};n?o[i]=r:n||delete o[i],imf.state.set("exploded-regions",o),t.target.classList.toggle("exploded")}else e.classList.contains("dm-legend-add")&&riot.mount("#geoitem-popup","imf-geoitem-selector",{dataset:imf.state.get("dataset")})})}var o=i?t.indicators:t.geoitems,s=o.join(",");if(s!==e){r.items=[];for(var l=imf.state.get("exploded-regions")||{},d=0;d<o.length;d++){var c=o[d],p=imf.data[i?"indicators":"geoitems"][c];if(p){var h=i?c:t.indicators[0],u=i?t.geoitems[0]:c;r.items.push({id:c,label:(p.label||c)+(p.unit?" ("+p.unit+")":""),color:imf.colors.get(c),type:p.type,explode:l[c]?"exploded dm-explode-button":"dm-explode-button",value:t.year?imf.data.value(h,u,t.year):"",help:{profiles:(imf.data.meta.helpprofiles||"").replace(/{NAME}/g,p.label),explode:(imf.data.meta.helpexplode||"").replace(/{NAME}/g,p.label),countries:(imf.data.meta["C"==p.type?"helpcountry":"helpcountries"]||"").replace(/{NAME}/g,p.label)}})}}e=s,r.items.length!=n&&(imf.trigger("resize"),n=r.items.length)}else if(t.year){var m=r.root.querySelectorAll(".dm-legend-value");Array.prototype.forEach.call(m,function(e){var a=e.parentNode.getAttribute("data-key"),r=i?a:t.indicators[0],n=i?t.geoitems[0]:a;e.innerHTML=imf.data.value(r,n,t.year)})}}})}),riot.tag2("imf-page-links",'<div each="{items}" data-gid="{gid}" class="dm-page {type}"> <a href="{url}" target="_blank" rel="noopener noreferrer">{label}</a> </div>','imf-page-links,[riot-tag="imf-page-links"],[data-is="imf-page-links"]{ display: block; position: relative; padding-top: 20px; margin-bottom: 20px; } imf-page-links[type="country"],[riot-tag="imf-page-links"][type="country"],[data-is="imf-page-links"][type="country"]{ margin-left: -10px; } imf-page-links .dm-page,[riot-tag="imf-page-links"] .dm-page,[data-is="imf-page-links"] .dm-page{ display: inline-block; padding: 5px 10px; line-height: 33px; margin-bottom: 1px; } imf-page-links a,[riot-tag="imf-page-links"] a,[data-is="imf-page-links"] a,imf-page-links a:hover,[riot-tag="imf-page-links"] a:hover,[data-is="imf-page-links"] a:hover,imf-page-links a:visited,[riot-tag="imf-page-links"] a:visited,[data-is="imf-page-links"] a:visited{ color: #0cafae; text-decoration: none; } imf-page-links .profile.dm-page,[riot-tag="imf-page-links"] .profile.dm-page,[data-is="imf-page-links"] .profile.dm-page{ background: #0e4e98; color: #fff; border-right: 1px solid #fff; } imf-page-links .profile.dm-page:hover,[riot-tag="imf-page-links"] .profile.dm-page:hover,[data-is="imf-page-links"] .profile.dm-page:hover{ background: #e25426; } imf-page-links .country.dm-page,[riot-tag="imf-page-links"] .country.dm-page,[data-is="imf-page-links"] .country.dm-page{ transition: background-color 0.5s linear; } imf-page-links .country.dm-page:hover,[riot-tag="imf-page-links"] .country.dm-page:hover,[data-is="imf-page-links"] .country.dm-page:hover{ background-color: rgba(0,0,0,0.04); } imf-page-links .profile a,[riot-tag="imf-page-links"] .profile a,[data-is="imf-page-links"] .profile a{ color: #fff; } imf-page-links .country a:hover,[riot-tag="imf-page-links"] .country a:hover,[data-is="imf-page-links"] .country a:hover{ color: #0e4e98; }',"",function(t){var e=this;e.type=t.type,e.on("update",function(){var i=imf.state.get("geoitem")||[],a=imf.data.meta.countrypage.replace(/[\s\S]*href=['"]([\s\S]+?)['"][\s\S]*/im,"$1"),r=imf.data.meta.profilepage.replace(/[\s\S]*href=['"]([\s\S]+?)['"][\s\S]*/im,"$1");e.items=[];for(var n=0;n<i.length;n++){var o=i[n],s=imf.data.geoitems[o];s&&("country"==t.type&&"C"==s.type?e.items.push({gid:o,label:s.label,url:a.replace("{ISO3}",o)}):"profile"==t.type&&e.items.push({gid:o,label:s.label,url:r.replace("{ISO3}",o)}))}})}),riot.tag2("imf-profile-selector",'<div class="dm-component-header"> <h1 data-babel="#profileheader"></h1> </div> <div class="dm-description" data-babel="#profileintro"></div> <radio-group> <div class="dm-popup-pane" data-babel="@data-title" data-title="country"> <virtual each="{parent.letters}"> <h3>{letter}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="region"> <virtual each="{parent.regions}"> <h3>{label}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="group"> <virtual each="{parent.groups}"> <h3>{label}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> </radio-group>','imf-profile-selector,[riot-tag="imf-profile-selector"],[data-is="imf-profile-selector"]{ } imf-profile-selector radio-group,[riot-tag="imf-profile-selector"] radio-group,[data-is="imf-profile-selector"] radio-group{ text-align: center; } imf-profile-selector .dm-description,[riot-tag="imf-profile-selector"] .dm-description,[data-is="imf-profile-selector"] .dm-description{ padding: 10px 70px; line-height: 20pt; white-space: pre-line; max-width: 1000px; margin: 0 auto; font-size: 13pt; text-align: center; } imf-profile-selector h3,[riot-tag="imf-profile-selector"] h3,[data-is="imf-profile-selector"] h3{ padding: 5px !important; margin: 15px 0; text-transform: uppercase; text-align: center; color: #1b335f; background-color: #fff; line-height: 30px; padding: 30px 0; } imf-profile-selector .geoitems,[riot-tag="imf-profile-selector"] .geoitems,[data-is="imf-profile-selector"] .geoitems{ text-align: center;: padding: 10px 20px; } imf-profile-selector .geoitems:after,[riot-tag="imf-profile-selector"] .geoitems:after,[data-is="imf-profile-selector"] .geoitems:after{ content: ""; display: table; clear: both; } imf-profile-selector [data-geoitem],[riot-tag="imf-profile-selector"] [data-geoitem],[data-is="imf-profile-selector"] [data-geoitem]{ display: inline-block; padding: 5px 0; cursor: pointer; } imf-profile-selector [data-geoitem] + [data-geoitem]:before,[riot-tag="imf-profile-selector"] [data-geoitem] + [data-geoitem]:before,[data-is="imf-profile-selector"] [data-geoitem] + [data-geoitem]:before{ content: " | "; } imf-profile-selector .dm-component-header,[riot-tag="imf-profile-selector"] .dm-component-header,[data-is="imf-profile-selector"] .dm-component-header{ padding-bottom: 0; min-height: 0; margin-bottom: -10px; }',"",function(t){var e=this;function i(t){"INPUT"==t.target.nodeName?e.root.setAttribute("data-tab",t.target.value):t.target.hasAttribute("data-geoitem")&&imf.state.set("geoitem",t.target.getAttribute("data-geoitem"))}function a(t){if(t.target.hasAttribute("data-geoitem")){var e=t.target.getAttribute("data-geoitem");if("C"!==imf.data.geoitems[e].type)for(var i in imf.data.datasets)imf.data.datasets[i].regions[e]&&imf.data.datasets[i].regions[e]}}e.mixin("imf-hierarchies"),e.on("mount",function(){imf.translate(e.root),e.root.addEventListener("click",i),e.root.addEventListener("mouseover",a)}),e.on("unmount",function(){e.root.removeEventListener("click",i),e.root.removeEventListener("mouseover",a)}),e.on("update",function(){for(var t in e.hierarchies(!0),e.countries.sort(e.localeSort),e.regions)e.regions[t].items.sort(e.localeSort);for(var t in e.groups)e.groups[t].items.sort(e.localeSort);e.letters=[];var i,a=[];for(var r in e.countries){var n=e.countries[r].label[0];i&&n!=i&&(e.letters.push({letter:i,items:a}),a=[]),i=n,a.push(e.countries[r])}e.letters.push({letter:i,items:a})})}),riot.tag2("imf-publications-panel",'<h3 if="{related.length}" data-babel="#relatedpublications"></h3> <swiper-panel items="{related}"> <a href="{item.url}" target="_blank" rel="noopener noreferrer"> <img if="{item.image}" riot-src="{item.image}"> <div> <span class="title">{item.title}</span> <span class="subtitle">{item.subtitle}</span> <span class="date">{item.date}</span> </div> </a> </swiper-panel>','imf-publications-panel,[riot-tag="imf-publications-panel"],[data-is="imf-publications-panel"]{ display: block; position: relative; padding-bottom: 30px; background: #f8f9fb; } imf-publications-panel h3,[riot-tag="imf-publications-panel"] h3,[data-is="imf-publications-panel"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; padding: 30px 0 10px; } imf-publications-panel a,[riot-tag="imf-publications-panel"] a,[data-is="imf-publications-panel"] a{ text-decoration: none; display: block; color: #000; background: #fff; cursor: pointer; height: 130px; border: 1px solid #dedfe1; -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; -webkit-box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); } imf-publications-panel a:hover,[riot-tag="imf-publications-panel"] a:hover,[data-is="imf-publications-panel"] a:hover{ color: #1b335f; background: rgba(0, 0, 0, 0.04); } imf-publications-panel a > div,[riot-tag="imf-publications-panel"] a > div,[data-is="imf-publications-panel"] a > div{ padding: 10px 20px; } imf-publications-panel span,[riot-tag="imf-publications-panel"] span,[data-is="imf-publications-panel"] span{ max-height: 44px; line-height: 22px; overflow: hidden; text-overflow: ellipsis; display: block; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; } imf-publications-panel img,[riot-tag="imf-publications-panel"] img,[data-is="imf-publications-panel"] img{ padding: 10px 20px; float: left; height: 100px; outline: none; border: none; } imf-publications-panel .title,[riot-tag="imf-publications-panel"] .title,[data-is="imf-publications-panel"] .title{ font-family: MuseoSans-700,museo-sans,Helvetica,Arial,sans-serif; } imf-publications-panel .date,[riot-tag="imf-publications-panel"] .date,[data-is="imf-publications-panel"] .date{ padding-top: 4px; font-size: 80%; }',"",function(t){var e,i,a=this,r=[];a.related=[];var n=!1;a.on("update",function(){if(!(n||e==t.dataset&&i==t.indicator&&t.geoitems&&r.length==t.geoitems.length)){var o=document.querySelector("base").getAttribute("href");mw.support.ajax({url:o+"/related-publications",data:{dataset:a.opts.dataset,indicator:a.opts.indicator,geoitems:a.opts.geoitems},success:function(t){a.related=t,n=!0,a.update(),n=!1}}),e=t.dataset,i=t.indicator,t.geoitems&&(r=t.geoitems.slice())}}),a.on("updated",function(){imf.translate(a.root)})}),riot.tag2("imf-ranking",'<radio-group collapse="{collapse}"> <div each="{parent.items}" class="{dm-ranking-table: true, top: true, disabled: rows.length == 0}" data-title="{label}"> <div class="dm-ranking-header"> <div class="dm-ranking-value"> <span no-reorder each="{columns}" data-sort="{type}">{label}</span> </div> </div> <div class="dm-ranking-rows"> <div data-key="{id}" class="dm-ranking-row" no-reorder each="{rows}"> <div class="dm-ranking-value"> <span>{label}</span> <span no-reorder each="{value, i in formatted}">{value}</span> </div> </div> </div> </div> </radio-group>','imf-ranking,[riot-tag="imf-ranking"],[data-is="imf-ranking"]{ display: block; position: relative; } imf-ranking radio-group,[riot-tag="imf-ranking"] radio-group,[data-is="imf-ranking"] radio-group{ height: 100%; } imf-ranking .dm-ranking-header,[riot-tag="imf-ranking"] .dm-ranking-header,[data-is="imf-ranking"] .dm-ranking-header{ height: 30px; } imf-ranking .dm-ranking-table,[riot-tag="imf-ranking"] .dm-ranking-table,[data-is="imf-ranking"] .dm-ranking-table{ position: relative; text-align: left; height: calc(100% - 60px) } imf-ranking .dm-ranking-rows,[riot-tag="imf-ranking"] .dm-ranking-rows,[data-is="imf-ranking"] .dm-ranking-rows{ width: calc(100% - 8px); font-size: 16px; line-height: 24px; overflow: auto; overflow-x: hidden; margin: 0 8px 30px 0; height: calc(100% - 50px); } imf-ranking .dm-ranking-table:before,[riot-tag="imf-ranking"] .dm-ranking-table:before,[data-is="imf-ranking"] .dm-ranking-table:before,imf-ranking .dm-ranking-table:after,[riot-tag="imf-ranking"] .dm-ranking-table:after,[data-is="imf-ranking"] .dm-ranking-table:after{ content: ""; position: absolute; width: calc(100% - 32px); left: 0; height: 80px; z-index: 1; } imf-ranking .dm-ranking-table:before,[riot-tag="imf-ranking"] .dm-ranking-table:before,[data-is="imf-ranking"] .dm-ranking-table:before{ top: 30px; background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%);; } imf-ranking .dm-ranking-table:after,[riot-tag="imf-ranking"] .dm-ranking-table:after,[data-is="imf-ranking"] .dm-ranking-table:after{ bottom: 6px; background: linear-gradient(to top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%);; } imf-ranking .top.dm-ranking-table:before,[riot-tag="imf-ranking"] .top.dm-ranking-table:before,[data-is="imf-ranking"] .top.dm-ranking-table:before{ content: none; } imf-ranking .bottom.dm-ranking-table:after,[riot-tag="imf-ranking"] .bottom.dm-ranking-table:after,[data-is="imf-ranking"] .bottom.dm-ranking-table:after{ content: none; } imf-ranking .dm-ranking-value,[riot-tag="imf-ranking"] .dm-ranking-value,[data-is="imf-ranking"] .dm-ranking-value{ position: relative; cursor: pointer; z-index: 0; padding: 2px 0 2px 10px; } imf-ranking span:nth-of-type(1n+2),[riot-tag="imf-ranking"] span:nth-of-type(1n+2),[data-is="imf-ranking"] span:nth-of-type(1n+2){ float: right; display: inline-block; text-align: right; } imf-ranking span:nth-child(2),[riot-tag="imf-ranking"] span:nth-child(2),[data-is="imf-ranking"] span:nth-child(2){ padding-right: 15px; } imf-ranking .dm-ranking-row:after,[riot-tag="imf-ranking"] .dm-ranking-row:after,[data-is="imf-ranking"] .dm-ranking-row:after{ content: ""; display: table; clear: both; } imf-ranking .dm-ranking-header span,[riot-tag="imf-ranking"] .dm-ranking-header span,[data-is="imf-ranking"] .dm-ranking-header span{ cursor: pointer; color: #999; padding-bottom: 4px; } imf-ranking .dm-ranking-header span:nth-child(2),[riot-tag="imf-ranking"] .dm-ranking-header span:nth-child(2),[data-is="imf-ranking"] .dm-ranking-header span:nth-child(2){ padding-right: 32px; } imf-ranking .up[data-sort],[riot-tag="imf-ranking"] .up[data-sort],[data-is="imf-ranking"] .up[data-sort],imf-ranking .down[data-sort],[riot-tag="imf-ranking"] .down[data-sort],[data-is="imf-ranking"] .down[data-sort]{ color: #000; padding-right: 20px; } imf-ranking .down:after,[riot-tag="imf-ranking"] .down:after,[data-is="imf-ranking"] .down:after,imf-ranking .up:after,[riot-tag="imf-ranking"] .up:after,[data-is="imf-ranking"] .up:after{ content: ""; width: 12px; height: 12px; position: absolute; background-size: contain; top: 7px; margin-left: 6px; } imf-ranking .up:after,[riot-tag="imf-ranking"] .up:after,[data-is="imf-ranking"] .up:after{ background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%209%209\'%3E%3Cpath%20d%3D\'M0%2C2L4%2C6L8%2C2\'%20stroke%3D\'%23000\'%20fill%3D\'none\'%2F%3E%3C%2Fsvg%3E"); } imf-ranking .down:after,[riot-tag="imf-ranking"] .down:after,[data-is="imf-ranking"] .down:after{ background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%209%209\'%3E%3Cpath%20d%3D\'M0%2C6L4%2C2L8%2C6\'%20stroke%3D\'%23000\'%20fill%3D\'none\'%2F%3E%3C%2Fsvg%3E"); } imf-ranking .dm-ranking-row .dm-ranking-value span:last-child:before,[riot-tag="imf-ranking"] .dm-ranking-row .dm-ranking-value span:last-child:before,[data-is="imf-ranking"] .dm-ranking-row .dm-ranking-value span:last-child:before{ border-bottom: 1px dotted #7a7a7a; display: block; position: absolute; bottom: 11px; content: ""; z-index: -1; left: 16px; right: 26px; } imf-ranking .dm-ranking-value span,[riot-tag="imf-ranking"] .dm-ranking-value span,[data-is="imf-ranking"] .dm-ranking-value span{ background: #fff; z-index: 1; } imf-ranking .dm-ranking-value span:first-child,[riot-tag="imf-ranking"] .dm-ranking-value span:first-child,[data-is="imf-ranking"] .dm-ranking-value span:first-child{ padding-right: 10px; } imf-ranking .dm-ranking-value span:last-child,[riot-tag="imf-ranking"] .dm-ranking-value span:last-child,[data-is="imf-ranking"] .dm-ranking-value span:last-child{ padding-left: 10px; z-index: -1; } imf-ranking .dm-ranking-rows .dm-ranking-value:hover,[riot-tag="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover,[data-is="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover,imf-ranking .dm-ranking-rows .dm-ranking-value:hover span,[riot-tag="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover span,[data-is="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover span{ color: #fff; background: #0ba8a0; } imf-ranking .dm-ranking-value:hover span:last-child:before,[riot-tag="imf-ranking"] .dm-ranking-value:hover span:last-child:before,[data-is="imf-ranking"] .dm-ranking-value:hover span:last-child:before{ content: none; }',"",function(t){var e,i=this,a={column:"label",direction:"up"},r=[];function n(t,e){return t.values[a.column]<e.values[a.column]?-1:1}function o(t,e){return t.values[a.column]>e.values[a.column]?-1:1}function s(){for(var t="label"==a.column?"up"==a.direction?i.localeSort:i.localeReverseSort:"up"==a.direction?n:o,e=0;e<i.items.length;e++)i.items[e].rows.sort(t);i.tags["radio-group"].update()}i.mixin("imf-hierarchies"),i.items=[],i.mergetabs=-1!=window.location.href.indexOf("no-tabs"),i.on("mount",function(){imf.translate(i.root);var e=riot.route.query();if(e.years)for(var n,o=(new Date).getFullYear(),l=(new Date).getMonth()+1,d=e.years.split(",").reverse(),c=0;c<d.length;c++){var p=d[c];p.match(/^\d+$/)?r.push(+p):(n=p.match(/^(Y(\d*))?(([-+])(\d+))?$/))&&r.push(o+(n[2]>l?-1:0)+(n[4]?"+"==n[4]?+n[5]:-n[5]:0))}i.root.addEventListener("click",function(e){var i=e.target;if(i.hasAttribute("data-sort"))i.getAttribute("data-sort")!=a.column?(a.column=i.getAttribute("data-sort"),a.direction="label"==i.getAttribute("data-sort")?"up":"down"):a.direction="up"==a.direction?"down":"up",s();else if((i.hasAttribute("data-key")||i.parentNode.parentNode.hasAttribute("data-key"))&&1==t.indicators.length){var r=i.getAttribute("data-key")||i.parentNode.parentNode.getAttribute("data-key"),n=imf.state.get("geoitem"),o=n.indexOf(r);-1!=o&&n.splice(o,1),n.push(r),imf.state.set("geoitem",n)}}),i.tags["radio-group"].on("updated",function(){for(var t=i.root.querySelectorAll("[data-sort]"),e=0;e<t.length;e++)t[e].classList.remove("up","down"),t[e].getAttribute("data-sort")==a.column&&t[e].classList.add(a.direction)});for(var h=i.root.querySelectorAll(".dm-ranking-rows"),u=0;u<h.length;u++)h[u].addEventListener("scroll",function(t){var e,i=t.target,a=i.getAttribute("data-scroll");(e=i.scrollTop<50?"top":i.scrollTop+i.clientHeight>i.scrollHeight-50?"bottom":"middle")!=a&&(i.parentNode.classList.remove(a),i.parentNode.classList.add(e),i.setAttribute("data-scroll",e))})}),i.on("update",function(){i.collapse=t.geoitems&&t.geoitems.length>0,t.dataset!=e&&(e=t.dataset,i.items=[],i.hierarchies(),"value"!=a.column&&(a={column:"label",direction:"up"},s())),t.indicators&&t.year&&(i.root.classList.add(t.indicators instanceof Array&&t.indicators.length>1?"indicators":"geoitems"),function(){var e=t.indicators instanceof Array&&t.indicators.length>1,n=t.year,o=!1,l=imf.state.get("geoitem").slice(0).reverse(),d=r.length>1&&(1==l.length||!e),c=t.yearLabel?n:imf.data.meta.value,p=t.yearLabel&&!d?" ("+n+")":"";if(!i.items.length){o=!0;var h={};if(e){for(var u in t.indicators){var m=t.indicators[u],f=i.mergetabs?"_all_":imf.data.indicators[m].dataset;h[f]||(h[f]=[]),h[f].push(m)}var g=[{label:"indicator"+p,type:"label"}];if(d)for(var v=0;v<r.length;v++)g.push({label:r[v],type:v});else for(var b=0;b<l.length;b++)g.push({label:1==l.length?c:imf.data.geoitems[l[b]].label,type:b});for(var x in h){var y=h[x],w=[];for(u=0;u<y.length;u++){var k=imf.data.indicators[y[u]];w.push({id:y[u],label:k.label+" ("+k.unit+")",values:[],formatted:[]})}i.items.push({label:x,rows:w,columns:g})}}else{var M={country:"countries",region:"regions",group:"groups"},T=!(!t.geoitems||!t.geoitems.length)&&t.geoitems;for(var S in M){var C=i[M[S]];if(C){for(w=[],u=0;u<C.length;u++){var A=C[u];T&&-1==T.indexOf(A.id)||w.push({id:A.id,label:A.label,values:[],formatted:[]})}if(i.mergetabs&&i.items.length)i.items[0].rows.push.apply(i.items[0].rows,w);else{if(g=[{label:i.mergetabs?"name":imf.translate(S),type:"label"}],d)for(v=0;v<r.length;v++)g.push({label:r[v],type:v});else g.push({label:c,type:0});i.items.push({label:imf.translate(S),rows:w,columns:g})}}}}}u=0;for(var L=i.items.length;u<L;u++)for(var E=0,z=(A=i.items[u]).rows.length;E<z;E++)for(var P=A.rows[E],O=e?d?r.length:l.length:d?r.length:1,I=0;I<O;I++){m=e?P.id:t.indicators[0],x=e?d?l[0]:l[I]:P.id;var N=imf.data.tag("values",m,x,d?r[I]:n);void 0==N&&(N=Number.NEGATIVE_INFINITY),P.values[I]=N,P.formatted[I]=imf.data.value(m,x,d?r[I]:n)}"label"!=a.column||o?s():i.tags["radio-group"].update()}())}),i.on("updated",function(){var t=riot.route.query();if(t.zoom&&imf.data.geoitems[t.zoom]){var e=document.querySelector('.dm-ranking-row[data-key="'+t.zoom+'"]');e&&e.parentNode.scrollTo(0,e.offsetTop-40)}})}),riot.tag2("imf-search-panel",'<div class="dm-search-button"></div> <input data-babel="@placeholder" placeholder="searchfor" autocomplete="off" name="input"> <div if="{results}" class="dm-search-header" data-babel="#noresults"></div> <ul class="dm-search-results"> <li each="{profiles}" data-geoitem="{gid}"> <ul><li>Profiles</li><li>{geoitem}</li></ul> </li> <li if="{default.iid}" data-dataset="{default.did}" data-indicator="{default.iid}"> <ul><li>{default.dataset}</li><li><raw content="{default.indicator}"></raw></li></ul> <div class="dm-chart-preview"> <mw-chart minx="{default.range[0]}" maxx="{default.range[1]}" datamanager="{datamanager}" indicators="{[default.iid]}" geoitems="{geoitems}" year="{year}" on-year="{onYear}" future="{default.future}" options="{chartoptions}"></mw-chart> <div class="dm-legend-preview"> <div class="dm-unit-preview"> <span>{default.stats}</span> <span>{imf.data.indicators[default.iid].unit}</span> </div> <imf-legend interactive="false" indicators="{[default.iid]}" geoitems="{geoitems}" year="{parent.year}"></imf-legend> </div> </div> </li> <li each="{indicators}" data-dataset="{did}" data-indicator="{iid}" class="no-data"> <ul><li>{dataset}</li><li><raw title="{unit}" content="{indicator}"></raw></li></ul> <virtual if="{profiles.length}"> <div each="{profiles}" class="dm-search-data" data-gid="{gid}"> <span class="dm-search-label">{geoitem}</span> <span class="dm-search-unit">{imf.data.indicators[iid].unit}</span> <span class="dm-search-value"></span> </div> </virtual> </li> </ul>','imf-search-panel,[riot-tag="imf-search-panel"],[data-is="imf-search-panel"]{ display: block; position: relative; z-index: 1001; height: 55px; pointer-events: none; } imf-search-panel > *,[riot-tag="imf-search-panel"] > *,[data-is="imf-search-panel"] > *{ pointer-events: all; } imf-search-panel mw-chart,[riot-tag="imf-search-panel"] mw-chart,[data-is="imf-search-panel"] mw-chart{ width: 33%; height: 200px; } imf-search-panel mw-chart,[riot-tag="imf-search-panel"] mw-chart,[data-is="imf-search-panel"] mw-chart{ position: relative; z-index: 0; } imf-search-panel mw-chart:before,[riot-tag="imf-search-panel"] mw-chart:before,[data-is="imf-search-panel"] mw-chart:before{ content: attr(minx); color: #ccc; position: absolute; bottom: 0; z-index: -1; } imf-search-panel mw-chart:after,[riot-tag="imf-search-panel"] mw-chart:after,[data-is="imf-search-panel"] mw-chart:after{ content: attr(maxx); color: #ccc; position: absolute; bottom: 0; right: 0; z-index: -1; } imf-search-panel .chart-container,[riot-tag="imf-search-panel"] .chart-container,[data-is="imf-search-panel"] .chart-container{ height: 190px; } imf-search-panel .dm-search-header,[riot-tag="imf-search-panel"] .dm-search-header,[data-is="imf-search-panel"] .dm-search-header{ width: 100%; left: 0; display: none; font-weight: 300; color: white; } imf-search-panel > .dm-search-header,[riot-tag="imf-search-panel"] > .dm-search-header,[data-is="imf-search-panel"] > .dm-search-header{ position: absolute; text-align: center; padding: 20px 0; color: #1b335f; font-weight: 300; font-size: 40px; letter-spacing: 1px; } imf-search-panel .dm-search-results .dm-search-header,[riot-tag="imf-search-panel"] .dm-search-results .dm-search-header,[data-is="imf-search-panel"] .dm-search-results .dm-search-header{ background: #044e98; font-size: 16px; text-transform: uppercase; padding: 10px 20px; } imf-search-panel .dm-search-button,[riot-tag="imf-search-panel"] .dm-search-button,[data-is="imf-search-panel"] .dm-search-button{ position: absolute; top: 0; width: 55px; height: 55px; cursor: pointer; transform: scale(-1,1); background-image: url(images/search.svg); background-size: 20px 20px; background-repeat: no-repeat; background-position: center center; background-color: #0cafae; } imf-search-panel .dm-search-button:hover,[riot-tag="imf-search-panel"] .dm-search-button:hover,[data-is="imf-search-panel"] .dm-search-button:hover{ background-color: #0ba8a0; } imf-search-panel .highlight,[riot-tag="imf-search-panel"] .highlight,[data-is="imf-search-panel"] .highlight{ color: #fff; background: #0cafae; border-radius: 4px; padding: 0 5px; display: inline-block; } imf-search-panel raw,[riot-tag="imf-search-panel"] raw,[data-is="imf-search-panel"] raw{ color: #777; } imf-search-panel .dm-search-results,[riot-tag="imf-search-panel"] .dm-search-results,[data-is="imf-search-panel"] .dm-search-results{ display: none; width: 100%; position: absolute; left: 0; top: 55px; overflow: auto; height: calc(100% - 55px); } imf-search-panel ul,[riot-tag="imf-search-panel"] ul,[data-is="imf-search-panel"] ul{ list-style-type: none; padding: 0; margin: 0; } imf-search-panel li[data-dataset],[riot-tag="imf-search-panel"] li[data-dataset],[data-is="imf-search-panel"] li[data-dataset],imf-search-panel li[data-geoitem],[riot-tag="imf-search-panel"] li[data-geoitem],[data-is="imf-search-panel"] li[data-geoitem]{ border-bottom: 1px solid #e9ecef; background: #fff; position: relative; padding: 10px; cursor: pointer; } imf-search-panel li[data-dataset]:after,[riot-tag="imf-search-panel"] li[data-dataset]:after,[data-is="imf-search-panel"] li[data-dataset]:after,imf-search-panel li[data-geoitem]:after,[riot-tag="imf-search-panel"] li[data-geoitem]:after,[data-is="imf-search-panel"] li[data-geoitem]:after{ content: ""; position: absolute; width: 20px; height: 36px; top: calc(50% - 18px); right: 0; -moz-background-size: 12px 20px; -webkit-background-size: 12px 20px; background-size: 12px 20px; border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-repeat: no-repeat; background-position: center center; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } imf-search-panel li li,[riot-tag="imf-search-panel"] li li,[data-is="imf-search-panel"] li li{ display: inline-block; position: relative; padding-right: 30px; line-height: 30px; } imf-search-panel li li:after,[riot-tag="imf-search-panel"] li li:after,[data-is="imf-search-panel"] li li:after{ content: ""; position: absolute; top: 50%; right: 11px; width: 8px; height: 16px; margin-top: -8px; z-index: 10; cursor: pointer; -moz-background-size: 8px 16px; -webkit-background-size: 8px 16px; background-size: 8px 16px; background-position: center; background-repeat: no-repeat; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%231b335f\'%2F%3E%3C%2Fsvg%3E"); } imf-search-panel li li:last-child raw,[riot-tag="imf-search-panel"] li li:last-child raw,[data-is="imf-search-panel"] li li:last-child raw,imf-search-panel li[data-geoitem] ul :last-child,[riot-tag="imf-search-panel"] li[data-geoitem] ul :last-child,[data-is="imf-search-panel"] li[data-geoitem] ul :last-child{ color: #0cafae; font-weight: 700; } imf-search-panel li li:last-child:after,[riot-tag="imf-search-panel"] li li:last-child:after,[data-is="imf-search-panel"] li li:last-child:after{ content: none; } imf-search-panel imf-legend,[riot-tag="imf-search-panel"] imf-legend,[data-is="imf-search-panel"] imf-legend,imf-search-panel imf-legend .dm-legend-value,[riot-tag="imf-search-panel"] imf-legend .dm-legend-value,[data-is="imf-search-panel"] imf-legend .dm-legend-value,imf-search-panel imf-legend .dm-legend-label > span,[riot-tag="imf-search-panel"] imf-legend .dm-legend-label > span,[data-is="imf-search-panel"] imf-legend .dm-legend-label > span{ background-color: transparent; position: static; } imf-search-panel imf-legend li:after,[riot-tag="imf-search-panel"] imf-legend li:after,[data-is="imf-search-panel"] imf-legend li:after,imf-search-panel imf-legend .dm-legend-label:after,[riot-tag="imf-search-panel"] imf-legend .dm-legend-label:after,[data-is="imf-search-panel"] imf-legend .dm-legend-label:after{ content: none; } imf-search-panel .dm-legend-container,[riot-tag="imf-search-panel"] .dm-legend-container,[data-is="imf-search-panel"] .dm-legend-container{ height: auto !important; border: none !important; } imf-search-panel .dm-legend-item,[riot-tag="imf-search-panel"] .dm-legend-item,[data-is="imf-search-panel"] .dm-legend-item{ line-height: normal; } imf-search-panel [data-type],[riot-tag="imf-search-panel"] [data-type],[data-is="imf-search-panel"] [data-type]{ display: none !important; } imf-search-panel input,[riot-tag="imf-search-panel"] input,[data-is="imf-search-panel"] input{ display: none; height: 55px; border: none; padding: 10px; font-size: 28px; font-weight: 300; line-height: 30px; text-align: center; font-style: italic; background-color: #ebf7fd; } imf-search-panel ::-webkit-input-placeholder,[riot-tag="imf-search-panel"] ::-webkit-input-placeholder,[data-is="imf-search-panel"] ::-webkit-input-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel ::-moz-placeholder,[riot-tag="imf-search-panel"] ::-moz-placeholder,[data-is="imf-search-panel"] ::-moz-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel :-ms-input-placeholder,[riot-tag="imf-search-panel"] :-ms-input-placeholder,[data-is="imf-search-panel"] :-ms-input-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel :-moz-placeholder,[riot-tag="imf-search-panel"] :-moz-placeholder,[data-is="imf-search-panel"] :-moz-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel input:focus,[riot-tag="imf-search-panel"] input:focus,[data-is="imf-search-panel"] input:focus{ outline: none; } .search-active imf-search-panel,.search-active [riot-tag="imf-search-panel"],.search-active [data-is="imf-search-panel"]{ width: 100%; } .search-active.search-content imf-search-panel,.search-active.search-content [riot-tag="imf-search-panel"],.search-active.search-content [data-is="imf-search-panel"]{ width: 100%; height: 100vh; } .search-active imf-search-panel input,.search-active [riot-tag="imf-search-panel"] input,.search-active [data-is="imf-search-panel"] input{ display: block; } .search-active.search-content imf-search-panel .dm-search-header,.search-active.search-content [riot-tag="imf-search-panel"] .dm-search-header,.search-active.search-content [data-is="imf-search-panel"] .dm-search-header{ display: block; } .search-active.search-content imf-search-panel .dm-search-results,.search-active.search-content [riot-tag="imf-search-panel"] .dm-search-results,.search-active.search-content [data-is="imf-search-panel"] .dm-search-results{ display: block; } imf-search-panel li:before,[riot-tag="imf-search-panel"] li:before,[data-is="imf-search-panel"] li:before{ content: ""; position: absolute; left: 0; right: 0; bottom: 0; top: 0; pointer-events: none; background-color: rgba(0,0,0,0); -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-search-panel li:not(.dm-search-header):hover,[riot-tag="imf-search-panel"] li:not(.dm-search-header):hover,[data-is="imf-search-panel"] li:not(.dm-search-header):hover{ color: #1b335f; } imf-search-panel > ul > li:not(.dm-search-header):hover:before,[riot-tag="imf-search-panel"] > ul > li:not(.dm-search-header):hover:before,[data-is="imf-search-panel"] > ul > li:not(.dm-search-header):hover:before{ background-color: rgba(0,0,0,0.04); } imf-search-panel .highcharts-background,[riot-tag="imf-search-panel"] .highcharts-background,[data-is="imf-search-panel"] .highcharts-background,imf-search-panel .highcharts-plot-background,[riot-tag="imf-search-panel"] .highcharts-plot-background,[data-is="imf-search-panel"] .highcharts-plot-background,imf-search-panel .highcharts-plot-band,[riot-tag="imf-search-panel"] .highcharts-plot-band,[data-is="imf-search-panel"] .highcharts-plot-band{ fill: transparent !important; } imf-search-panel .chart-container,[riot-tag="imf-search-panel"] .chart-container,[data-is="imf-search-panel"] .chart-container,imf-search-panel imf-legend,[riot-tag="imf-search-panel"] imf-legend,[data-is="imf-search-panel"] imf-legend{ pointer-events: none; } imf-search-panel .dm-search-data > span:first-child,[riot-tag="imf-search-panel"] .dm-search-data > span:first-child,[data-is="imf-search-panel"] .dm-search-data > span:first-child{ font-weight: 700; } imf-search-panel .dm-search-value,[riot-tag="imf-search-panel"] .dm-search-value,[data-is="imf-search-panel"] .dm-search-value{ display: inline-block; padding: 0 50px; text-align: right; } imf-search-panel .dm-search-data,[riot-tag="imf-search-panel"] .dm-search-data,[data-is="imf-search-panel"] .dm-search-data{ padding: 10px 0; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-box-orient: horizontal; -moz-box-orient: horizontal; -ms-flex-direction: row; -webkit-flex-direction: row; flex-direction: row; max-width: 1000px; } imf-search-panel [data-geoitem] ~ .no-data,[riot-tag="imf-search-panel"] [data-geoitem] ~ .no-data,[data-is="imf-search-panel"] [data-geoitem] ~ .no-data{ display: none; } imf-search-panel .dm-search-label,[riot-tag="imf-search-panel"] .dm-search-label,[data-is="imf-search-panel"] .dm-search-label{ -webkit-box-flex: 2; -ms-flex: 2; flex: 2; } imf-search-panel .dm-search-unit,[riot-tag="imf-search-panel"] .dm-search-unit,[data-is="imf-search-panel"] .dm-search-unit,imf-search-panel .dm-search-value,[riot-tag="imf-search-panel"] .dm-search-value,[data-is="imf-search-panel"] .dm-search-value{ -webkit-box-flex: 1; -ms-flex: 1; flex: 1; } imf-search-panel .dm-search-unit,[riot-tag="imf-search-panel"] .dm-search-unit,[data-is="imf-search-panel"] .dm-search-unit,imf-search-panel .dm-search-value,[riot-tag="imf-search-panel"] .dm-search-value,[data-is="imf-search-panel"] .dm-search-value{ text-align: right; } imf-search-panel .dm-search-unit,[riot-tag="imf-search-panel"] .dm-search-unit,[data-is="imf-search-panel"] .dm-search-unit{ white-space: nowrap; text-overflow: ellipsis; overflow: hidden; } imf-search-panel .dm-search-value[data-value]:before,[riot-tag="imf-search-panel"] .dm-search-value[data-value]:before,[data-is="imf-search-panel"] .dm-search-value[data-value]:before{ content: attr(data-value) " "; } imf-search-panel .dm-search-value[data-year]:after,[riot-tag="imf-search-panel"] .dm-search-value[data-year]:after,[data-is="imf-search-panel"] .dm-search-value[data-year]:after,imf-search-panel .dm-legend-value[data-year]:after,[riot-tag="imf-search-panel"] .dm-legend-value[data-year]:after,[data-is="imf-search-panel"] .dm-legend-value[data-year]:after{ content: " (" attr(data-year) ")"; } imf-search-panel .default-year:after,[riot-tag="imf-search-panel"] .default-year:after,[data-is="imf-search-panel"] .default-year:after{ color: #ccc; } imf-search-panel .dm-legend-label,[riot-tag="imf-search-panel"] .dm-legend-label,[data-is="imf-search-panel"] .dm-legend-label{ font-weight: 700; } imf-search-panel .default-geoitem .dm-legend-label,[riot-tag="imf-search-panel"] .default-geoitem .dm-legend-label,[data-is="imf-search-panel"] .default-geoitem .dm-legend-label{ font-weight: 300; } imf-search-panel .dm-chart-preview,[riot-tag="imf-search-panel"] .dm-chart-preview,[data-is="imf-search-panel"] .dm-chart-preview{ display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; } imf-search-panel mw-chart,[riot-tag="imf-search-panel"] mw-chart,[data-is="imf-search-panel"] mw-chart{ -webkit-box-flex: 1; -ms-flex: 1; flex: 1; } imf-search-panel .dm-legend-preview,[riot-tag="imf-search-panel"] .dm-legend-preview,[data-is="imf-search-panel"] .dm-legend-preview{ -webkit-box-flex: 2; -ms-flex: 2; flex: 2; margin: 0 40px; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-box-orient: vertical; -moz-box-orient: vertical; -ms-flex-direction: column; -webkit-flex-direction: column; flex-direction: column; } imf-search-panel imf-legend,[riot-tag="imf-search-panel"] imf-legend,[data-is="imf-search-panel"] imf-legend{ -webkit-box-flex: 1; -ms-flex: 1; flex: 1; } imf-search-panel .dm-legend-swatch:before,[riot-tag="imf-search-panel"] .dm-legend-swatch:before,[data-is="imf-search-panel"] .dm-legend-swatch:before{ width: 10px; height: 10px; top: 1px; } imf-search-panel .dm-unit-preview,[riot-tag="imf-search-panel"] .dm-unit-preview,[data-is="imf-search-panel"] .dm-unit-preview{ display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-box-orient: horizontal; -moz-box-orient: horizontal; -ms-flex-direction: row; -webkit-flex-direction: row; flex-direction: row; } imf-search-panel .dm-unit-preview :first-child,[riot-tag="imf-search-panel"] .dm-unit-preview :first-child,[data-is="imf-search-panel"] .dm-unit-preview :first-child{ color: #ccc; -webkit-box-flex: 1; -ms-flex: 1; flex: 1; } imf-search-panel .dm-unit-preview :last-child,[riot-tag="imf-search-panel"] .dm-unit-preview :last-child,[data-is="imf-search-panel"] .dm-unit-preview :last-child{ text-align: right; } imf-search-panel .year-slider,[riot-tag="imf-search-panel"] .year-slider,[data-is="imf-search-panel"] .year-slider{ position: relative; left: 4px; width: calc(100% + 28px); } imf-search-panel .year-slider[data-frequency="1"],[riot-tag="imf-search-panel"] .year-slider[data-frequency="1"],[data-is="imf-search-panel"] .year-slider[data-frequency="1"]{ width: calc(100% + 18px); } imf-search-panel .slider-handle,[riot-tag="imf-search-panel"] .slider-handle,[data-is="imf-search-panel"] .slider-handle{ position: relative; top: -25px; padding: 5px; } imf-search-panel .slider-handle:before,[riot-tag="imf-search-panel"] .slider-handle:before,[data-is="imf-search-panel"] .slider-handle:before{ content: ""; border-left: 1px solid #0cafae; position: absolute; top: -170px; left: 5px; height: 185px; } imf-search-panel .slider-handle > span,[riot-tag="imf-search-panel"] .slider-handle > span,[data-is="imf-search-panel"] .slider-handle > span{ display: inline-block; white-space: nowrap; width: 56px; padding: 3px 8px; margin-left: -28px; border-radius: 4px; text-align: center; font-size: 11pt; color: #fff; background-color: #0cafae; -webkit-box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); -moz-box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); box-shadow: 0px 2px 1.91px 0.09px rgba(0, 0, 0, 0.3); } imf-search-panel .slider-handle:hover > span,[riot-tag="imf-search-panel"] .slider-handle:hover > span,[data-is="imf-search-panel"] .slider-handle:hover > span{ background-color: #0ba8a0; } imf-search-panel [data-frequency="M"] .slider-handle > span,[riot-tag="imf-search-panel"] [data-frequency="M"] .slider-handle > span,[data-is="imf-search-panel"] [data-frequency="M"] .slider-handle > span,imf-search-panel [data-frequency="Q"] .slider-handle > span,[riot-tag="imf-search-panel"] [data-frequency="Q"] .slider-handle > span,[data-is="imf-search-panel"] [data-frequency="Q"] .slider-handle > span{ width: 80px; margin-left: -40px; } imf-search-panel .slider-handle > div,[riot-tag="imf-search-panel"] .slider-handle > div,[data-is="imf-search-panel"] .slider-handle > div{ position: absolute; border-left: 1px solid #aeaeae; } imf-search-panel .slider-handle > div:before,[riot-tag="imf-search-panel"] .slider-handle > div:before,[data-is="imf-search-panel"] .slider-handle > div:before{ content: ""; position: absolute; top: -5px; left: -5px; width: 10px; height: 10px; background-color: #132c55; border-radius: 5px; }',"",function(t){var e,i=this;if(i.datamanager=imf.data,i.chartoptions=mw.support.extend(imf.chart.search,{}),i.default={},i.defaultyear=!0,i.geoitems=null,i.indicators=[],i.profiles=[],i.settings=[],i.terms=[],"search"===document.body.getAttribute("data-tool")){var a=window.location.pathname;i.input.value=decodeURI(a.substring(a.lastIndexOf("/")+1)),i.interactive=!1}else i.interactive=!0;function r(t,e){let i=imf.data.indicators[t];if(""===t||!i)return console.log("Unknown indicator",t,"in search settings"),{};let a=imf.data.datasets[i.dataset],r={R:0,G:0};for(var n in a.regions)imf.data.geoitems[n]&&r[imf.data.geoitems[n].type]++;return{dataset:a.title,indicator:i.label,did:i.dataset,iid:t,unit:i.unit,future:a.projectionyear,range:[a.minyear,a.maxyear],stats:a.numcountries+" countries, "+r.R+" regions, "+r.G+" analytical groups",order:+a.order*e+100*i.group+a.hierarchies.indicators[i.group].indicators.indexOf(t)}}function n(t,e){let a=new RegExp("(^|\\s)"+t,"i");for(var n in imf.data.datasets){var o=imf.data.datasets[n],s=o.title.toLowerCase().match(a)||n.toLowerCase().match(a),l=o.hierarchies.indicators,d=0;for(var c in l)for(var p=l[c].indicators||[],h=0;h<p.length;h++){var u=p[h];if(!e[u]){var m=imf.data.indicators[u],f=m.label?m.label.replace(/[^\w\s]/g,"").toLowerCase():"";if(null===t&&d<4||s||f.match(a)){var g=r(u,2e3);null!==t||i.default.did?g.iid&&i.indicators.push(g):i.default=g,d++}}}}}function o(){i.default={},i.year=(new Date).getFullYear(),i.indicators=[],i.profiles=[],i.results=!1;var t=i.input.value.replace(/[^\w\s]/g,"").trim().toLowerCase();["the"].forEach(function(e){t=t.replace(new RegExp("(^|\\s)"+e+"(\\s|$)")," ")});var e=[];if(""!==t&&t.length>2){document.body.classList.add("search-content");for(var a=t.toLowerCase().split(/\s+/),o=0;o<a.length;o++){let r=a[o];if(r.length<3)continue;let n=new RegExp("(^|\\s)"+r,"i");if(r.match(/\d{4}/))i.year=+r,i.defaultyear=!1,t=t.replace(new RegExp(r,"i"),"");else if(-1===i.terms.indexOf(r))for(var s in imf.data.geoitems){var l=imf.data.geoitems[s];(l.label&&l.label.replace(/[^\w\s]/g,"").toLowerCase().match(n)||s.toLowerCase()===r)&&(-1===e.indexOf(s)&&(e.push(s),i.profiles.push({geoitem:l.label,type:l.type,gid:s})),t=t.replace(new RegExp(r+"($|\\s)","i"),"").trim(),i.results=!0)}}t=t.trim();for(var d={},c=0;c<i.settings.length;c++){var p=i.settings[c];if(p.terms&&-1!==p.terms.indexOf(t)){if(!imf.data.indicators[p.default]){console.log("Unknown indicator",p.default,"in search settings");continue}if(i.default=r(p.default,0),d[p.default]=!0,p.related instanceof Array)for(let t=0;t<p.related.length;t++){let e=r(p.related[t],1e3);e.iid&&(i.indicators.push(e),d[p.related[t]]=!0)}i.results=!0,t=p.search;break}}if(t&&""!==t&&t.length>2&&(n(t,d),i.results=!0),i.profiles.length&&!i.indicators.length&&n(null,d),i.default.did&&1===e.length&&"C"===i.profiles[0].type){let t={G:!1,R:!1},a=imf.data.geoitems[e[0]].regions[i.default.did];for(var h=0;h<a.length;h++){let i=a[h];t[imf.data.geoitems[i].type]||(e.push(i),t[imf.data.geoitems[i].type]=!0)}}e.length?i.geoitems=e:i.default.did&&(i.geoitems=imf.data.datasets[i.default.did].initchart.split(",")),i.indicators.sort(function(t,e){return t.order<e.order?-1:1})}else document.body.classList.remove("search-content");i.one("update",function(){i.root.querySelectorAll("li[data-indicator]").forEach(function(t){var e=t.getAttribute("data-indicator");imf.data.load(e,function(){var a=t.querySelectorAll("[data-gid]");a.forEach(function(t){var a=imf.data.latest(e,t.getAttribute("data-gid"),i.year),r=t.querySelector(".dm-search-value");r.setAttribute("data-value",a.value),r.setAttribute("data-year",a.year),r.classList.toggle("default-year",i.defaultyear)});var r=t.querySelectorAll('[data-value="'+imf.data.meta.nodata+'"]');t.querySelector(".dm-chart-preview")||t.classList.toggle("no-data",r.length===a.length)})})}),i.default?imf.data.load(i.default.iid,function(){i.update();var t=e.length>i.profiles.length;i.root.querySelectorAll(".dm-legend-item").forEach(function(i){i.classList.toggle("default-geoitem",-1===e.indexOf(i.getAttribute("data-key"))||t&&!i.matches(":first-child"))}),i.onYear(i.year)}):i.update()}function s(t,e,i){var a=document.body.getAttribute("data-tool"),r=document.querySelector("base").getAttribute("href");"profile"===a?null==t&&null==e?imf.route(null,null,[],i):window.location.href=r+e+"@"+t+"/"+i:"search"===a?null==t&&null==e?window.open(r+"profile/"+i,"_blank"):window.open(r+e+"@"+t+"/"+i,"_blank"):null==t&&null==e?window.location.href=r+"profile/"+i:imf.route(t,null,[e],i)}i.onYear=function(t){i.year=t,i.root.querySelectorAll(".dm-legend-item").forEach(function(t){var e=imf.data.latest(i.default.iid,t.getAttribute("data-key"),i.year),a=t.querySelector(".dm-legend-value");a&&(a.innerHTML=e.value,a.setAttribute("data-year",e.year),a.classList.toggle("default-year",i.defaultyear))})},i.root.addEventListener("click",function(t){var e=document.body.getAttribute("data-tool");if(t.target.classList.contains("dm-search-button"))document.body.classList.toggle("search-active"),document.body.classList.contains("search-active")&&(i.input.focus(),i.input.select());else if(document.body.classList.contains("search-active")){for(var a=t.target;a&&a!=document&&!a.hasAttribute("data-dataset")&&!a.hasAttribute("data-geoitem")&&"MW-CHART"!==a.nodeName;a=a.parentNode);if(a!=document&&a.hasAttribute("data-dataset")){"search"!==e&&document.body.classList.remove("search-active");var r=i.profiles.length?i.profiles.length<i.geoitems.length?i.geoitems[0]:i.geoitems.join("/"):"";s(a.getAttribute("data-dataset"),a.getAttribute("data-indicator"),r)}a!=document&&a.hasAttribute("data-geoitem")&&("search"!==e&&document.body.classList.remove("search-active"),s(null,null,a.getAttribute("data-geoitem")))}}),i.input.addEventListener("keyup",function(t){clearTimeout(e),13==t.keyCode&&(i.profiles.length||i.indicators.length)?(document.body.classList.remove("search-active"),i.indicators.length?s(i.indicators[0].did,i.indicators[0].iid,imf.state.get("geoitem")):s(null,null,i.profiles[0].gid)):e=setTimeout(o,250)}),i.on("mount",function(){var t=document.querySelector("base").getAttribute("href");mw.support.ajax({url:t+"/search-settings",success:function(t){for(var e in i.settings=t,t)t[e].terms&&(i.terms=i.terms.concat(t[e].terms));"search"===document.body.getAttribute("data-tool")&&(o(),document.body.classList.add("search-active"))}})}),i.on("update",function(){imf.translate(i.root)})}),riot.tag2("imf-settings",'<div class="dm-popup-header" data-babel="#settings"></div> <div class="dm-popup-pane"> <div each="{settings}" class="dm-setting-section"> <div class="dm-setting-section-title">{title}</div> <div each="{settings}" class="dm-setting"> <table id="{id}" if="{type == \'radio\'}"> <tr class="{disabled: disable}"> <td each="{values}"> <input type="radio" name="{name}" id="{id}" value="{value}" __checked="{value==parent.value}"> <label for="{id}">{label}</label> </td> </tr> </table> <virtual if="{type == \'toggle\'}"> <input type="checkbox" name="{name}" id="{id}" __checked="{value}"> <label for="{id}">{label}</label> </virtual> <table id="{id}" class="legend" if="{type == \'legend\'}"> <tr> <td data-babel="#from"></td> <td data-babel="#upto"></td> <td data-babel="#label"></td> <td data-babel="#color"></td> <td></td> </tr> <tr class="{disabled: disable}" each="{values}" no-reorder> <td><input class="legend-input" type="text" name="min" value="{min}"></td> <td><input class="legend-input" type="text" name="max" value="{max}"></td> <td><input class="legend-input" type="text" name="label" value="{label}"></td> <td><input class="legend-input legend-color" type="text" value="{color}" spellcheck="false" riot-style="background-color: {color}"></td> <td><div class="clear-legend"></div></td> </tr> </table> </div> </div> </div> <div class="dm-popup-footer"> <div class="dm-button-wrapper"> <button each="{label, callback in buttons}" data-id="{label}" class="add">{label}</button> </div> </div>','imf-settings,[riot-tag="imf-settings"],[data-is="imf-settings"]{ display: block; position: absolute; right: 10px; top: 0; width: 50px; height: 40px; opacity: 0.2; z-index: 1000; transition: opacity 0.5s linear; } imf-settings > *,[riot-tag="imf-settings"] > *,[data-is="imf-settings"] > *{ display: none; } imf-settings:hover,[riot-tag="imf-settings"]:hover,[data-is="imf-settings"]:hover{ opacity: 1; } imf-settings:after,[riot-tag="imf-settings"]:after,[data-is="imf-settings"]:after{ position: absolute; width: 50px; height: 40px; right: 0; top: 0; text-align: center; line-height: 40px; font-family: dm-icons; content: "\\e995"; color: #000; font-size: 26px; cursor: pointer; } imf-settings.opened,[riot-tag="imf-settings"].opened,[data-is="imf-settings"].opened{ z-index: 5000; left: 0; right: 0; top: 0; opacity: 1; width: auto; height: auto; text-align: center; color: #fff; background: #0e4e98; padding: 0 20px; } imf-settings.opened:after,[riot-tag="imf-settings"].opened:after,[data-is="imf-settings"].opened:after{ color: #fff; top: 10px; } imf-settings.opened > *,[riot-tag="imf-settings"].opened > *,[data-is="imf-settings"].opened > *{ display: block; } imf-settings .dm-popup-header,[riot-tag="imf-settings"] .dm-popup-header,[data-is="imf-settings"] .dm-popup-header,imf-settings .dm-popup-footer,[riot-tag="imf-settings"] .dm-popup-footer,[data-is="imf-settings"] .dm-popup-footer{ padding: 20px 0; font-size: 16px; margin-right: 30px; text-transform: uppercase; } imf-settings .dm-popup-header,[riot-tag="imf-settings"] .dm-popup-header,[data-is="imf-settings"] .dm-popup-header{ text-align: left; border-bottom: 1px solid #fff; margin-bottom: 20px; } imf-settings .dm-popup-footer,[riot-tag="imf-settings"] .dm-popup-footer,[data-is="imf-settings"] .dm-popup-footer{ height: 80px; border-top: 1px solid #fff; } imf-settings .dm-popup-pane,[riot-tag="imf-settings"] .dm-popup-pane,[data-is="imf-settings"] .dm-popup-pane{ text-align: left; margin-top: 10px; height: calc(100% - 160px); overflow: auto; margin-right: 30px; } imf-settings .dm-setting-section,[riot-tag="imf-settings"] .dm-setting-section,[data-is="imf-settings"] .dm-setting-section{ border-bottom: 1px solid #596B8A; padding-bottom: 20px; } imf-settings .dm-setting-section-title,[riot-tag="imf-settings"] .dm-setting-section-title,[data-is="imf-settings"] .dm-setting-section-title{ padding-bottom: 20px; font-size: 16px; } imf-settings table,[riot-tag="imf-settings"] table,[data-is="imf-settings"] table{ border-spacing: 0; width: 100%; table-layout: fixed; } imf-settings td,[riot-tag="imf-settings"] td,[data-is="imf-settings"] td{ padding: 0; } imf-settings label,[riot-tag="imf-settings"] label,[data-is="imf-settings"] label{ cursor: pointer; } imf-settings input[type="radio"],[riot-tag="imf-settings"] input[type="radio"],[data-is="imf-settings"] input[type="radio"]{ display: none; } imf-settings input[type="radio"] + label,[riot-tag="imf-settings"] input[type="radio"] + label,[data-is="imf-settings"] input[type="radio"] + label{ background: #fff; padding: 10px; display: block; text-align: center; color: #000; } imf-settings td:first-child label,[riot-tag="imf-settings"] td:first-child label,[data-is="imf-settings"] td:first-child label{ border-top-left-radius: 4px; border-bottom-left-radius: 4px; } imf-settings td:last-child label,[riot-tag="imf-settings"] td:last-child label,[data-is="imf-settings"] td:last-child label{ border-top-right-radius: 4px; border-bottom-right-radius: 4px; } imf-settings input[type="radio"]:checked + label,[riot-tag="imf-settings"] input[type="radio"]:checked + label,[data-is="imf-settings"] input[type="radio"]:checked + label{ background: #0cafae; color: #fff; } imf-settings input[type="checkbox"],[riot-tag="imf-settings"] input[type="checkbox"],[data-is="imf-settings"] input[type="checkbox"]{ -webkit-appearance: none; -moz-appearance: none; -ms-appearance: none; appearance: none; background-color: #44535e; border-radius: 26px; cursor: pointer; height: 32px; position: relative; width: 52px; outline: none; vertical-align: top; transition: border .25s .15s, box-shadow .25s .3s, padding .25s; float: right; margin-right: 10px; } imf-settings input[type="checkbox"]:after,[riot-tag="imf-settings"] input[type="checkbox"]:after,[data-is="imf-settings"] input[type="checkbox"]:after{ background-color: #b6bbc4; border-radius: 24px; box-shadow: inset 0 -3px 3px hsla(0,0%,0%,.025), 0 1px 4px hsla(0,0%,0%,.15), 0 4px 4px hsla(0,0%,0%,.1); content: \'\'; display: block; width: 32px; height: 32px; left: 0; position: absolute; right: 16px; top: 0; transition: border .25s .15s, left .25s .1s, right .15s .175s; } imf-settings input[type="checkbox"]:checked,[riot-tag="imf-settings"] input[type="checkbox"]:checked,[data-is="imf-settings"] input[type="checkbox"]:checked{ padding-left: 18px; background-color: #0d7c7b; transition: border .25s, box-shadow .25s, padding .25s .15s; } imf-settings input[type="checkbox"]:checked:after,[riot-tag="imf-settings"] input[type="checkbox"]:checked:after,[data-is="imf-settings"] input[type="checkbox"]:checked:after{ left: 20px; right: 0; background-color: #40c5c4; transition: border .25s, left .15s .25s, right .25s .175s; } imf-settings .dm-button-wrapper,[riot-tag="imf-settings"] .dm-button-wrapper,[data-is="imf-settings"] .dm-button-wrapper{ display: inline-block; margin: 0 auto; white-space: nowrap; } imf-settings button,[riot-tag="imf-settings"] button,[data-is="imf-settings"] button{ border: none; font-size: 10pt; cursor: pointer; padding: 10px 20px; min-width: 100px; color: #fff; text-transform: uppercase; border-radius: 5px; margin: 0 5px; } imf-settings button.cancel,[riot-tag="imf-settings"] button.cancel,[data-is="imf-settings"] button.cancel{ background: #50616e; } imf-settings button.add,[riot-tag="imf-settings"] button.add,[data-is="imf-settings"] button.add{ background: #0cafae; } imf-settings button.add:hover,[riot-tag="imf-settings"] button.add:hover,[data-is="imf-settings"] button.add:hover{ background-color: #0ba8a0; } imf-settings .disabled label,[riot-tag="imf-settings"] .disabled label,[data-is="imf-settings"] .disabled label,imf-settings .disabled input,[riot-tag="imf-settings"] .disabled input,[data-is="imf-settings"] .disabled input,imf-settings .disabled button,[riot-tag="imf-settings"] .disabled button,[data-is="imf-settings"] .disabled button{ opacity: 0.2; cursor: auto; pointer-events: none; } imf-settings .legend .disabled input,[riot-tag="imf-settings"] .legend .disabled input,[data-is="imf-settings"] .legend .disabled input{ pointer-events: auto; } imf-settings .legend td,[riot-tag="imf-settings"] .legend td,[data-is="imf-settings"] .legend td{ width: 80px; padding: 4px; white-space: nowrap; } imf-settings .legend td:nth-child(3),[riot-tag="imf-settings"] .legend td:nth-child(3),[data-is="imf-settings"] .legend td:nth-child(3){ width: 100%; } imf-settings .legend td:nth-child(4),[riot-tag="imf-settings"] .legend td:nth-child(4),[data-is="imf-settings"] .legend td:nth-child(4),imf-settings .legend td:nth-child(5),[riot-tag="imf-settings"] .legend td:nth-child(5),[data-is="imf-settings"] .legend td:nth-child(5){ width: 40px; } imf-settings .legend input,[riot-tag="imf-settings"] .legend input,[data-is="imf-settings"] .legend input{ border: none; width: 100%; padding: 2px; border: 1px solid #fff; } imf-settings .legend-color::selection,[riot-tag="imf-settings"] .legend-color::selection,[data-is="imf-settings"] .legend-color::selection{ color: transparent; } imf-settings .legend-color,[riot-tag="imf-settings"] .legend-color,[data-is="imf-settings"] .legend-color{ cursor: pointer; color: transparent; } imf-settings .clear-legend,[riot-tag="imf-settings"] .clear-legend,[data-is="imf-settings"] .clear-legend{ width: 16px; height: 16px; cursor: pointer; background-repeat: no-repeat; background-position: top right; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2016%2016%27%3E%3Cpath%20d%3D%27M1%2C1L15%2C15M15%2C0L0%2C15%27%20stroke%3D%27%23fff%27%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E"); } .color-code { border: none; width: 100%; padding: 0; }',"",function(t){var e=this,i=!1,a=imf.state.get("settings")||{};e.settings=mw.support.extend(t.settings,{}),e.buttons=t.buttons||{close:function(){}};var r=riot.route.query(),n="dm-setting-"+Date.now()+"-";for(var o in e.settings)for(var s in e.settings[o].title=imf.translate(e.settings[o].title),e.settings[o].settings){var l=e.settings[o].settings[s];if(l.label&&(l.label=imf.translate(l.label)),r[l.name])"true"===(d=r[l.name])&&(d=!0),"false"===d&&(d=!1),l.value=d,a[l.name]=d;if(l.id=n+o,"radio"==l.type)for(var d in l.values)l.values[d].id=n+o+"-"+d,l.values[d].label=imf.translate(l.values[d].label)}function c(t,e){for(var i=!0,a=t.querySelectorAll("input"),r=0;r<a.length;r++)i&=3==r||""==a[r].value;t.classList.remove("disabled"),i&&!e&&(t.classList.add("disabled"),a.length&&(a[3].style.backgroundColor="#fff"))}function p(t){if(t.target.classList.contains("clear-legend")){for(var i=t.target.parentNode.parentNode,a=i.querySelectorAll("input"),r=0;r<a.length;r++)a[r].value="";c(i),u({target:i.querySelector(".legend-input")})}else if("BUTTON"==t.target.nodeName||"IMF-SETTINGS"==t.target.nodeName&&e.root.classList.contains("opened")&&t.offsetY<50&&t.offsetX-e.root.clientWidth-50)"BUTTON"==t.target.nodeName&&e.buttons[t.target.getAttribute("data-id")]&&e.buttons[t.target.getAttribute("data-id")](),e.root.classList.remove("opened"),e.update();else if(!e.root.classList.contains("opened")){for(var n=e.root.querySelectorAll(".legend tr"),o=0;o<n.length;o++)c(n[o]);e.root.classList.add("opened")}}function h(t){t.target.classList.contains("legend-input")&&c(t.target.parentNode.parentNode,"focus"==t.type)}function u(t){var e=imf.state.get("settings")||{};if(t.target.classList.contains("legend-input")){for(var i=t.target.parentNode;"TABLE"!=i.nodeName;i=i.parentNode);for(var a=i.querySelectorAll("tr"),r=[],n=0;n<a.length;n++){var o=a[n].querySelectorAll("input");!o.length||""==o[0].value&&""==o[1].value&&""==o[2].value||r.push({min:+o[0].value,max:+o[1].value,label:o[2].value,color:o[3].value})}e.legend=r}else e[t.target.name]="radio"==t.target.type?t.target.value:t.target.checked;imf.state.set("settings",e)}function m(t,e){var i=new CP(e),a=document.createElement("input");function r(){if(this.value.length){var t=CP.__instance__[this.getAttribute("data-index")];t.set(this.value),t.fire("change",[this.value.slice(1)])}}i.picker.firstChild.appendChild(a),i.target.onclick=function(t){var e=CP.__instance__[this.getAttribute("data-index")],i=this.value;setTimeout(function(){e.set(i),e.picker.firstChild.lastChild.value=i},0),t.preventDefault()},e.setAttribute("data-index",t),a.className="color-code",a.placeholder="#rrggbb",a.pattern="^#[A-Fa-f0-9]{6}$",a.type="text",a.setAttribute("data-index",t),i.on("enter",function(){this.picker.firstChild.lastChild.value="#"+CP._HSV2HEX(this.get())}),i.on("change",function(t){this.target.value="#"+t,this.target.style.backgroundColor="#"+t,this.picker.firstChild.lastChild.value="#"+t,u({target:this.target})}),a.oncut=r,a.onpaste=r,a.onkeyup=r,a.oninput=r}e.on("mount",function(){imf.translate(e.root),e.root.style.display="block",e.root.addEventListener("click",p),e.root.addEventListener("change",u),e.root.addEventListener("focus",h,!0),e.root.addEventListener("blur",h,!0);for(var t=e.root.querySelectorAll(".legend-color"),i=0;i<t.length;i++)m(i,t[i])}),e.on("update",function(){for(var a in t.legendIndicator!=i&&(i=t.legendIndicator)&&(imf.data.indicators[i]["restore-legend"]=mw.support.extend(imf.data.indicators[i].legend,{})),e.settings)for(var r in e.settings[a].settings){var n=e.settings[a].settings[r];if(n.disabled instanceof Function){n.disable=n.disabled();var o=document.getElementById(n.id);if(o)if(o.classList.remove("disabled"),null!=n.disable&&o.classList.add("disabled"),"radio"==n.type)for(var s in n.values)n.values[s].value==n.disable&&(document.getElementById(n.values[s].id).checked=!0);else o.checked=n.disable}if("legend"==n.type){var l=imf.data.indicators[i]||{legend:[]};n.values=Array(10);for(var d=0;d<10;d++)n.values[d]={min:"",max:"",label:"",color:"#fff",disable:!0};d=0;for(var c in l.legend)CP.__instance__.length&&CP.__instance__[d].set(l.legend[c].color||"#fff"),n.values[d++]={min:l.legend[c].min||0,max:l.legend[c].max||0,label:l.legend[c].label||"",color:l.legend[c].color||"#fff",disable:!1}}}}),e.on("unmount",function(){e.root.removeEventListener("click",p),e.root.removeEventListener("change",u),e.root.removeEventListener("focus",h,!0),e.root.removeEventListener("blur",h,!0)}),e.on("mount",function(){var t=e.root.getBoundingClientRect();t.top+t.height>window.innerHeight&&(e.root.style.top=Math.max(0,window.innerHeight-t.top-t.height)+"px")}),e.one("mount",function(){var t=imf.state.get("settings")||{};imf.state.set("settings",t)})}),riot.tag2("imf-share-panel",'<div class="dm-share-buttons"> <div if="{what.selected}" class="dm-share"> <span data-babel="#selecteddata"></span> <button class="dm-share-button" data-type="excel" data-what="selected" data-babel="#excel"></button> </div> <div if="{what.all}" class="dm-share"> <span data-babel="#alldata"></span> <button class="dm-share-button" data-type="excel" data-what="all" data-babel="#excel"></button> </div> <div if="{what.map}" class="dm-share"> <span data-babel="#map"></span> <button class="dm-share-button" data-type="png" data-what="map" data-babel="#png"></button> </div> <div if="{what.chart}" class="dm-share"> <span data-babel="#chart"></span> <button class="dm-share-button" data-type="png" data-what="chart" data-babel="#png"></button> </div> <div class="dm-share fix"> <span class="social-label" data-babel="#socialmedia"></span> <div class="dm-share-button dm-social"> <input type="radio" name="social" id="fld-1" value="twitter"> <input type="radio" name="social" id="fld-2" value="facebook"> <input type="radio" name="social" id="fld-3" value="linkedin"> <input type="radio" name="social" id="fld-4" value="mail"> <span> <label for="fld-1"></label> <label for="fld-2"></label> <label for="fld-3"></label> <label for="fld-4" class="mail"></label> </span> <span data-babel="#thankyou" class="noie9 thank"></span> <span data-babel="#share" class="noie9"></span> </div> </div> <div class="dm-share"> <span>API</span> <a class="dm-share-button" target="_blank" href="api/help">Help</a> </div> </div> <div class="dm-deeplink"> <div data-babel="#deeplink_desc"></div> <input value="{url}"><button class="dm-copy-button" data-babel="#copy"></button> </div>','imf-share-panel,[riot-tag="imf-share-panel"],[data-is="imf-share-panel"]{ display: block; color: #000; text-align: center; } imf-share-panel > *,[riot-tag="imf-share-panel"] > *,[data-is="imf-share-panel"] > *{ background: #f8f9fb; padding: 0 30px; } imf-share-panel .dm-deeplink,[riot-tag="imf-share-panel"] .dm-deeplink,[data-is="imf-share-panel"] .dm-deeplink{ clear: both; padding: 20px 30px 30px 60px; } imf-share-panel .dm-share-buttons,[riot-tag="imf-share-panel"] .dm-share-buttons,[data-is="imf-share-panel"] .dm-share-buttons{ padding-top: 10px; } imf-share-panel .dm-share,[riot-tag="imf-share-panel"] .dm-share,[data-is="imf-share-panel"] .dm-share{ display: inline-block; padding: 10px 20px; overflow: hidden; } imf-share-panel .dm-share.fix,[riot-tag="imf-share-panel"] .dm-share.fix,[data-is="imf-share-panel"] .dm-share.fix{ position: relative; top: -5px; } imf-share-panel .dm-share span,[riot-tag="imf-share-panel"] .dm-share span,[data-is="imf-share-panel"] .dm-share span{ display: block; } imf-share-panel input,[riot-tag="imf-share-panel"] input,[data-is="imf-share-panel"] input{ height: 34px; min-width: 200px; color: #838282; border: 1px solid #e2e2e3; } imf-share-panel button:focus,[riot-tag="imf-share-panel"] button:focus,[data-is="imf-share-panel"] button:focus,imf-share-panel input:focus,[riot-tag="imf-share-panel"] input:focus,[data-is="imf-share-panel"] input:focus{ outline: none; } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button,imf-share-panel .dm-copy-button,[riot-tag="imf-share-panel"] .dm-copy-button,[data-is="imf-share-panel"] .dm-copy-button,imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ color: #fff; height: 30px; background: #58595d; font-weight: 300; border: none; padding: 5px 10px; cursor: pointer; text-transform: uppercase; } imf-share-panel a.dm-share-button,[riot-tag="imf-share-panel"] a.dm-share-button,[data-is="imf-share-panel"] a.dm-share-button{ display: block; text-decoration: none; } imf-share-panel .dm-copy-button,[riot-tag="imf-share-panel"] .dm-copy-button,[data-is="imf-share-panel"] .dm-copy-button{ border-radius: 4px; margin-left: 10px; display: inline-block; } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button{ padding: 5px 20px; margin-top: 5px; } imf-share-panel .spinner.dm-share-button,[riot-tag="imf-share-panel"] .spinner.dm-share-button,[data-is="imf-share-panel"] .spinner.dm-share-button{ pointer-events: none; cursor: auto; opacity: 0.5; color: transparent; width: 140px; position: relative; } imf-share-panel .spinner.dm-share-button:before,[riot-tag="imf-share-panel"] .spinner.dm-share-button:before,[data-is="imf-share-panel"] .spinner.dm-share-button:before{ left: 6px; top: 6px; } imf-share-panel .spinner.dm-share-button:after,[riot-tag="imf-share-panel"] .spinner.dm-share-button:after,[data-is="imf-share-panel"] .spinner.dm-share-button:after{ content: "please wait"; position: absolute; left: 30px; line-height: 30px; top: 0; color: #fff; } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button,imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ border-radius: 15px; } imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ position: relative; background: #1b335f; overflow: hidden; top: 3px; height: 29px; } imf-share-panel .social-label,[riot-tag="imf-share-panel"] .social-label,[data-is="imf-share-panel"] .social-label{ position: relative; top: 3px; } imf-share-panel .dm-social .thank,[riot-tag="imf-share-panel"] .dm-social .thank,[data-is="imf-share-panel"] .dm-social .thank,imf-share-panel .dm-social span:last-child,[riot-tag="imf-share-panel"] .dm-social span:last-child,[data-is="imf-share-panel"] .dm-social span:last-child{ position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: inherit; display: block; line-height: 30px; background: #58595d; transition: .3s ease-out; transform-origin: 50% 0; } imf-share-panel .dm-social .thank,[riot-tag="imf-share-panel"] .dm-social .thank,[data-is="imf-share-panel"] .dm-social .thank{ background: none; color: white; transform: translateY(-100%); transition: .3s .5s ease-out; } imf-share-panel .dm-social input,[riot-tag="imf-share-panel"] .dm-social input,[data-is="imf-share-panel"] .dm-social input{ display: none; } imf-share-panel .dm-social input:checked ~ span label,[riot-tag="imf-share-panel"] .dm-social input:checked ~ span label,[data-is="imf-share-panel"] .dm-social input:checked ~ span label{ transform: translateY(100%); } imf-share-panel .dm-social input:checked ~ .thank,[riot-tag="imf-share-panel"] .dm-social input:checked ~ .thank,[data-is="imf-share-panel"] .dm-social input:checked ~ .thank{ transform: none; } imf-share-panel .dm-social input:checked ~ span:last-child,[riot-tag="imf-share-panel"] .dm-social input:checked ~ span:last-child,[data-is="imf-share-panel"] .dm-social input:checked ~ span:last-child{ display: none; } imf-share-panel .dm-social label,[riot-tag="imf-share-panel"] .dm-social label,[data-is="imf-share-panel"] .dm-social label{ display: inline-block; float: left; width: 26px; height: 26px; padding-left: 0; transform-origin: 50% 50%; transform: translateX(20em) rotateZ(180deg); text-decoration: none; transition: 0s .3s; cursor: pointer; position: relative; top: -5px; } imf-share-panel .dm-social label:before,[riot-tag="imf-share-panel"] .dm-social label:before,[data-is="imf-share-panel"] .dm-social label:before{ font-family: dm-icons; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; display: block; color: #fff; line-height: 28px; } imf-share-panel .dm-social label:nth-child(1):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(1):before,[data-is="imf-share-panel"] .dm-social label:nth-child(1):before{ content: "\\ea96"; } imf-share-panel .dm-social label:nth-child(2):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(2):before,[data-is="imf-share-panel"] .dm-social label:nth-child(2):before{ content: "\\ea91"; } imf-share-panel .dm-social label:nth-child(3):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(3):before,[data-is="imf-share-panel"] .dm-social label:nth-child(3):before{ content: "\\eac9"; } imf-share-panel .dm-social label:nth-child(4):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(4):before,[data-is="imf-share-panel"] .dm-social label:nth-child(4):before{ content: "\\ea83"; font-size: 18px; position: relative; top: -1px; } imf-share-panel .dm-social:hover span:last-child,[riot-tag="imf-share-panel"] .dm-social:hover span:last-child,[data-is="imf-share-panel"] .dm-social:hover span:last-child{ transform: rotateX(90deg); } imf-share-panel .dm-social:hover label,[riot-tag="imf-share-panel"] .dm-social:hover label,[data-is="imf-share-panel"] .dm-social:hover label{ transition: .3s ease-out; transform: none; } imf-share-panel .dm-social:hover label:nth-child(1),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(1),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(1){ transition-delay: 0.26667s; } imf-share-panel .dm-social:hover label:nth-child(2),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(2),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(2){ transition-delay: 0.33333s; } imf-share-panel .dm-social:hover label:nth-child(3),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(3),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(3){ transition-delay: 0.4s; } imf-share-panel .dm-social:hover label:nth-child(4),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(4),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(4){ transition-delay: 0.46667s; }',"",function(t){var e=this;e.what={};for(var i=t.what.split(","),a=0;a<i.length;a++)e.what[i[a]]=!0;imf.state.listen("settings",function(){e.update()}),e.root.addEventListener("click",function(i){if(i.target.hasAttribute("data-type")){var a=i.target.getAttribute("data-type"),r=i.target.getAttribute("data-what"),n=document.getElementById("dm-main");if("excel"===a){var o=document.querySelector("base").getAttribute("href")+"/export/excel.php?";if(t.indicator){if(o+="indicator="+t.indicator,"selected"===r)o+="&geoitems="+(imf.state.get("geoitem")||[]).join(",");else if("all"===r){var s=imf.state.get("dataset"),l=imf.data.datasets[s];l.download_full&&(o=l.download_full)}window.location.href=o}else if(t.geoitem){o+="geoitems="+t.geoitem;var d={indicators:{}};for(var c in imf.data.indicators)if(imf.data.indicators[c].values){var p={};p[t.geoitem]=imf.data.indicators[c].values[t.geoitem],p[t.geoitem]&&(d.indicators[c]={values:p})}mw.support.sendToServer(!0,o,{indicator:d},function(){i.target.classList.remove("spinner")})}}else if("chart"==r&&"bar"===n.getAttribute("data-chart")){var h=imf.data.indicators[imf.state.get("indicator")],u={download:!0,type:"png",template:"datamapper-large",content:"<imf-barchart>"+document.querySelector("imf-barchart").innerHTML+"</imf-barchart>",parameters:{title:imf.data.meta.general_title,copyright:imf.data.meta.copyright,indicator:h.label,unit:h.unit,source:imf.data.meta.source+" "+h.source,year:", "+imf.state.get("year")}};mw.support.sendToServer(!0,"export/png.php",u,function(){i.target.classList.remove("spinner")})}else{for(var m=e;m.parent;m=m.parent);!function t(e){if(e&&e.tags){if(e.root&&"IMF-INDICATOR-PANEL"==e.root.nodeName)return;if(e.root.nodeName==("map"==r?"MW-MAP":"MW-CHART")){i.target.classList.add("spinner");var a=e[r]();if(!a)return;var n=imf.data.indicators[imf.state.get("indicator")],o=a.export("svg",{parameters:{chart:{width:2560,height:1400}}});if("map"==r){if("AFRREO"==imf.state.get("dataset")){var s=a.width(),l=a.height();o=o.replace('id="map"','id="map" transform="scale(2.2) translate('+-s/3.206+","+-l/2.59+')"').replace(/stroke-width="1"/g,'stroke-width="0.5"')}"color"==n.mode&&(o+='<div class="map-legend">'+mw.support.legendHTML(n.legend)+"</div>")}else if("chart"==r){o=o.replace("<svg ",'<svg viewPort="0 0 1280 700" ');var d=document.querySelectorAll("li.dm-legend-item");o+='<div class="dm-chart-legend">';for(var c=0;c<d.length;c++)o+='<div class="dm-legend-item">'+d[c].innerHTML+"</div>";o+="</div>"}var p={download:!0,type:"png",template:"datamapper-large",content:o,parameters:{title:imf.data.meta.general_title,copyright:imf.data.meta.copyright,indicator:n.label,unit:n.unit,source:imf.data.meta.source+" "+n.source,year:"map"==r?", "+imf.state.get("year"):""}};mw.support.sendToServer(!0,"export/png.php",p,function(){i.target.classList.remove("spinner")})}else for(var h in e.tags)t(e.tags[h])}}(m)}}}),e.on("mount",function(){e.root.querySelector(".dm-copy-button").addEventListener("click",function(){var t=this.previousElementSibling;t.select();try{document.execCommand("copy"),t.blur()}catch(t){alert(imf.translate("copyfailed"))}});for(var t=e.root.querySelectorAll('input[type="radio"]'),i=0;i<t.length;i++)t[i].addEventListener("change",function(){var i;if(e.opts.dataset){var a=imf.data.datasets[e.opts.dataset].title,r=imf.data.indicators[e.opts.indicator].label;i=imf.data.meta.general_title+": "+a+" - "+r}else if(e.opts.geoitem){var n=imf.data.geoitems[e.opts.geoitem].label;i=imf.data.meta.general_title+": "+n}var o=(imf.data.meta[this.value]||{twitter:"https://twitter.com/intent/tweet?url={URL}&text={TITLE}",facebook:"http://www.facebook.com/sharer.php?u={URL}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}",mail:"mailto:?subject={TITLE}&body={URL}"}[this.value]).replace("{URL}",encodeURIComponent(window.location.href)).replace("{TITLE}",encodeURIComponent(i));window.open(o,"_blank"),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].checked=!1},1e3)})}),e.on("update",function(){e.url=imf.deeplink()})}),riot.tag2("mw-chart","",'mw-chart,[riot-tag="mw-chart"],[data-is="mw-chart"]{ display: block; padding-top: 10px; } mw-chart.no-data .year-slider,[riot-tag="mw-chart"].no-data .year-slider,[data-is="mw-chart"].no-data .year-slider{ display: none; }','class="no-data"',function(t){var e,i,a,r=this,n=0,o="";r.chart=function(){return e};var s=document.createElement("div");r.root.appendChild(s),r.on("update",function(){if(t.indicators&&t.geoitems){var s=t.indicators.length>1||1===t.geoitems.length,l=s?t.geoitems[0]:t.indicators[0],d=s?t.indicators:t.geoitems;if(l&&(!s||imf.data.indicators[d[0]]&&imf.data.indicators[d[0]].statistics&&imf.data.indicators[d[0]].statistics.range)){if(e&&i==l){var c=(t.exploded||[]).concat(d);t.year!=a&&(e.year(t.year),a=t.year),c.join(",")!=o&&(e.series(c,!1),e.redraw(n&&n!=r.root.clientWidth),n=r.root.clientWidth,o=c.join(","))}else{e&&e.destroy();var p=new mw.StateManager({kickstart:!1,data:t.datamanager}),h={resize:!0,type:t.type||"line",state:{manager:p},xaxis:{multiples:!0,range:{minimum:"dataset",maximum:"dataset",extend:!1}},yaxis:{text:{}},indicator:s?d:l,geoitem:s?l:d,export:{width:1280},values:function(t){return imf.data.indicators[s?t:l].values[s?l:t]}};if(t.range&&(h.xaxis.range.minimum=+t.range.from,h.xaxis.range.maximum=+t.range.to),t.future&&(h.future={from:t.future}),mw.support.extend(t.options||{},h),t.axisCount>1&&(h.yaxis.text.color="#fff",h.yaxis.text.backgroundColor="legend",h.yaxis.count=t.axisCount),!s&&l){var u=t.datamanager.indicators[l];h.yaxis.labels&&(h.yaxis.range={},(u.minvalue||u.maxvalue)&&(u.minvalue&&(h.yaxis.range.minimum=+u.minvalue),u.maxvalue&&(h.yaxis.range.maximum=+u.maxvalue))),t.range&&"log"==t.axis&&(u.minvalue||t.range.min)>0&&(u.maxvalue||t.range.max)>0&&(h.yaxis.type="logarithmic")}e=new mw.Chart(r.root,h),t.statemanager&&(t.statemanager.listen("highlight",function(i){var a=t.exploded||[];e.highlight(i,-1==a.indexOf(i)?void 0:"#000")}),t.statemanager.listen("exploded-countries",function(){r.update()}),s&&t.statemanager.listen("indicator",function(t){i=null,r.update()}),t.statemanager.listen("settings",function(i){i.yaxis!=t.axis&&(t.axis=i.yaxis,e&&(e.destroy(),e=null,r.update()))}),e.listen("hover",function(e){t.statemanager.set("highlight",e?e.geoitem:null)})),t.onYear&&e.listen("year",t.onYear)}i=l}}})}),riot.tag2("mw-map",'<div if="{resize}" class="map-resize"> <div class="block"> <span data-babel="#regularmap"></span> <input type="checkbox" id="resizebutton"> </div> <div class="block"> <div> <span data-babel="#relativeto"></span> <span class="label">{label} ({unit})</span> </div> <div class="label" id="resizelabel"></div> </div> </div> <div class="map"></div> <div class="map-disclaimer" data-babel="#mapdisclaimerlink"></div>','mw-map,[riot-tag="mw-map"],[data-is="mw-map"]{ display: block; font-size: 11pt; background: #fff; } mw-map .map-wrapper,[riot-tag="mw-map"] .map-wrapper,[data-is="mw-map"] .map-wrapper{ display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-box-orient: vertical; -moz-box-orient: vertical; -ms-flex-direction: column; -webkit-flex-direction: column; flex-direction: column; } mw-map .map-wrapper > *,[riot-tag="mw-map"] .map-wrapper > *,[data-is="mw-map"] .map-wrapper > *{ -webkit-box-ordinal-group: 10; -moz-box-ordinal-group: 10; -ms-flex-order: 10; -webkit-order: 10; order: 10; } mw-map .map-resize,[riot-tag="mw-map"] .map-resize,[data-is="mw-map"] .map-resize{ display: table; } mw-map .map-resize .block,[riot-tag="mw-map"] .map-resize .block,[data-is="mw-map"] .map-resize .block{ display: table-cell; } mw-map .map-resize .label,[riot-tag="mw-map"] .map-resize .label,[data-is="mw-map"] .map-resize .label{ font-style: italic; } mw-map .map-highlight-layer,[riot-tag="mw-map"] .map-highlight-layer,[data-is="mw-map"] .map-highlight-layer{ top: 47px !important; } mw-map[mode="circles"] .map-highlight-layer,[riot-tag="mw-map"][mode="circles"] .map-highlight-layer,[data-is="mw-map"][mode="circles"] .map-highlight-layer{ top: 0 !important; } mw-map .map-legend,[riot-tag="mw-map"] .map-legend,[data-is="mw-map"] .map-legend{ -webkit-box-ordinal-group: 1; -moz-box-ordinal-group: 1; -ms-flex-order: 1; -webkit-order: 1; order: 1; padding: 20px 0 10px; } mw-map .map-legend-item,[riot-tag="mw-map"] .map-legend-item,[data-is="mw-map"] .map-legend-item{ display: inline-block; white-space: nowrap; margin-right: 15px; } mw-map .map-legend-swatch,[riot-tag="mw-map"] .map-legend-swatch,[data-is="mw-map"] .map-legend-swatch{ display: inline-block; position: relative; width: 10px; height: 10px; border-radius: 5px; margin-right: 5px; } mw-map[mode="circles"] .map-legend,[riot-tag="mw-map"][mode="circles"] .map-legend,[data-is="mw-map"][mode="circles"] .map-legend{ display: none; } mw-map .pan-button,[riot-tag="mw-map"] .pan-button,[data-is="mw-map"] .pan-button{ display: none; cursor: pointer; position: absolute; background-position: center; background-repeat: no-repeat; background-color: rgba(255,255,255,0.4); } mw-map .left.pan-button,[riot-tag="mw-map"] .left.pan-button,[data-is="mw-map"] .left.pan-button,mw-map .right.pan-button,[riot-tag="mw-map"] .right.pan-button,[data-is="mw-map"] .right.pan-button{ width: 36px; height: 56px; margin-top: -28px; -moz-background-size: 15px 30px; -webkit-background-size: 15px 30px; background-size: 15px 30px; } mw-map .top.pan-button,[riot-tag="mw-map"] .top.pan-button,[data-is="mw-map"] .top.pan-button,mw-map .bottom.pan-button,[riot-tag="mw-map"] .bottom.pan-button,[data-is="mw-map"] .bottom.pan-button{ width: 56px; height: 36px; margin-left: -28px; -moz-background-size: 30px 15px; -webkit-background-size: 30px 15px; background-size: 30px 15px; } mw-map .has-touched .pan-button,[riot-tag="mw-map"] .has-touched .pan-button,[data-is="mw-map"] .has-touched .pan-button{ display: block; } mw-map .map-zoom-1 .pan-button,[riot-tag="mw-map"] .map-zoom-1 .pan-button,[data-is="mw-map"] .map-zoom-1 .pan-button{ display: none; } mw-map .left.pan-button,[riot-tag="mw-map"] .left.pan-button,[data-is="mw-map"] .left.pan-button{ left: 0; top: 100%; border-top-right-radius: 7px; border-bottom-right-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2027%2044%27%3E%3Cpath%20d%3D%27M27%2C0L0%2C22L27%2C44%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .right.pan-button,[riot-tag="mw-map"] .right.pan-button,[data-is="mw-map"] .right.pan-button{ right: -100%; top: 100%; border-top-left-radius: 7px; border-bottom-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2027%2044%27%3E%3Cpath%20d%3D%27M0%2C0L27%2C22L0%2C44%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .top.pan-button,[riot-tag="mw-map"] .top.pan-button,[data-is="mw-map"] .top.pan-button{ top: 0; left: 100%; border-bottom-right-radius: 7px; border-bottom-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2044%2027%27%3E%3Cpath%20d%3D%27M0%2C27L22%2C0L44%2C27%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .bottom.pan-button,[riot-tag="mw-map"] .bottom.pan-button,[data-is="mw-map"] .bottom.pan-button{ bottom: -100%; left: 100%; border-top-right-radius: 7px; border-top-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2044%2027%27%3E%3Cpath%20d%3D%27M0%2C0L22%2C27L44%2C0%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map input[type="checkbox"],[riot-tag="mw-map"] input[type="checkbox"],[data-is="mw-map"] input[type="checkbox"]{ -webkit-appearance: none; -moz-appearance: none; -ms-appearance: none; appearance: none; border: 1px solid #c1c2c4; border-radius: 9px; cursor: pointer; height: 18px; position: relative; margin: 0px 5px; top: 4px; width: 34px; outline: none; transition: border .25s .15s, box-shadow .25s .3s, padding .25s; } mw-map input[type="checkbox"]:after,[riot-tag="mw-map"] input[type="checkbox"]:after,[data-is="mw-map"] input[type="checkbox"]:after{ background-color: #0cafae; border-radius: 9px; box-shadow: inset 0 -3px 3px hsla(0,0%,0%,.025), 0 1px 4px hsla(0,0%,0%,.15), 0 4px 4px hsla(0,0%,0%,.1); content: \'\'; display: block; width: 18px; height: 18px; left: 0; position: absolute; right: 16px; top: -1px; transition: border .25s .15s, left .25s .1s, right .15s .175s; } mw-map input[type="checkbox"]:checked,[riot-tag="mw-map"] input[type="checkbox"]:checked,[data-is="mw-map"] input[type="checkbox"]:checked{ padding-left: 17px; transition: border .25s, box-shadow .25s, padding .25s .15s; } mw-map input[type="checkbox"]:checked:after,[riot-tag="mw-map"] input[type="checkbox"]:checked:after,[data-is="mw-map"] input[type="checkbox"]:checked:after{ left: 17px; right: 0; transition: border .25s, left .15s .25s, right .25s .175s; } mw-map .map-disclaimer,[riot-tag="mw-map"] .map-disclaimer,[data-is="mw-map"] .map-disclaimer{ color: #0f9c9a; text-transform: uppercase; font-size: 9pt; position: absolute; bottom: 20px; font-weight: 400; cursor: pointer; }',"",function(t){var e,i,a,r,n,o,s,l,d,c=this,p=!1,h=[],u={};function m(e){var i;if(s&&-1==s.indexOf(e))return"#f7f7f7";if("circles"!=c.opts.mode&&d){var a=u[e]||{};i=mw.support.legendColor(d,a[c.opts.year])}else i=t.nodata||"#d5d7da";return i&&r&&(n?-1==n.indexOf(e)&&(i=mw.support.addAlpha(i,.2)):r!=e&&(i=mw.support.addAlpha(i,.2))),i}c.map=function(){return e},imf.state.listen("settings",function(t){t.legend&&t.legend.length&&JSON.stringify(d)!==JSON.stringify(t.legend)&&(d=t.legend,e&&(e.legend(d),e.color(m)))}),imf.on("reset",function(){c.resizebutton.checked=!1,e&&(e.zoom(!1,0),e.resize(!1,0))}),c.on("mount",function(){c.resizebutton.addEventListener("change",function(){e&&(this.checked?t.datamanager.load(c.resize,function(){e.resize(c.resize)}):e.resize(!!this.checked&&c.resize))}),!e&&c.root.clientWidth&&c.update()}),c.on("update",function(){if(c.resize=!(!t.indicator||!t.datamanager.indicators[t.indicator])&&t.datamanager.indicators[t.indicator].resize_ind,c.resize&&(c.label=t.datamanager.indicators[c.resize].label,c.unit=t.datamanager.indicators[c.resize].unit),t.indicator&&0!=c.root.clientWidth&&!e){a=new mw.map.layers.Highlight({template:function(e){var i="<div class='label'>{GEOITEM}</div>";return s&&-1!=s.indexOf(e.geoitem)&&(i+="<div class='value'>"+t.datamanager.value(t.indicator,e.geoitem,t.year)+"</div>"),c.resize&&c.resizebutton.checked&&(c.resizelabel.innerHTML=t.datamanager.geoitems[e.geoitem].label+", "+t.datamanager.value(c.resize,e.geoitem,t.year)),i}}),i=new mw.map.layers.Circles({color:"rgba(17,114,79,0.6)",size:t.indicator});var o={map:{padding:10,resize:!0,retina:2,url:"config/world.json"},borders:{width:1.5},circles:!1,state:{indicator:!1,year:!1,geoitem:!1},data:new mw.StateManager({data:t.datamanager,kickstart:!1}),layers:[mw.map.layers.Legend,a,i],speed:{resize:1},zoom:{maximum:10,touch:!1},events:{hover:"follow",click:!0,touch:"hover"},export:{width:1280}};t.ignoreAspect&&(o.map.aspect=!1),mw.support.extend(t.options||{},o),(e=new mw.Map(c.root.querySelector(".map"),o)).listen("ready",function(){p=!0,c.update();var i=riot.route.query();i.zoom&&t.datamanager.geoitems[i.zoom]&&e.zoom(i.zoom,.01),i.highlight&&setTimeout(function(){e.highlight(i.highlight)},100)}),t.statemanager&&(t.statemanager.listen("highlight",function(t){t!=r&&(r=t,n=c.opts.regions[r],e.color(m),a.hide())}),t.statemanager.listen("custom-geoitems",function(t){t.length>h.length&&(e.zoom(t[t.length-1]),setTimeout(function(){e.highlight(t[t.length-1])},1100)),h=t.slice()}),e.listen("hover",function(i){var a=i?i.geoitem:null;a!=r&&(t.statemanager.set("highlight",r=a),r||(e.color(m),c.resizelabel.innerHTML=""))}),e.listen("click",function(e){if(e.geoitem){if(s&&-1==s.indexOf(e.geoitem))return;var i=t.statemanager.get("geoitem");-1==i.indexOf(e.geoitem)&&(i.push(e.geoitem),t.statemanager.set("geoitem",i))}}))}}),c.on("updated",function(){if(p){if(t.indicator!=l&&(c.resizebutton.checked&&!c.resize&&(c.resizebutton.checked=!1,e.resize(!1,0)),"circles"==t.mode?(i.size(t.year,t.indicator),i.toggle(!0),e.color(m)):(e.legend(t.datamanager.indicators[t.indicator].legend),i.toggle(!1)),l=t.indicator)){u=t.datamanager.indicators[l].values;var a=imf.state.get("settings")||{};a.legend=d=t.datamanager.indicators[l].legend,imf.state.set("settings",a)}if(e.region(t.regions),t.area&&t.indicator){var r=-1!=t.area.indexOf("WORLD");r&&t.area==o||(t.area&&!r?e.zoom(t.area,0):e.zoom(!1,0),o=t.area,s=t.regions[o])}("circles"==t.mode||c.resize)&&e.year(t.year),"color"!=t.mode&&void 0!=t.mode||e.color(m),c.resizebutton.checked&&c.resize&&e.resize(c.resize)}})}),riot.tag2("mw-slider","",'mw-slider,[riot-tag="mw-slider"],[data-is="mw-slider"]{ display: block; height: 40px; position: relative; z-index: 2000; } mw-slider .slider-labels,[riot-tag="mw-slider"] .slider-labels,[data-is="mw-slider"] .slider-labels{ position: relative; } mw-slider .slider-label,[riot-tag="mw-slider"] .slider-label,[data-is="mw-slider"] .slider-label{ width: 40px; margin-left: 30px; padding-top: 20px; text-align: center; font-size: 11pt; } mw-slider .slider-label:before,[riot-tag="mw-slider"] .slider-label:before,[data-is="mw-slider"] .slider-label:before{ content: ""; width: 1px; height: 15px; position: absolute; top: 0; left: 20px; border-left: 1px solid #77789e; } mw-slider .minor.slider-label:before,[riot-tag="mw-slider"] .minor.slider-label:before,[data-is="mw-slider"] .minor.slider-label:before{ height: 7px; } mw-slider .slider-handle,[riot-tag="mw-slider"] .slider-handle,[data-is="mw-slider"] .slider-handle{ position: relative; width: 80px; top: -14px; padding: 2px 10px; border-radius: 5px; text-align: center; color: #fff; z-index: 1; white-space: nowrap; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); background: #0cafae; } mw-slider .slider-handle:hover,[riot-tag="mw-slider"] .slider-handle:hover,[data-is="mw-slider"] .slider-handle:hover{ background-color: #0ba8a0; } mw-slider .slider-value,[riot-tag="mw-slider"] .slider-value,[data-is="mw-slider"] .slider-value{ padding-left: 2px; }',"",function(t){var e,i,a,r,n,o=this;function s(t){var n,o;function s(){clearTimeout(o),t.target.classList.remove("playing"),document.body.removeEventListener("touchstart",s),document.body.removeEventListener("mousedown",s)}n=r==i?e:r,function t(){if(n==i)s();else{if(1==a)n++;else if(4==a){var e=Math.floor(n/10),r=n%10;5==++r&&(r=1,e++),n=String(e)+r}else{e=Math.floor(n/100);var l=n%100;13==++l&&(l=1,e++),n=String(e)+(l<10?"0":"")+l}imf.state.set("year",n),o=setTimeout(t,200)}}(),t.target.classList.add("playing"),document.body.addEventListener("touchstart",s),document.body.addEventListener("mousedown",s),t.stopPropagation(),t.preventDefault()}var l={quarter:Array(4),month:Array(12)};for(var d in l)for(var c=0;c<l[d].length;c++)l[d][c]=imf.data.meta[d+(c+1)];o.on("update",function(d){if(t.range&&t.value){if(n)e==t.range.from&&i==t.range.to&&a==t.step||n.range(+t.range.from,+t.range.to,1==t.step?1:4==t.step?"Q":"M");else{if(n=new mw.Slider(o.root,{percentages:!0,handle:"<div class='slider-handle'>{VAL}</div>",value:t.value||0,range:{minimum:+t.range.from,maximum:+t.range.to,step:1==t.step?1:4==t.step?"Q":"M"},labels:{months:l.month,quarters:l.quarter,multiple:!0,every:t.labels&&"false"!=t.labels?5:0}}),o.root.parentNode){var c=o.root.parentNode.querySelector(".play-button");c&&(c.addEventListener("touchstart",s),c.addEventListener("mousedown",s))}t.onChange&&n.listen("update",t.onChange)}r!=t.value&&n.set(t.value),o.root.style.display=t.range&&t.value?"":"none",e=t.range.from,i=t.range.to,a=t.step,r=t.value}})}),riot.tag2("radio-group",'<div class="uninitialized dm-radio-buttons"></div> <yield></yield>','radio-group,[riot-tag="radio-group"],[data-is="radio-group"]{ display: block; } radio-group .uninitialized.dm-radio-buttons ~ *,[riot-tag="radio-group"] .uninitialized.dm-radio-buttons ~ *,[data-is="radio-group"] .uninitialized.dm-radio-buttons ~ *{ display: none; } radio-group .dm-radio-buttons,[riot-tag="radio-group"] .dm-radio-buttons,[data-is="radio-group"] .dm-radio-buttons{ display: inline-block; height: 30px; margin: 20px 0 15px 0; padding: 0; color: #000; font-size: 11pt; border-radius: 4px; background-color: #fff; } radio-group .hidden.dm-radio-buttons,[riot-tag="radio-group"] .hidden.dm-radio-buttons,[data-is="radio-group"] .hidden.dm-radio-buttons{ border: none; margin: 0; } radio-group .hidden.dm-radio-buttons *,[riot-tag="radio-group"] .hidden.dm-radio-buttons *,[data-is="radio-group"] .hidden.dm-radio-buttons *{ display: none; } radio-group .dm-radio-buttons > input,[riot-tag="radio-group"] .dm-radio-buttons > input,[data-is="radio-group"] .dm-radio-buttons > input{ display: none; } radio-group .dm-radio-buttons > label,[riot-tag="radio-group"] .dm-radio-buttons > label,[data-is="radio-group"] .dm-radio-buttons > label{ display: inline-block; cursor: pointer; margin: 0 8px 0 0; line-height: 27px; padding: 0 15px; position: relative; background: #edeef0; border-radius: 4px; } radio-group .dm-radio-buttons > :checked + label,[riot-tag="radio-group"] .dm-radio-buttons > :checked + label,[data-is="radio-group"] .dm-radio-buttons > :checked + label{ background-color: #0ba8a0; color: #fff; cursor: default; } radio-group [disabled] + label,[riot-tag="radio-group"] [disabled] + label,[data-is="radio-group"] [disabled] + label{ cursor: auto; opacity: 0.5; }',"",function(t){var e=this,i={};function a(){var t=e.root.firstElementChild;if(t.childElementCount>0)for(var a=t.nextElementSibling,n=0;a;a=a.nextElementSibling)a.hasAttribute("data-title")&&(t.childNodes[n].disabled=a.classList.contains("disabled"),n+=2);for(var o in e.tags){var s=e.tags[o];!i[o]&&s&&s.root&&s.root.clientWidth>0&&(i[o]=!0,s.update())}r()}function r(){for(var t="",i=e.root.getAttribute("data-tab"),a=1;a<e.root.children.length;a++)e.root.children[a].hasAttribute("data-title")&&(e.root.children[a].style.display=a==i?"":"none",a>1&&a==i&&(t=e.root.children[a].getAttribute("data-title").toLowerCase().replace(/[^\w]/g,"")));return t}function n(t){e.root.setAttribute("data-tab",t.target.value);var i=r();e.opts.hash&&(""==i&&history&&history.pushState instanceof Function?history.pushState("",document.title,window.location.pathname):window.location.hash=i),a()}e.on("update",function(){if(e.root.childElementCount>1&&e.root.firstChild.classList.contains("uninitialized")){for(var r=e.root.firstElementChild,o="rg-"+(new Date).getTime()+"-",s=window.location.hash.substr(1),l=r.nextElementSibling,d=1;l;l=l.nextElementSibling)if(l.hasAttribute("data-title")){var c=l.getAttribute("data-title"),p=c.toLowerCase().replace(/[^\w]/g,""),h=document.createElement("input");h.id=o+d,h.type="radio",h.value=d,h.name=o,h.addEventListener("change",n),e.opts.hash&&(s==p||1==d&&""==s)||!e.opts.hash&&1==d?(h.checked=!0,l.style.display="",e.root.setAttribute("data-tab",d)):l.style.display="none",l.clientWidth>0&&(i[d]=!0);var u=document.createElement("label");u.setAttribute("for",h.id),u.innerHTML=c,r.appendChild(h),r.appendChild(u),d++}if(e.root.firstChild.classList.remove("uninitialized"),2==e.root.childElementCount&&e.root.firstChild.classList.add("hidden"),t.collapse){var m=e.root.querySelectorAll(".disabled").length;e.root.childElementCount-2==m&&e.root.firstChild.classList.add("hidden")}}a()})}),riot.tag2("swiper-panel",'<div class="swiper-edge"></div> <div class="swiper-wrapper"> <div each="{item, index in opts.items}" class="swiper-slide"> <yield></yield> </div> </div> <div class="swiper-pagination"></div> <div class="swiper-button swiper-button-prev"></div> <div class="swiper-button swiper-button-next"></div>','swiper-panel,[riot-tag="swiper-panel"],[data-is="swiper-panel"]{ display: block; position: relative; overflow: hidden; } swiper-panel .swiper-wrapper,[riot-tag="swiper-panel"] .swiper-wrapper,[data-is="swiper-panel"] .swiper-wrapper{ position: relative; } swiper-panel.swiper-container-multirow .swiper-wrapper,[riot-tag="swiper-panel"].swiper-container-multirow .swiper-wrapper,[data-is="swiper-panel"].swiper-container-multirow .swiper-wrapper{ overflow-y: hidden; } swiper-panel .swiper-slide,[riot-tag="swiper-panel"] .swiper-slide,[data-is="swiper-panel"] .swiper-slide{ text-align: center; background-color: #fff; position: static; } swiper-panel .swiper-slide:hover,[riot-tag="swiper-panel"] .swiper-slide:hover,[data-is="swiper-panel"] .swiper-slide:hover{ color: #1b335f; } swiper-panel .swiper-slide:hover:after,[riot-tag="swiper-panel"] .swiper-slide:hover:after,[data-is="swiper-panel"] .swiper-slide:hover:after{ background-color: rgba(0,0,0,0.04); } swiper-panel .swiper-slide:last-child,[riot-tag="swiper-panel"] .swiper-slide:last-child,[data-is="swiper-panel"] .swiper-slide:last-child{ margin-bottom: 20px; border-right-width: 1px; } swiper-panel .swiper-pagination-bullets,[riot-tag="swiper-panel"] .swiper-pagination-bullets,[data-is="swiper-panel"] .swiper-pagination-bullets{ bottom: 0 !important; height: 20px; } swiper-panel .swiper-slide > *,[riot-tag="swiper-panel"] .swiper-slide > *,[data-is="swiper-panel"] .swiper-slide > *{ text-align: left; margin: 0 auto; } swiper-panel .swiper-pagination-bullet,[riot-tag="swiper-panel"] .swiper-pagination-bullet,[data-is="swiper-panel"] .swiper-pagination-bullet{ background-color: #aeb4be; opacity: 1; } swiper-panel .swiper-pagination-bullet-active,[riot-tag="swiper-panel"] .swiper-pagination-bullet-active,[data-is="swiper-panel"] .swiper-pagination-bullet-active{ background-color: #444; } swiper-panel .swiper-button,[riot-tag="swiper-panel"] .swiper-button,[data-is="swiper-panel"] .swiper-button{ width: 24px; height: 44px; opacity: 1; margin-top: -43px; -moz-background-size: 12px 26px; -webkit-background-size: 12px 26px; background-size: 12px 26px; -webkit-transition: opacity 0.5s linear; -moz-transition: opacity 0.5s linear; transition: opacity 0.5s linear; } swiper-panel.no-pagination .swiper-button,[riot-tag="swiper-panel"].no-pagination .swiper-button,[data-is="swiper-panel"].no-pagination .swiper-button{ display: none; } swiper-panel.no-pagination .swiper-pagination-bullet,[riot-tag="swiper-panel"].no-pagination .swiper-pagination-bullet,[data-is="swiper-panel"].no-pagination .swiper-pagination-bullet{ background: transparent; } swiper-panel .swiper-button-prev,[riot-tag="swiper-panel"] .swiper-button-prev,[data-is="swiper-panel"] .swiper-button-prev{ border-top-right-radius: 7px; border-bottom-right-radius: 7px; left: 0; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M0%2C22L22%2C0l2.1%2C2.1L4.2%2C22l19.9%2C19.9L22%2C44L0%2C22L0%2C22L0%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } swiper-panel .swiper-button-prev:hover,[riot-tag="swiper-panel"] .swiper-button-prev:hover,[data-is="swiper-panel"] .swiper-button-prev:hover{ background-color: #0ba8a0; } swiper-panel .swiper-button-next,[riot-tag="swiper-panel"] .swiper-button-next,[data-is="swiper-panel"] .swiper-button-next{ border-top-left-radius: 7px; border-bottom-left-radius: 7px; right: 0; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } swiper-panel .swiper-button-next:hover,[riot-tag="swiper-panel"] .swiper-button-next:hover,[data-is="swiper-panel"] .swiper-button-next:hover{ background-color: #0ba8a0; } swiper-panel.disabled .swiper-wrapper,[riot-tag="swiper-panel"].disabled .swiper-wrapper,[data-is="swiper-panel"].disabled .swiper-wrapper{ width: auto !important; display: block !important; } swiper-panel.disabled .swiper-slide,[riot-tag="swiper-panel"].disabled .swiper-slide,[data-is="swiper-panel"].disabled .swiper-slide{ float: left; } swiper-panel[data-slides="1"] .swiper-button-prev,[riot-tag="swiper-panel"][data-slides="1"] .swiper-button-prev,[data-is="swiper-panel"][data-slides="1"] .swiper-button-prev,swiper-panel[data-slides="1"] .swiper-button-next,[riot-tag="swiper-panel"][data-slides="1"] .swiper-button-next,[data-is="swiper-panel"][data-slides="1"] .swiper-button-next,swiper-panel.disabled .swiper-pagination,[riot-tag="swiper-panel"].disabled .swiper-pagination,[data-is="swiper-panel"].disabled .swiper-pagination,swiper-panel.disabled .swiper-button-prev,[riot-tag="swiper-panel"].disabled .swiper-button-prev,[data-is="swiper-panel"].disabled .swiper-button-prev,swiper-panel.disabled .swiper-button-next,[riot-tag="swiper-panel"].disabled .swiper-button-next,[data-is="swiper-panel"].disabled .swiper-button-next{ display: none; } swiper-panel .swiper-button-next.swiper-button-disabled,[riot-tag="swiper-panel"] .swiper-button-next.swiper-button-disabled,[data-is="swiper-panel"] .swiper-button-next.swiper-button-disabled,swiper-panel .swiper-button-prev.swiper-button-disabled,[riot-tag="swiper-panel"] .swiper-button-prev.swiper-button-disabled,[data-is="swiper-panel"] .swiper-button-prev.swiper-button-disabled{ visibility: hidden; }','class="swiper-container"',function(t){var e,i,a=this,r=[],n=[];function o(){if(r.length)for(var t=a.root.swiper,e=t.params.slidesPerView,i=t.params.slidesPerColumn,o=Math.ceil(t.slides.length/i),s=t.activeIndex,l=0;l<i;l++)for(var d=0;d<e;d++){var c=l*o+d+s;c<t.slides.length&&!n[c]&&(r[c].update(),n[c]=!0)}}function s(){var t=a.root,e=window.getComputedStyle(t,":after").getPropertyValue("content").replace(/'|"/g,"");if("NONE"===i||document.body.contains(a.root)||(i="NONE"),e&&a.opts.items&&e!=i){i=e,t.swiper&&t.swiper.destroy(!0,!0);var s=e.split("x"),l={slidesPerView:+s[0],slidesPerColumn:+s[1],slidesPerColumnFill:"row",simulateTouch:!1,pagination:".swiper-pagination"},d=a.opts.items.length-s[0];d<0?(l.slidesOffsetBefore=-d*a.root.clientWidth/s[0]/2,a.root.classList.add("no-pagination")):(l.paginationClickable=!0,l.nextButton=".swiper-button-next",l.prevButton=".swiper-button-prev",l.onSlideChangeEnd=o,a.root.classList.remove("no-pagination")),new Swiper(t,l),t.setAttribute("data-slides",a.opts.items.length),setTimeout(function(){for(var t in n=[],a.tags)a.tags[t]instanceof Array?Array.prototype.push.apply(r,a.tags[t]):a.tags[t]&&r.push(a.tags[t]);o()},0)}}function l(){clearTimeout(e),e=setTimeout(s,100)}a.root.classList.contains("disabled")||(a.on("mount",function(){window.addEventListener("resize",l),window.addEventListener("orientationchage",l)}),a.on("updated",function(){setTimeout(l,1500)}))});
